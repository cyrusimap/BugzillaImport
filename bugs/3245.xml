<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>3245</bug_id>
          
          <creation_ts>2010-06-21 11:10 EDT</creation_ts>
          <short_desc>Add machine parsable option to unexpunge command</short_desc>
          <delta_ts>2010-06-21 11:10:56 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>IMAP</component>
          <version>2.3.x</version>
          <rep_platform>PC</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>NEW</bug_status>
          
          
          
          
          
          <priority>P5</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Brian Awood">bawood@umich.edu</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          <cc>wes@umich.edu</cc>
          <qa_contact name="The Cyrus Bugzilla List">cyrus-bugzilla@lists.andrew.cmu.edu</qa_contact>

      

      

      
          <long_desc isprivate="0">
            <who name="Brian Awood">bawood@umich.edu</who>
            <bug_when>2010-06-21 11:10:56 EDT</bug_when>
            <thetext>Created an attachment (id=1292)
add -m option to unexpunge

Attached patch adds -m option to be used in addition to -l for machine parsable output (one message per line with : between fields)</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1292</attachid>
            <date>2010-06-21 11:10 EDT</date>
            <desc>add -m option to unexpunge</desc>
            <filename>Add-machine-readable-m-option-to-unexpunge-command.patch</filename>
            <type>text/plain</type>
            <size>9205</size>
            <attacher>bawood@umich.edu</attacher>
            
              <data encoding="base64">ClRoaXMgcGF0Y2ggYWRkcyB0aGUgLW0gZmxhZyB0byBiZSBjb21iaW5lZCB3aXRoIC1sCm9wdGlv
biBvZiB0aGUgdW5leHB1bmdlIGNvbW1hbmQgc28gdGhlIGxpc3QgaXMgbW9yZQplYXNpbHkgcGFy
c2VkIHdpdGggcGVybCBvciBvdGhlciBzaW1pbGFyIHRvb2xzLgpPdXRwdXQgZm9yIGVhY2ggbWVz
c2FnZSBpcyBvbiBvbmUgbGluZSBhbmQgZmllbGRzCnNlcGFyYXRlZCB3aXRoICUgc2luY2UgdGhh
dCBjaGFyIHNob3VsZCBvbmx5IGJlCnBvc3NpYmxlIGluIHRoZSBTdWJqZWN0IGZpZWxkLgoKZGlm
ZiAtLWdpdCBhL2ltYXAvdW5leHB1bmdlLmMgYi9pbWFwL3VuZXhwdW5nZS5jCmluZGV4IDk1ODI0
YjUuLjg0OTQ5MzAgMTAwNjQ0Ci0tLSBhL2ltYXAvdW5leHB1bmdlLmMKKysrIGIvaW1hcC91bmV4
cHVuZ2UuYwpAQCAtOTIsNiArOTIsNyBAQCBleHRlcm4gdm9pZCBwYXJzZV9lbnZfYWRkcmVzcyhj
aGFyICpzdHIsIHN0cnVjdCBhZGRyZXNzICphZGRyKTsKIGNvbnN0IGludCBjb25maWdfbmVlZF9k
YXRhID0gMDsKIGludCAgdW5zZXRkZWxldGVkID0gMDsKIHRpbWVfdCB0aW1lX3NpbmNlOworY2hh
ciBzZXBjaGFyID0gJ1xuJzsKIAogZW51bSB7CiAgICAgTU9ERV9VTktOT1dOID0gLTEsCkBAIC0x
MzcsNiArMTM4LDIzIEBAIGludCBjb21wYXJlX21zZyhjb25zdCB2b2lkICphLCBjb25zdCB2b2lk
ICpiKQogICAgIHJldHVybiAoKHN0cnVjdCBtc2cgKikgYSktPnVpZCAtICgoc3RydWN0IG1zZyAq
KSBiKS0+dWlkOwogfQogCitpbnQgZXNjYXBlX3N0cmluZyhjaGFyICppbmJ1ZiwgaW50IGxlbiwg
Y2hhciAqb3V0YnVmLCBjb25zdCBjaGFyIGMpCit7CisgICAgaW50IHg7CisgICAgY2hhciAqcmV0
ID0gb3V0YnVmOworCisgICAgZm9yICggeCA9IDA7IHggPCBsZW47IHgrKyApIHsKKwlpZiAoICpp
bmJ1ZiAhPSBjICkgeworCSAgICAqb3V0YnVmKysgPSAqaW5idWYrKzsKKwl9IGVsc2UgeworCSAg
ICAqb3V0YnVmKysgPSAnXFwnOworCSAgICAqb3V0YnVmKysgPSAqaW5idWYrKzsKKwl9CisgICAg
fQorICAgICpvdXRidWYgPSAnXDAnOworICAgIHJldHVybiBzdHJsZW4ocmV0KTsKK30KKwogdm9p
ZCBsaXN0X2V4cHVuZ2VkKHN0cnVjdCBtYWlsYm94ICptYWlsYm94LAogCQkgICBzdHJ1Y3QgbXNn
ICptc2dzLCB1bnNpZ25lZCBsb25nIGV4aXN0cywKIAkJICAgY29uc3QgY2hhciAqZXhwdW5nZV9p
bmRleF9iYXNlKQpAQCAtMTQ2LDEwICsxNjQsMTMgQEAgdm9pZCBsaXN0X2V4cHVuZ2VkKHN0cnVj
dCBtYWlsYm94ICptYWlsYm94LAogICAgIHVuc2lnbmVkIGxvbmcgdWlkLCBzaXplLCBjYWNoZV9v
ZmZzZXQ7CiAgICAgdGltZV90IGludGVybmFsZGF0ZSwgc2VudGRhdGUsIGxhc3RfdXBkYXRlZDsK
ICAgICBjYWNoZXJlY29yZCBjcmVjOwotICAgIGludCBjYWNoZWxlbjsKKyAgICBpbnQgY2FjaGVs
ZW4sIGRhdGVsZW47CiAgICAgY2hhciAqZW52OwogICAgIGNoYXIgKmVudnRva2Vuc1tOVU1FTlZU
T0tFTlNdOwogICAgIHN0cnVjdCBhZGRyZXNzIGFkZHI7CisgICAgY2hhciBkYXRlWzIwMF07Cisg
ICAgY2hhciAqZm9ybWF0ID0gIiVjIjsKKyAgICBjaGFyICplc2NzdHI7CiAKICAgICBmb3IgKG1z
Z25vID0gMDsgbXNnbm8gPCBleGlzdHM7IG1zZ25vKyspIHsKIAkvKiBKdW1wIHRvIGluZGV4IHJl
Y29yZCBmb3IgdGhpcyBtZXNzYWdlICovCkBAIC0xNjIsMTIgKzE4MywyMiBAQCB2b2lkIGxpc3Rf
ZXhwdW5nZWQoc3RydWN0IG1haWxib3ggKm1haWxib3gsCiAJc2l6ZSA9IG50b2hsKCooKGJpdDMy
ICopKHJlYytPRkZTRVRfU0laRSkpKTsKIAljYWNoZV9vZmZzZXQgPSBudG9obCgqKChiaXQzMiAq
KShyZWMrT0ZGU0VUX0NBQ0hFX09GRlNFVCkpKTsKIAlsYXN0X3VwZGF0ZWQgPSBudG9obCgqKChi
aXQzMiAqKShyZWMrT0ZGU0VUX0xBU1RfVVBEQVRFRCkpKTsKLQotCXByaW50ZigiVUlEOiAlbHVc
biIsIHVpZCk7Ci0JcHJpbnRmKCJcdFNpemU6ICVsdVxuIiwgc2l6ZSk7Ci0JcHJpbnRmKCJcdFNl
bnQ6ICVzIiwgY3RpbWUoJnNlbnRkYXRlKSk7Ci0JcHJpbnRmKCJcdFJlY3Y6ICVzIiwgY3RpbWUo
JmludGVybmFsZGF0ZSkpOwotCXByaW50ZigiXHRFeHBnOiAlcyIsIGN0aW1lKCZsYXN0X3VwZGF0
ZWQpKTsKKwlkYXRlbGVuID0gc3RybGVuKGN0aW1lKCZpbnRlcm5hbGRhdGUpKTsKKworCWlmIChz
ZXBjaGFyICE9ICdcbicpIHByaW50ZigiJXMlYyIsIG1haWxib3gtPm5hbWUsIHNlcGNoYXIpOwor
CWlmIChzZXBjaGFyID09ICdcbicpIHByaW50ZigiVUlEOiAiKTsKKwlwcmludGYoIiVsdSVjIiwg
dWlkLCBzZXBjaGFyKTsKKwlpZiAoc2VwY2hhciA9PSAnXG4nKSBwcmludGYoIlx0U2l6ZTogIik7
CisJcHJpbnRmKCIlbHUlYyIsIHNpemUsIHNlcGNoYXIpOworCWlmIChzZXBjaGFyID09ICdcbicp
IHByaW50ZigiXHRTZW50OiAiKTsKKwlzdHJmdGltZSggZGF0ZSwgc2l6ZW9mKGRhdGUpLCBmb3Jt
YXQsIGxvY2FsdGltZSgmc2VudGRhdGUpKTsKKwlwcmludGYoIiVzJWMiLCBkYXRlLCBzZXBjaGFy
KTsKKwlpZiAoc2VwY2hhciA9PSAnXG4nKSBwcmludGYoIlx0UmVjdjogIik7CisJc3RyZnRpbWUo
IGRhdGUsIHNpemVvZihkYXRlKSwgZm9ybWF0LCBsb2NhbHRpbWUoJmludGVybmFsZGF0ZSkpOwor
CXByaW50ZigiJXMlYyIsIGRhdGUsIHNlcGNoYXIpOworCWlmIChzZXBjaGFyID09ICdcbicpIHBy
aW50ZigiXHRFeHBnOiAiKTsKKwlzdHJmdGltZSggZGF0ZSwgc2l6ZW9mKGRhdGUpLCBmb3JtYXQs
IGxvY2FsdGltZSgmbGFzdF91cGRhdGVkKSk7CisJcHJpbnRmKCIlcyVjIiwgZGF0ZSwgc2VwY2hh
cik7CiAKIAlpZiAoKGNhY2hlbGVuID0gbWFpbGJveF9jYWNoZXJlY29yZF9vZmZzZXQobWFpbGJv
eCwKIAkJCWNhY2hlX29mZnNldCwgJmNyZWMpKSA9PSAwKSB7CkBAIC0xNzksMzkgKzIxMCw1NyBA
QCB2b2lkIGxpc3RfZXhwdW5nZWQoc3RydWN0IG1haWxib3ggKm1haWxib3gsCiAKIAlpZiAoIGVu
dnRva2Vuc1sgRU5WX0ZST00gXSApIHsKIAkgICAgcGFyc2VfZW52X2FkZHJlc3MoIGVudnRva2Vu
c1sgRU5WX0ZST00gXSwgJmFkZHIgKTsKLQkgICAgcHJpbnRmKCJcdEZyb206ICIgKTsKKwkgICAg
aWYgKHNlcGNoYXIgPT0gJ1xuJykgcHJpbnRmKCJcdEZyb206ICIgKTsKIAkgICAgaWYgKCBhZGRy
Lm5hbWUgKSBwcmludGYoIlwiJXNcIiAiLCBhZGRyLm5hbWUgKTsKLQkgICAgcHJpbnRmKCAiPCVz
QCVzPlxuIiwgYWRkci5tYWlsYm94LCBhZGRyLmRvbWFpbiApOworCSAgICBwcmludGYoICI8JXNA
JXM+JWMiLCBhZGRyLm1haWxib3gsIGFkZHIuZG9tYWluLCBzZXBjaGFyICk7CiAJfSBlbHNlIHsK
LQkgICAgcHJpbnRmKCJcdEZyb206IFxuIiApOworCSAgICBpZiAoc2VwY2hhciA9PSAnXG4nKSBw
cmludGYoIlx0RnJvbTogXG4iICk7CisJICAgIGVsc2UgcHJpbnRmKCAiJWMiLCBzZXBjaGFyICk7
CiAJfQogCWlmICggZW52dG9rZW5zWyBFTlZfVE8gXSApIHsKIAkgICAgcGFyc2VfZW52X2FkZHJl
c3MoIGVudnRva2Vuc1sgRU5WX1RPIF0sICZhZGRyICk7Ci0JICAgIHByaW50ZigiXHRUbyAgOiAi
ICk7CisJICAgIGlmIChzZXBjaGFyID09ICdcbicpIHByaW50ZigiXHRUbyAgOiAiICk7CiAJICAg
IGlmICggYWRkci5uYW1lICkgcHJpbnRmKCJcIiVzXCIgIiwgYWRkci5uYW1lICk7Ci0JICAgIHBy
aW50ZiggIjwlc0Alcz5cbiIsIGFkZHIubWFpbGJveCwgYWRkci5kb21haW4gKTsKKwkgICAgcHJp
bnRmKCAiPCVzQCVzPiVjIiwgYWRkci5tYWlsYm94LCBhZGRyLmRvbWFpbiwgc2VwY2hhciApOwog
CX0gZWxzZSB7Ci0JICAgIHByaW50ZigiXHRUbyAgOiBcbiIgKTsKKwkgICAgaWYgKHNlcGNoYXIg
PT0gJ1xuJykgcHJpbnRmKCJcdFRvICA6IFxuIiApOworCSAgICBlbHNlIHByaW50ZiggIiVjIiwg
c2VwY2hhciApOwogCX0KIAlpZiAoIGVudnRva2Vuc1sgRU5WX0NDIF0gKSB7CiAJICAgIHBhcnNl
X2Vudl9hZGRyZXNzKCBlbnZ0b2tlbnNbIEVOVl9DQyBdLCAmYWRkciApOwotCSAgICBwcmludGYo
Ilx0Q2MgIDogIiApOworCSAgICBpZiAoc2VwY2hhciA9PSAnXG4nKSBwcmludGYoIlx0Q2MgIDog
IiApOwogCSAgICBpZiAoIGFkZHIubmFtZSApIHByaW50ZigiXCIlc1wiICIsIGFkZHIubmFtZSAp
OwotCSAgICBwcmludGYoICI8JXNAJXM+XG4iLCBhZGRyLm1haWxib3gsIGFkZHIuZG9tYWluICk7
CisJICAgIHByaW50ZiggIjwlc0Alcz4lYyIsIGFkZHIubWFpbGJveCwgYWRkci5kb21haW4sIHNl
cGNoYXIgKTsKIAl9IGVsc2UgewotCSAgICBwcmludGYoIlx0Q2MgIDogXG4iICk7CisJICAgIGlm
IChzZXBjaGFyID09ICdcbicpIHByaW50ZigiXHRDYyAgOiBcbiIgKTsKKwkgICAgZWxzZSBwcmlu
dGYoICIlYyIsIHNlcGNoYXIgKTsKIAl9CiAJaWYgKCBlbnZ0b2tlbnNbIEVOVl9CQ0MgXSApIHsK
IAkgICAgcGFyc2VfZW52X2FkZHJlc3MoIGVudnRva2Vuc1sgRU5WX0JDQyBdLCAmYWRkciApOwot
CSAgICBwcmludGYoIlx0QmNjIDogIiApOworCSAgICBpZiAoc2VwY2hhciA9PSAnXG4nKSBwcmlu
dGYoIlx0QmNjIDogIiApOwogCSAgICBpZiAoIGFkZHIubmFtZSApIHByaW50ZigiXCIlc1wiICIs
IGFkZHIubmFtZSApOwotCQlwcmludGYoICI8JXNAJXM+XG4iLCBhZGRyLm1haWxib3gsIGFkZHIu
ZG9tYWluICk7CisJCXByaW50ZiggIjwlc0Alcz4lYyIsIGFkZHIubWFpbGJveCwgYWRkci5kb21h
aW4sIHNlcGNoYXIgKTsKKwl9IGVsc2UgeworCSAgICBpZiAoc2VwY2hhciA9PSAnXG4nKSBwcmlu
dGYoIlx0QmNjIDogXG4iICk7CisJICAgIGVsc2UgcHJpbnRmKCAiJWMiLCBzZXBjaGFyICk7CisJ
fQorCWlmICggZW52dG9rZW5zWyBFTlZfU1VCSkVDVCBdICkgeworCSAgICBpZiAoIHNlcGNoYXIg
IT0gJ1xuJyApIHsKKwkJY2FjaGVsZW4gPSBzdHJsZW4oZW52dG9rZW5zW0VOVl9TVUJKRUNUXSk7
CisJCWVzY3N0ciA9IHhtYWxsb2MoIDIgKiBjYWNoZWxlbiArIDEgKTsKKwkJaWYgKCBlc2NhcGVf
c3RyaW5nKCBlbnZ0b2tlbnNbRU5WX1NVQkpFQ1RdLCBjYWNoZWxlbiwKKwkJCQllc2NzdHIsICcl
JyApICE9IDAgKSB7CisJCSAgICBwcmludGYoIiVzIiwgZXNjc3RyKTsKKwkJfQorCQlmcmVlIChl
c2NzdHIpOworCSAgICB9IGVsc2UgeworCQlwcmludGYoIlx0U3ViajogJXNcbiIsIGVudnRva2Vu
c1sgRU5WX1NVQkpFQ1QgXSk7CisJICAgIH0KIAl9IGVsc2UgewotCSAgICBwcmludGYoIlx0QmNj
IDogXG4iICk7CisJICAgIGlmIChzZXBjaGFyID09ICdcbicpIHByaW50ZigiXHRTdWJqOlxuIik7
CiAJfQotCXByaW50ZigiXHRTdWJqOiAlc1xuXG4iLCBlbnZ0b2tlbnNbRU5WX1NVQkpFQ1RdKTsK
KwlwcmludGYoIlxuIik7CiAJZnJlZSAoZW52KTsKLQogICAgIH0KIH0KIApAQCAtNTE0LDkgKzU2
MywxMyBAQCB1bmV4cHVuZ2UoY2hhciAqbWJveG5hbWUsIHVuc2lnbmVkIGxvbmcgKnVpZHMsIHVu
c2lnbmVkIG51aWRzKQogCiAgICAgaWYgKHIpIHsKIAkvKiBtYWlsYm94IGNvcnJ1cHQvbm9uZXhp
c3RlbnQgLS0gc2tpcCBpdCAqLwotCXN5c2xvZyhMT0dfV0FSTklORywgInVuYWJsZSB0byBvcGVu
L2xvY2sgbWFpbGJveCAlcyIsIG1ib3huYW1lKTsKLQlpZiAoZG9jbG9zZSkgbWFpbGJveF9jbG9z
ZSgmbWFpbGJveCk7Ci0JcmV0dXJuIDA7CisJaWYgKGRvY2xvc2UpIHsKKwkgICAgc3lzbG9nKExP
R19XQVJOSU5HLCAidW5hYmxlIHRvIG9wZW4vbG9jayBtYWlsYm94IGluZGV4ICVzIiwgbWJveG5h
bWUpOworCSAgICBtYWlsYm94X2Nsb3NlKCZtYWlsYm94KTsKKwl9IGVsc2UgeworCSAgICBzeXNs
b2coTE9HX1dBUk5JTkcsICJ1bmFibGUgdG8gb3BlbiBtYWlsYm94IGhlYWRlciAlcyIsIG1ib3hu
YW1lKTsKKwl9CisJcmV0dXJuIHI7CiAgICAgfQogCiAgICAgLyogT3BlbiBleHB1bmdlIGluZGV4
ICovCkBAIC01NDAsNyArNTkzLDcgQEAgdW5leHB1bmdlKGNoYXIgKm1ib3huYW1lLCB1bnNpZ25l
ZCBsb25nICp1aWRzLCB1bnNpZ25lZCBudWlkcykKIAkJCSAgICAgbWFpbGJveC5uYW1lLCBOVUxM
LCBidWYpOwogCSAgICBwcmludGYoIiVzOiAwXG4iLCBidWYpOwogCX0KLQkvKiBtYWlsYm94IGNv
cnJ1cHQvbm9uZXhpc3RlbnQgLS0gc2tpcCBpdCAqLworCS8qIG1haWxib3ggZXhwdW5nZSBmaWxl
IG5vbmV4aXN0ZW50IC0tIHNraXAgaXQgKi8KIAlzeXNsb2coTE9HX1dBUk5JTkcsICJ1bmFibGUg
dG8gb3BlbiAlczogJW0iLCBleHB1bmdlX2ZuYW1lKTsKIAlpZiAoZG9jbG9zZSkgbWFpbGJveF9j
bG9zZSgmbWFpbGJveCk7CiAJcmV0dXJuIDA7CkBAIC01NjQsMjMgKzYxNywyNSBAQCB1bmV4cHVu
Z2UoY2hhciAqbWJveG5hbWUsIHVuc2lnbmVkIGxvbmcgKnVpZHMsIHVuc2lnbmVkIG51aWRzKQog
CWlmIChzYnVmLnN0X3NpemUgPCBJTkRFWF9IRUFERVJfU0laRSkgewogCSAgICBzeXNsb2coTE9H
X0VSUiwgIkVSUk9SOiAlcyBjeXJ1cy5leHB1bmdlIGludmFsaWQiLAogCQkgICAgbWFpbGJveC5u
YW1lKTsKLQkgICAgZ290byBkb25lOworCSAgICByID0gSU1BUF9JT0VSUk9SOwogCX0KIAotCWV4
aXN0cyA9IG50b2hsKCooKGJpdDMyICopKGV4cHVuZ2VfaW5kZXhfYmFzZStPRkZTRVRfRVhJU1RT
KSkpOwotCWlmIChzYnVmLnN0X3NpemUgPCAoIElOREVYX0hFQURFUl9TSVpFICsgKGV4aXN0cyAq
IElOREVYX1JFQ09SRF9TSVpFKSkpIHsKLQkgICAgc3lzbG9nKExPR19FUlIsCi0JCSAgICAiRVJS
T1I6ICVzIGN5cnVzLmV4cHVuZ2UgdG9vIHNob3J0IGZvciAlbHUgbWVzc2FnZXMiLAorCWlmICgh
cikgZXhpc3RzID0gbnRvaGwoKigoYml0MzIgKikoZXhwdW5nZV9pbmRleF9iYXNlK09GRlNFVF9F
WElTVFMpKSk7CisJaWYgKCFyICYmIHNidWYuc3Rfc2l6ZSA8ICggSU5ERVhfSEVBREVSX1NJWkUg
KyAoZXhpc3RzICogSU5ERVhfUkVDT1JEX1NJWkUpKSkgeworCSAgICBzeXNsb2coTE9HX0VSUiwg
IkVSUk9SOiAlcyBjeXJ1cy5leHB1bmdlIHRvbyBzaG9ydCBmb3IgJWx1IG1lc3NhZ2VzIiwKIAkJ
ICAgIG1haWxib3gubmFtZSwgZXhpc3RzKTsKLQkgICAgZ290byBkb25lOworCSAgICByID0gSU1B
UF9JT0VSUk9SOwogCX0KIAogICAgIGlmIChtb2RlID09IE1PREVfQ09VTlQpIHsKIAkvKiBUcmFu
c2xhdGUgbWFpbGJveG5hbWUgKi8KIAljaGFyIGJ1ZltNQVhfTUFJTEJPWF9QQVRIKzFdOwogCSgq
dW5leF9uYW1lc3BhY2UubWJveG5hbWVfdG9leHRlcm5hbCkoJnVuZXhfbmFtZXNwYWNlLCBtYWls
Ym94Lm5hbWUsIE5VTEwsIGJ1Zik7Ci0JcHJpbnRmKCIlczogJWx1XG4iLCBidWYsIGV4aXN0cyk7
Ci0gICAgfSBlbHNlIHsKKwkvKiBpbiBjb3VudCBtb2RlLCBpZiB0aGVyZSdzIGEgcHJvYmxlbSwg
cHJpbnQgYW4gZXJyb3IgYW5kIGNvbnRpbnVlICovCisJaWYgKCFyKSBwcmludGYoIiVzOiAlbHVc
biIsIGJ1ZiwgZXhpc3RzKTsKKwllbHNlIHByaW50ZigiJXM6IC0xXG4iLCBidWYpOworCXIgPSAw
OworICAgIH0gZWxzZSBpZiAoIXIpIHsKIAltc2dzID0gKHN0cnVjdCBtc2cgKikgeG1hbGxvYyhl
eGlzdHMgKiBzaXplb2Yoc3RydWN0IG1zZykpOwogCiAJLyogR2V0IFVJRHMgb2YgZXhwdW5nZWQg
bWVzc2FnZXMgKi8KQEAgLTY3Miw3ICs3MjcsNyBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAq
YXJndltdKQogCWZhdGFsKCJtdXN0IHJ1biBhcyB0aGUgQ3lydXMgdXNlciIsIEVDX1VTQUdFKTsK
ICAgICB9CiAKLSAgICB3aGlsZSAoKG9wdCA9IGdldG9wdChhcmdjLCBhcmd2LCAiQzpsYXVkdDp2
Y3IiKSkgIT0gRU9GKSB7CisgICAgd2hpbGUgKChvcHQgPSBnZXRvcHQoYXJnYywgYXJndiwgIkM6
bGF1ZHQ6dmNybSIpKSAhPSBFT0YpIHsKIAlzd2l0Y2ggKG9wdCkgewogCWNhc2UgJ0MnOiAvKiBh
bHQgY29uZmlnIGZpbGUgKi8KIAkgICAgYWx0X2NvbmZpZyA9IG9wdGFyZzsKQEAgLTczNyw2ICs3
OTIsMTEgQEAgaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKIAkgICAgcmVjdXJzaXZl
ID0gMTsKIAkgICAgYnJlYWs7CiAKKwljYXNlICdtJzoKKwkgICAgaWYgKG1vZGUgIT0gTU9ERV9M
SVNUKSB1c2FnZSgpOworCSAgICBzZXBjaGFyID0gJyUnOworCSAgICBicmVhazsKKwkKIAlkZWZh
dWx0OgogCSAgICB1c2FnZSgpOwogCSAgICBicmVhazsKQEAgLTc4OCw3ICs4NDgsNiBAQCBpbnQg
bWFpbihpbnQgYXJnYywgY2hhciAqYXJndltdKQogCXN0cmxjYXQoYnVmLCAiKiIsIHNpemVvZihi
dWYpKTsKIAlyID0gKCp1bmV4X25hbWVzcGFjZS5tYm94bGlzdF9maW5kYWxsKSgmdW5leF9uYW1l
c3BhY2UsIGJ1ZiwgMSwgMCwgMCwKIAkJCQkJICAgZG9fdW5leHB1bmdlLCBOVUxMKTsKLS8qIFhY
WCBjYWxsIHVuZXhwdW5nZSBhcHByb3ByaWF0ZWx5IFhYWCAqLwogICAgIH0KIAogICAgIGlmICh1
aWRzKSBmcmVlKHVpZHMpOwpkaWZmIC0tZ2l0IGEvbWFuL3VuZXhwdW5nZS44IGIvbWFuL3VuZXhw
dW5nZS44CmluZGV4IDMxNTJhZjAuLjk1NWY2N2IgMTAwNjQ0Ci0tLSBhL21hbi91bmV4cHVuZ2Uu
OAorKysgYi9tYW4vdW5leHB1bmdlLjgKQEAgLTUwLDYgKzUwLDkgQEAgdW5leHB1bmdlIFwtIHJl
c3RvcmUgZXhwdW5nZWQgKGJ1dCB5ZXQgdW5yZW1vdmVkKSBtZXNzYWdlcwogLkkgY29uZmlnLWZp
bGUKIF0KIC5CIFwtbAorWworLkIgXC1tCitdCiAuSSBtYWlsYm94CiAuYnIKIC5CIHVuZXhwdW5n
ZQpAQCAtMTIwLDYgKzEyMywxMiBAQCBmaWxlLgogTGlzdCB0aGUgZXhwdW5nZWQgbWVzc2FnZXMg
aW4gdGhlIHNwZWNpZmllZCBtYWlsYm94IHdoaWNoIGFyZSBhdmFpbGFibGUKIGZvciByZXN0b3Jh
dGlvbi4KIC5UUAorLkIgXC1tCitXaGVuIGxpc3Rpbmcgd2l0aCAtbCwgcHJpbnQgZGF0YSBmaWVs
ZHMgZm9yIGVhY2ggbWVzc2FnZSBvbiBvbmUKK2xpbmUgc2VwYXJhdGVkIGJ5ICclJy4gIE9jY3Vy
YW5jZXMgb2YgJyUnIGluIGEgU3ViamVjdCBmaWVsZCBhcmUgZXNjYXBlZAord2l0aCBhICdcXCcu
ICBEYXRhIGlzIGluIHRoZSBzYW1lIG9yZGVyIGFzIHBsYWluIC1sLCB3aXRoIHRoZSBhZGRpdGlv
biBvZgordGhlIG1haWxib3ggbmFtZSBpbiB0aGUgZmlyc3QgZmllbGQsIGhvd2V2ZXIgZmllbGQg
dGl0bGVzIGFyZSBub3QgaW5jbHVkZWQuCisuVFAKIC5CSSBcLXQgIiB0aW1lLWludGVydmFsIgog
VW5leHB1bmdlIG1lc3NhZ2VzIHdoaWNoIHdlcmUgZXhwdW5nZWQgaW4gdGhlIGxhc3QgdGltZS1p
bnRlcnZhbCBzZWNvbmRzLgogKG1vZGlmaWVyczogbTogbWludXRlcywgaDogaG91cnMsIGQ6IGRh
eXMsIHc6IHdlZWtzKS4KLS0gCjEuNy4wLjMKCg==
</data>        

          </attachment>
      

    </bug>

</bugzilla>