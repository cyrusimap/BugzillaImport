<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>3078</bug_id>
          
          <creation_ts>2008-09-11 21:48 EDT</creation_ts>
          <short_desc>Skiplist safe unlock</short_desc>
          <delta_ts>2010-10-25 18:46:46 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>lib</component>
          <version>2.3.x</version>
          <rep_platform>Other</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Bron Gondwana">brong@fastmail.fm</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          

      

      

      
          <long_desc isprivate="0">
            <who name="Bron Gondwana">brong@fastmail.fm</who>
            <bug_when>2008-09-11 21:48:52 EDT</bug_when>
            <thetext>This patch just adds unlocks within the myconsistent() function and adds an option to cyr_dbtool to check consistency.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Bron Gondwana">brong@fastmail.fm</who>
            <bug_when>2008-09-11 21:49:41 EDT</bug_when>
            <thetext>Created an attachment (id=1010)
safe unlock in myconsistent

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Ken Murchison">murch@andrew.cmu.edu</who>
            <bug_when>2008-09-23 12:39:26 EDT</bug_when>
            <thetext>Applied to CVS</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1010</attachid>
            <date>2008-09-11 21:49 EDT</date>
            <desc>safe unlock in myconsistent</desc>
            <filename>cyrus-skiplist-safeunlock-2.3.12.diff</filename>
            <type>text/plain</type>
            <size>2062</size>
            <attacher>brong@fastmail.fm</attacher>
            
              <data encoding="base64">SW5kZXg6IGN5cnVzLWltYXBkLTIuMy4xMnAyL2xpYi9jeXJ1c2RiX3NraXBsaXN0LmMKPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQotLS0gY3lydXMtaW1hcGQtMi4zLjEycDIub3JpZy9saWIvY3lydXNkYl9za2lwbGlzdC5j
CTIwMDgtMDktMTIgMDg6NTc6MjYuMDAwMDAwMDAwICsxMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMu
MTJwMi9saWIvY3lydXNkYl9za2lwbGlzdC5jCTIwMDgtMDktMTIgMDg6NTc6MjYuMDAwMDAwMDAw
ICsxMDAwCkBAIC0xOTQyLDYgKzE5NDIsNyBAQAogCQkJImVvZiBpcyAlMDRYXG4iLCAKIAkJCXB0
ciAtIGRiLT5tYXBfYmFzZSwKIAkJCWksIG9mZnNldCwgKHVuc2lnbmVkIGludCkgZGItPm1hcF9z
aXplKTsKKwkJaWYgKCFsb2NrZWQpIHVubG9jayhkYik7CiAJCXJldHVybiBDWVJVU0RCX0lOVEVS
TkFMOwogCSAgICB9CiAKQEAgLTE5NTgsNiArMTk1OSw3IEBACiAJCQkgICAgcHRyIC0gZGItPm1h
cF9iYXNlLAogCQkJICAgIGksCiAJCQkgICAgb2Zmc2V0LCBjbXApOworCQkgICAgaWYgKCFsb2Nr
ZWQpIHVubG9jayhkYik7CiAJCSAgICByZXR1cm4gQ1lSVVNEQl9JTlRFUk5BTDsKIAkJfQogCSAg
ICB9CkluZGV4OiBjeXJ1cy1pbWFwZC0yLjMuMTJwMi9pbWFwL2N5cl9kYnRvb2wuYwo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09Ci0tLSBjeXJ1cy1pbWFwZC0yLjMuMTJwMi5vcmlnL2ltYXAvY3lyX2RidG9vbC5jCTIwMDgt
MDktMTIgMDg6NTc6MjEuMDAwMDAwMDAwICsxMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuMTJwMi9p
bWFwL2N5cl9kYnRvb2wuYwkyMDA4LTA5LTEyIDA4OjU3OjI2LjAwMDAwMDAwMCArMTAwMApAQCAt
MjQ1LDYgKzI0NSwxMCBAQAogICAgICAgICAgICAga2V5bGVuID0gc3RybGVuKGtleSk7CiAgICAg
ICAgICAgICBEQl9PTEQtPmZvcmVhY2gob2RiLCBrZXksIGtleWxlbiwgTlVMTCwgcHJpbnRlcl9j
YiwgTlVMTCwgJnRpZCk7CiAgICAgICAgIH0KKyAgICB9IGVsc2UgaWYgKCFzdHJjbXAoYWN0aW9u
LCAiY29uc2lzdGVuY3kiKSkgeworICAgICAgICBpZiAoREJfT0xELT5jb25zaXN0ZW50KG9kYikp
IHsKKyAgICAgICAgICAgIHByaW50ZigiQ29uc2lzdGVuY3kgRXJyb3IgZm9yICVzXG4iLCBvbGRf
ZGIpOworICAgICAgICB9CiAgICAgfSBlbHNlIHsKICAgICAgICAgcHJpbnRmKCJVbmtub3duIGFj
dGlvbiAlc1xuIiwgYWN0aW9uKTsKICAgICB9CkluZGV4OiBjeXJ1cy1pbWFwZC0yLjMuMTJwMi9t
YW4vY3lyX2RidG9vbC44Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIGN5cnVzLWltYXBkLTIuMy4xMnAyLm9yaWcv
bWFuL2N5cl9kYnRvb2wuOAkyMDA4LTA5LTEyIDExOjQ1OjQ5LjAwMDAwMDAwMCArMTAwMAorKysg
Y3lydXMtaW1hcGQtMi4zLjEycDIvbWFuL2N5cl9kYnRvb2wuOAkyMDA4LTA5LTEyIDExOjQ2OjU2
LjAwMDAwMDAwMCArMTAwMApAQCAtNzEsMTIgKzcxLDE3IEBACiAuUFAKIC5CSSBkZWxldGUgIiA8
a2V5PiIKIC5QUAorLkJJIGNvbnNpc3RlbmN5CisuUFAKIFlvdSBtYXkgb21pdCBrZXkgb3Iga2V5
L3ZhbHVlIGFuZCBzcGVjaWZ5IG9uZSBwZXIgbGluZSBvbiBzdGRpbi4gS2V5cyBhcmUKIHRlcm1p
bmF0ZWQgYnkgdGFiIG9yIG5ld2xpbmUsIHZhbHVlcyBhcmUgdGVybWluYXRlZCBieSBuZXdsaW5l
LgogLlBQCiBSdW5uaW5nIHdpdGhvdXQgYW55IG9wdGlvbnMgd2lsbCBsaXN0IHRoZSBhdmFpbGFi
bGUgZGF0YWJhc2UgYmFja2VuZHMgYW5kCiB1c2FibGUgYWN0aW9ucy4KIC5QUAorVGhlICdjb25z
aXN0ZW5jeScgY29tbWFuZCBydW5zIGEgY29uc2lzdGVuY3kgY2hlY2sgb24gdGhlIERCIGJ5IGNh
bGxpbmcKKydteWNvbnNpc3RlbnQnIG9uIGl0LgorLlBQCiAuSSBjeXJfZGJ0b29sCiByZWFkcyBh
bnkgYXBwbGljYWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgb3V0IG9mIHRoZQogLklSIGltYXBk
LmNvbmYgKDUpCg==
</data>        

          </attachment>
      

    </bug>

</bugzilla>