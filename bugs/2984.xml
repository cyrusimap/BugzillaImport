<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>2984</bug_id>
          
          <creation_ts>2007-08-09 09:09 EDT</creation_ts>
          <short_desc>Compiler warning fixes</short_desc>
          <delta_ts>2010-10-25 18:46:43 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>Sieve</component>
          <version>2.3.x</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          <priority>P5</priority>
          <bug_severity>bug</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Timo Sirainen">tss@iki.fi</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          

      

      

      
          <long_desc isprivate="0">
            <who name="Timo Sirainen">tss@iki.fi</who>
            <bug_when>2007-08-09 09:09:38 EDT</bug_when>
            <thetext>Created an attachment (id=948)
Fix &quot;comparison between signed and unsigned&quot; warnings

sieve-signedness.patch: Compiling with gcc -W gives several warnings. This patch fixes some of them.

sieve-static.patch: Makes a lot of functions static that I don&apos;t see any reason not to be. gcc -Wmissing-prototypes finds these easily.

sieve-const.patch: Avoid casting a const pointer to non-const pointer.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Timo Sirainen">tss@iki.fi</who>
            <bug_when>2007-08-09 09:10:17 EDT</bug_when>
            <thetext>Created an attachment (id=949)
Fix &quot;no previous prototype for ..&quot; warnings

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Timo Sirainen">tss@iki.fi</who>
            <bug_when>2007-08-09 09:10:44 EDT</bug_when>
            <thetext>Created an attachment (id=950)
Avoid dropping const

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Timo Sirainen">tss@iki.fi</who>
            <bug_when>2007-08-09 09:11:46 EDT</bug_when>
            <thetext>Whops, shouldn&apos;t be a blocker. :) I guess deficiency, or maybe feature..
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Ken Murchison">murch@andrew.cmu.edu</who>
            <bug_when>2007-09-27 15:31:45 EDT</bug_when>
            <thetext>Applied patches to CVS, plus a dew of my own</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>948</attachid>
            <date>2007-08-09 09:09 EDT</date>
            <desc>Fix &quot;comparison between signed and unsigned&quot; warnings</desc>
            <filename>sieve-signedness.patch</filename>
            <type>text/plain</type>
            <size>2337</size>
            <attacher>tss@iki.fi</attacher>
            
              <data encoding="base64">SW5kZXg6IGFkZHItbGV4LmwKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2cy9zcmMvc2lldmUvYWRk
ci1sZXgubCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS45CmRpZmYgLXUgLXIxLjkgYWRkci1sZXgu
bAotLS0gYWRkci1sZXgubAkzMCBOb3YgMjAwNiAxNzoxMToyNCAtMDAwMAkxLjkKKysrIGFkZHIt
bGV4LmwJOSBBdWcgMjAwNyAxMjo1NDoxNiAtMDAwMApAQCAtODMsNyArODMsNyBAQAogICAgIGV4
dGVybiBjaGFyICphZGRycHRyOwkvKiBjdXJyZW50IHBvc2l0aW9uIGluIGFkZHJlc3Mgc3RyaW5n
ICovCiAgICAgc2l6ZV90IG47CQkJLyogbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gcmVhZCBmcm9t
IHN0cmluZyAqLwogCi0gICAgbiA9IHN0cmxlbihhZGRycHRyKSA8IG1heF9zaXplID8gc3RybGVu
KGFkZHJwdHIpIDogbWF4X3NpemU7CisgICAgbiA9IChpbnQpc3RybGVuKGFkZHJwdHIpIDwgbWF4
X3NpemUgPyAoaW50KXN0cmxlbihhZGRycHRyKSA6IG1heF9zaXplOwogICAgIGlmIChuID4gMCkg
ewogCW1lbWNweShidWYsIGFkZHJwdHIsIG4pOwogCWFkZHJwdHIgKz0gbjsKSW5kZXg6IGJjX2V2
YWwuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zaWV2ZS9iY19ldmFsLmMsdgpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuOApkaWZmIC11IC1yMS44IGJjX2V2YWwuYwotLS0gYmNfZXZhbC5j
CTMwIE5vdiAyMDA2IDE3OjExOjI0IC0wMDAwCTEuOAorKysgYmNfZXZhbC5jCTkgQXVnIDIwMDcg
MTI6NTQ6MTYgLTAwMDAKQEAgLTk1OCw3ICs5NTgsNyBAQAogICAgICAgIG9yZGVyLiAgYWxsIHRo
ZSBzY3JpcHRzIHdyaXR0ZW4gdGhlbiB3b3VsZCBoYXZlIHZlcnNpb24gMHgwMSB3cml0dGVuCiAg
ICAgICAgaW4gaG9zdCBieXRlIG9yZGVyLiovCiAKLSAgICAgaWYodmVyc2lvbiA9PSBudG9obCgx
KSkgeworICAgICBpZih2ZXJzaW9uID09IChpbnQpbnRvaGwoMSkpIHsKIAlpZihlcnJtc2cpIHsK
IAkgICAgKmVycm1zZyA9CiAJCSJJbmNvcnJlY3QgQnl0ZWNvZGUgVmVyc2lvbiwgcGxlYXNlIHJl
Y29tcGlsZSAodXNlIHNpZXZlYykiOwpJbmRleDogbWVzc2FnZS5jCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZp
bGU6IC9jdnMvc3JjL3NpZXZlL21lc3NhZ2UuYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4yOQpk
aWZmIC11IC1yMS4yOSBtZXNzYWdlLmMKLS0tIG1lc3NhZ2UuYwkzMCBOb3YgMjAwNiAxNzoxMToy
NCAtMDAwMAkxLjI5CisrKyBtZXNzYWdlLmMJOSBBdWcgMjAwNyAxMjo1NDoxNyAtMDAwMApAQCAt
NTEzLDcgKzUxMyw3IEBACiAJY2FzZSBBRERSRVNTX1VTRVI6CiAJICAgIGlmIChhLT5tYWlsYm94
KSB7CiAJCWNoYXIgKnAgPSBzdHJjaHIoYS0+bWFpbGJveCwgJysnKTsKLQkJaW50IGxlbiA9IHAg
PyBwIC0gYS0+bWFpbGJveCA6IHN0cmxlbihhLT5tYWlsYm94KTsKKwkJaW50IGxlbiA9IHAgPyBw
IC0gYS0+bWFpbGJveCA6IChpbnQpc3RybGVuKGEtPm1haWxib3gpOwogCiAJCWFtLT5mcmVlbWUg
PSAoY2hhciAqKSB4bWFsbG9jKGxlbiArIDEpOwogCQlzdHJuY3B5KGFtLT5mcmVlbWUsIGEtPm1h
aWxib3gsIGxlbik7CkluZGV4OiBzY3JpcHQuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3Ny
Yy9zaWV2ZS9zY3JpcHQuYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS42MwpkaWZmIC11IC1yMS42
MyBzY3JpcHQuYwotLS0gc2NyaXB0LmMJMzAgTm92IDIwMDYgMTc6MTE6MjQgLTAwMDAJMS42Mwor
Kysgc2NyaXB0LmMJOSBBdWcgMjAwNyAxMjo1NDoxNyAtMDAwMApAQCAtMzQzLDcgKzM0Myw3IEBA
CiAJICAgIC8qIGZpbmQgbGVuZ3RoIG9mIHBsYWludGV4dCB1cCB0byBuZXh0IHBvdGVudGlhbCB2
YXJpYWJsZSAqLwogCSAgICBuID0gc3RyY3NwbihjKzEsICIkIikgKyAxOyAvKiBza2lwIG9wZW5p
bmcgJyQnICovCiAJICAgIC8qIHJlYWxsb2MgaWYgbmVjZXNzYXJ5ICovCi0JICAgIGlmICggKCpv
dXRsZW4pICsgbisxID49IGFsbG9jc2l6ZSkgeworCSAgICBpZiAoICgqb3V0bGVuKSArIG4rMSA+
PSAoc2l6ZV90KWFsbG9jc2l6ZSkgewogCQlhbGxvY3NpemUgPSAoKm91dGxlbikgKyBuKzEgKyBH
Uk9XX0FNT1VOVDsKIAkJKm91dCA9IHhyZWFsbG9jKCpvdXQsIGFsbG9jc2l6ZSk7CiAJICAgIH0K
</data>        

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>949</attachid>
            <date>2007-08-09 09:10 EDT</date>
            <desc>Fix &quot;no previous prototype for ..&quot; warnings</desc>
            <filename>sieve-static.patch</filename>
            <type>text/plain</type>
            <size>5660</size>
            <attacher>tss@iki.fi</attacher>
            
              <data encoding="base64">SW5kZXg6IGJjX2R1bXAuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zaWV2ZS9iY19k
dW1wLmMsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMwpkaWZmIC11IC1yMS4zIGJjX2R1bXAuYwot
LS0gYmNfZHVtcC5jCTMwIE5vdiAyMDA2IDE3OjExOjI0IC0wMDAwCTEuMworKysgYmNfZHVtcC5j
CTkgQXVnIDIwMDcgMTI6NTU6MDQgLTAwMDAKQEAgLTQwLDkgKzQwLDExIEBACiAgICAgc2l6ZV90
IHJlYWxsZW47IC8qIGFsbG9jYXRlZCBsZW5ndGggb2YgJ2RhdGEnICovCiB9OwogCisjaWYgRFVN
UENPREUKKwogLyp0aGlzIHdvdWxkIHdvcmsgYSBsb3QgYmV0dGVyIGlmIHdlIGFjdHVhbGx5IGNv
dWxkIHRlbGwgaG93IG1hbnkgbGV2ZWxzIGRlZXAgaW4gaWYgc3RhdGVtZW50cyB3ZSB3ZXJlLiAg
Y3VycmVudGx5IGl0IGRvZXNuJ3Qga25vdyovCiAKLXZvaWQgcHJpbnRfc3BhY2VzKGludCBuKQor
c3RhdGljIHZvaWQgcHJpbnRfc3BhY2VzKGludCBuKQogewogICAgIGludCB0ZW1wX249MDsKICAg
ICB3aGlsZSh0ZW1wX24rKyA8IChuKSkKQEAgLTUwLDggKzUyLDYgQEAKIH0KIAogCi0jaWYgRFVN
UENPREUKLQogLyogRHVtcCBhIHN0cmluZ2xpc3QuICBSZXR1cm4gdGhlIGxhc3QgYWRkcmVzcyB1
c2VkIGJ5IHRoZSBsaXN0ICovCiBzdGF0aWMgaW50IGR1bXBfc2woYnl0ZWNvZGVfaW5mb190ICpk
LCBpbnQgaXAsIGludCBsZXZlbCkgCiB7CkluZGV4OiBiY19ldmFsLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1Mg
ZmlsZTogL2N2cy9zcmMvc2lldmUvYmNfZXZhbC5jLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjgK
ZGlmZiAtdSAtcjEuOCBiY19ldmFsLmMKLS0tIGJjX2V2YWwuYwkzMCBOb3YgMjAwNiAxNzoxMToy
NCAtMDAwMAkxLjgKKysrIGJjX2V2YWwuYwk5IEF1ZyAyMDA3IDEyOjU1OjA0IC0wMDAwCkBAIC04
MCw4ICs4MCw4IEBACiAvKiB0aGlzIGlzIHVzZWQgYnkgbm90aWZ5IHRvIHBhc3MgdGhlIG9wdGlv
bnMgbGlzdCB0byBkb19ub3RpZnkKICAqIGRvX25vdGlmeSBuZWVkcyBudWxsLXRlcm1pbmF0ZWQg
KGNoYXIgKilbXSwKICAqICB3ZSBoYXZlIGEgc3RyaW5nbGlzdCwgdGhlIGJlZ2lubmluZyBvZiB3
aGljaCBpcyBwb2ludGVkIGF0IGJ5IHBvcyAqLwotY29uc3QgY2hhciAqKiBiY19tYWtlQXJyYXko
Ynl0ZWNvZGVfaW5wdXRfdCAqYmMsIGludCAqcG9zKSAKLXsgCitzdGF0aWMgY29uc3QgY2hhciAq
KiBiY19tYWtlQXJyYXkoYnl0ZWNvZGVfaW5wdXRfdCAqYmMsIGludCAqcG9zKQorewogICAgIGlu
dCBpOwogICAgIGNvbnN0IGNoYXIqKiBhcnJheTsKICAgICBpbnQgbGVuID0gbnRvaGwoYmNbKnBv
c10udmFsdWUpOwpAQCAtMTAwLDggKzEwMCw4IEBACiB9CiAKIC8qIENvbXBpbGUgYSByZWd1bGFy
IGV4cHJlc3Npb24gZm9yIHVzZSBkdXJpbmcgcGFyc2luZyAqLwotcmVnZXhfdCAqIGJjX2NvbXBp
bGVfcmVnZXgoY29uc3QgY2hhciAqcywgaW50IGN0YWcsCi0JCQkgICBjaGFyICplcnJtc2csIHNp
emVfdCBlcnJzaXopCitzdGF0aWMgcmVnZXhfdCAqIGJjX2NvbXBpbGVfcmVnZXgoY29uc3QgY2hh
ciAqcywgaW50IGN0YWcsCisJCQkJICBjaGFyICplcnJtc2csIHNpemVfdCBlcnJzaXopCiB7CiAg
ICAgaW50IHJldDsKICAgICByZWdleF90ICpyZWcgPSAocmVnZXhfdCAqKSB4bWFsbG9jKHNpemVv
ZihyZWdleF90KSk7CkBAIC0yMDIsOSArMjAyLDkgQEAKIH07CiAgCiAvKiBEZXRlcm1pbmUgaWYg
d2Ugc2hvdWxkIHJlc3BvbmQgdG8gYSB2YWNhdGlvbiBtZXNzYWdlICovCi1pbnQgc2hvdWxkUmVz
cG9uZCh2b2lkICogbSwgc2lldmVfaW50ZXJwX3QgKmludGVycCwKLQkJICBpbnQgbnVtYWRkcmVz
c2VzLCBieXRlY29kZV9pbnB1dF90KiBiYywKLQkJICBpbnQgaSwgY2hhciAqKmZyb20sIGNoYXIg
Kip0bykKK3N0YXRpYyBpbnQgc2hvdWxkUmVzcG9uZCh2b2lkICogbSwgc2lldmVfaW50ZXJwX3Qg
KmludGVycCwKKwkJCSBpbnQgbnVtYWRkcmVzc2VzLCBieXRlY29kZV9pbnB1dF90KiBiYywKKwkJ
CSBpbnQgaSwgY2hhciAqKmZyb20sIGNoYXIgKip0bykKIHsKICAgICBjb25zdCBjaGFyICoqYm9k
eTsKICAgICBjaGFyIGJ1ZlsxMjhdOwpAQCAtMzQxLDkgKzM0MSw5IEBACiB9CiAKIC8qIEV2YWx1
YXRlIGEgYnl0ZWNvZGUgdGVzdCAqLwotaW50IGV2YWxfYmNfdGVzdChzaWV2ZV9pbnRlcnBfdCAq
aW50ZXJwLAotCQkgc3RydWN0IGhhc2hfdGFibGUgKmJvZHlfY2FjaGUsIHZvaWQqIG0sCi0JCSBi
eXRlY29kZV9pbnB1dF90ICogYmMsIGludCAqIGlwKQorc3RhdGljIGludCBldmFsX2JjX3Rlc3Qo
c2lldmVfaW50ZXJwX3QgKmludGVycCwKKwkJCXN0cnVjdCBoYXNoX3RhYmxlICpib2R5X2NhY2hl
LCB2b2lkKiBtLAorCQkJYnl0ZWNvZGVfaW5wdXRfdCAqIGJjLCBpbnQgKiBpcCkKIHsKICAgICBp
bnQgcmVzPTA7IAogICAgIGludCBpPSppcDsKSW5kZXg6IHNjcmlwdC5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNT
IGZpbGU6IC9jdnMvc3JjL3NpZXZlL3NjcmlwdC5jLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjYz
CmRpZmYgLXUgLXIxLjYzIHNjcmlwdC5jCi0tLSBzY3JpcHQuYwkzMCBOb3YgMjAwNiAxNzoxMToy
NCAtMDAwMAkxLjYzCisrKyBzY3JpcHQuYwk5IEF1ZyAyMDA3IDEyOjU1OjA1IC0wMDAwCkBAIC0x
ODYsNyArMTg2LDcgQEAKICAgICByZXR1cm4gcmVzOwogfQogCi12b2lkIGZyZWVfaW1hcGZsYWdz
KHNpZXZlX2ltYXBmbGFnc190ICppbWFwZmxhZ3MpCitzdGF0aWMgdm9pZCBmcmVlX2ltYXBmbGFn
cyhzaWV2ZV9pbWFwZmxhZ3NfdCAqaW1hcGZsYWdzKQogewogICAgIHdoaWxlIChpbWFwZmxhZ3Mt
Pm5mbGFncykKIAlmcmVlKGltYXBmbGFncy0+ZmxhZ1stLWltYXBmbGFncy0+bmZsYWdzXSk7Cklu
ZGV4OiBzaWV2ZWMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zaWV2ZS9zaWV2ZWMu
Yyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS42CmRpZmYgLXUgLXIxLjYgc2lldmVjLmMKLS0tIHNp
ZXZlYy5jCTMwIE5vdiAyMDA2IDE3OjExOjI1IC0wMDAwCTEuNgorKysgc2lldmVjLmMJOSBBdWcg
MjAwNyAxMjo1NTowNSAtMDAwMApAQCAtMTQzLDcgKzE0Myw3IEBACiB9CiAKIC8qIHRvIG1ha2Ug
bGFycnkncyBzdHVwaWQgZnVuY3Rpb25zIGhhcHB5IDopICovIAotdm9pZCBmb28odm9pZCkKK3N0
YXRpYyB2b2lkIGZvbyh2b2lkKQogewogICAgIGZhdGFsKCJzdHViIGZ1bmN0aW9uIGNhbGxlZCIs
IDApOwogfQpAQCAtMTY0LDggKzE2NCw4IEBACiAgICAgcmV0dXJuIFNJRVZFX0ZBSUw7CiB9CiAK
LWludCBteXNpZXZlX2Vycm9yKGludCBsaW5lbm8sIGNvbnN0IGNoYXIgKm1zZywKLQkJICB2b2lk
ICppIF9fYXR0cmlidXRlX18oKHVudXNlZCkpLCB2b2lkICpzKQorc3RhdGljIGludCBteXNpZXZl
X2Vycm9yKGludCBsaW5lbm8sIGNvbnN0IGNoYXIgKm1zZywKKwkJCSB2b2lkICppIF9fYXR0cmli
dXRlX18oKHVudXNlZCkpLCB2b2lkICpzKQogewogICAgIGNoYXIgYnVmWzEwMjRdOwogICAgIGNo
YXIgKiplcnJzdHIgPSAoY2hhciAqKikgczsKSW5kZXg6IHNpZXZlZC5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNT
IGZpbGU6IC9jdnMvc3JjL3NpZXZlL3NpZXZlZC5jLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjYK
ZGlmZiAtdSAtcjEuNiBzaWV2ZWQuYwotLS0gc2lldmVkLmMJMzAgTm92IDIwMDYgMTc6MTE6MjUg
LTAwMDAJMS42CisrKyBzaWV2ZWQuYwk5IEF1ZyAyMDA3IDEyOjU1OjA1IC0wMDAwCkBAIC00OCw4
ICs0OCw4IEBACiAvKiBjb25maWcuYyBzdHVmZiAqLwogY29uc3QgaW50IGNvbmZpZ19uZWVkX2Rh
dGEgPSAwOwogCi12b2lkIGR1bXAyKGJ5dGVjb2RlX2lucHV0X3QgKmQsIGludCBsZW4pOwotaW50
IGR1bXAyX3Rlc3QoYnl0ZWNvZGVfaW5wdXRfdCAqIGQsIGludCBpKTsKK3N0YXRpYyB2b2lkIGR1
bXAyKGJ5dGVjb2RlX2lucHV0X3QgKmQsIGludCBsZW4pOworc3RhdGljIGludCBkdW1wMl90ZXN0
KGJ5dGVjb2RlX2lucHV0X3QgKiBkLCBpbnQgaSk7CiAgCiAvKiBmcm9tIGJjX2V2YWwuYyAqLwog
aW50IHVud3JhcF9zdHJpbmcoYnl0ZWNvZGVfaW5wdXRfdCAqYmMsIGludCBwb3MsIGNvbnN0IGNo
YXIgKipzdHIsIGludCAqbGVuKTsKQEAgLTYyLDcgKzYyLDcgQEAKICAgICBleGl0KDEpOwogfQog
Ci1pbnQgbG9hZChpbnQgZmQsIGJ5dGVjb2RlX2lucHV0X3QgKiogZCkKK3N0YXRpYyBpbnQgbG9h
ZChpbnQgZmQsIGJ5dGVjb2RlX2lucHV0X3QgKiogZCkKIHsgIAogICAgIGNvbnN0IGNoYXIgKiBk
YXRhPU5VTEw7CiAgICAgc3RydWN0IHN0YXQgc2J1ZjsKQEAgLTExNSw3ICsxMTUsNyBAQAogICAg
IH0KIH0KIAotaW50IHdyaXRlX2xpc3QoaW50IGxpc3RfbGVuLCBpbnQgaSwgYnl0ZWNvZGVfaW5w
dXRfdCAqIGQpCitzdGF0aWMgaW50IHdyaXRlX2xpc3QoaW50IGxpc3RfbGVuLCBpbnQgaSwgYnl0
ZWNvZGVfaW5wdXRfdCAqIGQpCiB7CiAgICAgaW50IHg7CiAgICAgaSsrOwpAQCAtMTMxLDcgKzEz
MSw3IEBACiAgICAgcmV0dXJuIGk7CiB9CiAKLWludCBwcmludENvbXBhcmlzb24oYnl0ZWNvZGVf
aW5wdXRfdCAqZCAsaW50IGkpCitzdGF0aWMgaW50IHByaW50Q29tcGFyaXNvbihieXRlY29kZV9p
bnB1dF90ICpkICxpbnQgaSkKIHsKICAgICBwcmludGYoIkNvbXBhcmlzb246ICIpOwogICAgIHN3
aXRjaChudG9obChkW2ldLnZhbHVlKSkKQEAgLTE4NSw3ICsxODUsNyBAQAogfQogCiAKLWludCBk
dW1wMl90ZXN0KGJ5dGVjb2RlX2lucHV0X3QgKiBkLCBpbnQgaSkKK3N0YXRpYyBpbnQgZHVtcDJf
dGVzdChieXRlY29kZV9pbnB1dF90ICogZCwgaW50IGkpCiB7CiAgICAgaW50IGwseDsKICAgICBz
d2l0Y2gobnRvaGwoZFtpXS52YWx1ZSkpIHsKQEAgLTMxNyw3ICszMTcsNyBAQAogICAgIHJldHVy
biBpOwogfQogCi12b2lkIGR1bXAyKGJ5dGVjb2RlX2lucHV0X3QgKmQsIGludCBiY19sZW4pIAor
c3RhdGljIHZvaWQgZHVtcDIoYnl0ZWNvZGVfaW5wdXRfdCAqZCwgaW50IGJjX2xlbikKIHsKICAg
ICBpbnQgaTsKICAgICBpbnQgdmVyc2lvbjsKSW5kZXg6IHRyZWUuYwo9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBm
aWxlOiAvY3ZzL3NyYy9zaWV2ZS90cmVlLmMsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTIKZGlm
ZiAtdSAtcjEuMTIgdHJlZS5jCi0tLSB0cmVlLmMJMzAgTm92IDIwMDYgMTc6MTE6MjUgLTAwMDAJ
MS4xMgorKysgdHJlZS5jCTkgQXVnIDIwMDcgMTI6NTU6MDUgLTAwMDAKQEAgLTExMSw3ICsxMTEs
NyBAQAogCiB2b2lkIGZyZWVfdGVzdCh0ZXN0X3QgKnQpOwogCi12b2lkIGZyZWVfdGwodGVzdGxp
c3RfdCAqdGwpCitzdGF0aWMgdm9pZCBmcmVlX3RsKHRlc3RsaXN0X3QgKnRsKQogewogICAgIHRl
c3RsaXN0X3QgKnRsMjsKIAo=
</data>        

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>950</attachid>
            <date>2007-08-09 09:10 EDT</date>
            <desc>Avoid dropping const</desc>
            <filename>sieve-const.patch</filename>
            <type>text/plain</type>
            <size>1918</size>
            <attacher>tss@iki.fi</attacher>
            
              <data encoding="base64">SW5kZXg6IGJjX2V2YWwuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zaWV2ZS9iY19l
dmFsLmMsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuOApkaWZmIC11IC1yMS44IGJjX2V2YWwuYwot
LS0gYmNfZXZhbC5jCTMwIE5vdiAyMDA2IDE3OjExOjI0IC0wMDAwCTEuOAorKysgYmNfZXZhbC5j
CTkgQXVnIDIwMDcgMTI6NTM6NTcgLTAwMDAKQEAgLTEyNzEsNyArMTI3MSw3IEBACiAJICAgIGlu
dCByZXNwb25kOwogCSAgICBjaGFyICpmcm9tYWRkciA9IE5VTEw7IC8qIHJlbGF0aXZlIHRvIG1l
c3NhZ2Ugd2Ugc2VuZCAqLwogCSAgICBjaGFyICp0b2FkZHIgPSBOVUxMOyAvKiByZWxhdGl2ZSB0
byBtZXNzYWdlIHdlIHNlbmQgKi8KLQkgICAgY2hhciAqaGFuZGxlID0gTlVMTDsKKwkgICAgY29u
c3QgY2hhciAqaGFuZGxlID0gTlVMTDsKIAkgICAgY29uc3QgY2hhciAqbWVzc2FnZSA9IE5VTEw7
CiAJICAgIGludCBkYXlzLCBtaW1lOwogCSAgICBjaGFyIGJ1ZlsxMjhdOwpAQCAtMTMyOSw3ICsx
MzI5LDcgQEAKIAogCQkgICAgaWYgKGRhdGEpIHsKIAkJCS8qIHVzZXIgc3BlY2lmaWVkIGhhbmRs
ZSAqLwotCQkJaGFuZGxlID0gKGNoYXIgKikgZGF0YTsKKwkJCWhhbmRsZSA9IGRhdGE7CiAJCSAg
ICB9CiAJCX0KIApJbmRleDogbWVzc2FnZS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3Jj
L3NpZXZlL21lc3NhZ2UuYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4yOQpkaWZmIC11IC1yMS4y
OSBtZXNzYWdlLmMKLS0tIG1lc3NhZ2UuYwkzMCBOb3YgMjAwNiAxNzoxMToyNCAtMDAwMAkxLjI5
CisrKyBtZXNzYWdlLmMJOSBBdWcgMjAwNyAxMjo1Mzo1NyAtMDAwMApAQCAtMjE4LDcgKzIxOCw3
IEBACiAKIGludCBkb192YWNhdGlvbihhY3Rpb25fbGlzdF90ICphLCBjaGFyICphZGRyLCBjaGFy
ICpmcm9tYWRkciwKIAkJY2hhciAqc3ViaiwgY29uc3QgY2hhciAqbXNnLCBpbnQgZGF5cywKLQkJ
aW50IG1pbWUsIGNoYXIgKmhhbmRsZSkKKwkJaW50IG1pbWUsIGNvbnN0IGNoYXIgKmhhbmRsZSkK
IHsKICAgICBhY3Rpb25fbGlzdF90ICpiID0gTlVMTDsKIApJbmRleDogbWVzc2FnZS5oCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NpZXZlL21lc3NhZ2UuaCx2CnJldHJpZXZpbmcgcmV2
aXNpb24gMS4xNwpkaWZmIC11IC1yMS4xNyBtZXNzYWdlLmgKLS0tIG1lc3NhZ2UuaAkzMCBOb3Yg
MjAwNiAxNzoxMToyNCAtMDAwMAkxLjE3CisrKyBtZXNzYWdlLmgJOSBBdWcgMjAwNyAxMjo1Mzo1
NyAtMDAwMApAQCAtMTE5LDcgKzExOSw4IEBACiBpbnQgZG9fa2VlcChhY3Rpb25fbGlzdF90ICpt
LCBzaWV2ZV9pbWFwZmxhZ3NfdCAqaW1hcGZsYWdzKTsKIGludCBkb19kaXNjYXJkKGFjdGlvbl9s
aXN0X3QgKm0pOwogaW50IGRvX3ZhY2F0aW9uKGFjdGlvbl9saXN0X3QgKm0sIGNoYXIgKmFkZHIs
IGNoYXIgKmZyb21hZGRyLAotCQljaGFyICpzdWJqLCBjb25zdCBjaGFyICptc2csIGludCBkYXlz
LCBpbnQgbWltZSwgY2hhciAqaGFuZGxlKTsKKwkJY2hhciAqc3ViaiwgY29uc3QgY2hhciAqbXNn
LCBpbnQgZGF5cywgaW50IG1pbWUsCisJCWNvbnN0IGNoYXIgKmhhbmRsZSk7CiBpbnQgZG9fc2V0
ZmxhZyhhY3Rpb25fbGlzdF90ICptLCBjb25zdCBjaGFyICpmbGFnKTsKIGludCBkb19hZGRmbGFn
KGFjdGlvbl9saXN0X3QgKm0sIGNvbnN0IGNoYXIgKmZsYWcpOwogaW50IGRvX3JlbW92ZWZsYWco
YWN0aW9uX2xpc3RfdCAqbSwgY29uc3QgY2hhciAqZmxhZyk7Cg==
</data>        

          </attachment>
      

    </bug>

</bugzilla>