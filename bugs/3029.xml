<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>3029</bug_id>
          
          <creation_ts>2008-01-08 16:39 EDT</creation_ts>
          <short_desc>Allow setting the cyrus user at run-time</short_desc>
          <delta_ts>2008-01-08 16:39:53 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>IMAP</component>
          <version>2.3.x</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>NEW</bug_status>
          
          
          
          
          
          <priority>P5</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Gabor Gombas">gombasg@sztaki.hu</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          

      

      

      
          <long_desc isprivate="0">
            <who name="Gabor Gombas">gombasg@sztaki.hu</who>
            <bug_when>2008-01-08 16:39:53 EDT</bug_when>
            <thetext>Created an attachment (id=983)
Patch

See the patch.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>983</attachid>
            <date>2008-01-08 16:39 EDT</date>
            <desc>Patch</desc>
            <filename>0008-Make-the-user-used-by-master-run-time-switchable.patch</filename>
            <type>text/plain</type>
            <size>3774</size>
            <attacher>gombasg@sztaki.hu</attacher>
            
              <data encoding="base64">RnJvbSBjOGQzNTBiNmNhNDRhMDM4YTg0Njg4MDA2YTMzOTRhNWExMGM1ZjBmIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiA9P3V0Zi04P3E/Rz1DMz1BMWJvcj0yMEdvbWI9QzM9QTFzPz0g
PGdvbWJhc2dAc3p0YWtpLmh1PgpEYXRlOiBTYXQsIDI5IERlYyAyMDA3IDE2OjI4OjM2ICswMTAw
ClN1YmplY3Q6IFtQQVRDSF0gTWFrZSB0aGUgdXNlciB1c2VkIGJ5IG1hc3RlciBydW4tdGltZSBz
d2l0Y2hhYmxlCgpIYXZpbmcgdG8ga2VlcCBzZXBhcmF0ZSBiaW5hcmllcyBhcm91bmQgb3IgdG8g
cGxheSBvdGhlciBkaXJ0eSB0cmlja3MganVzdAp0byBiZSBhYmxlIHRvIHJ1biBzZXBhcmF0ZSBD
eXJ1cyBpbnN0YW5jZXMgdW5kZXIgc2VwYXJhdGUgYWNjb3VudHMgaXMgbm90Cm5pY2UuCi0tLQog
bGliL3V0aWwuYyAgICAgIHwgICAxMiArKysrKysrLS0tLS0KIGxpYi91dGlsLmggICAgICB8ICAg
IDEgKwogbWFuL21hc3Rlci44ICAgIHwgICAgNyArKysrKysrCiBtYXN0ZXIvbWFzdGVyLmMgfCAg
ICA4ICsrKysrKy0tCiA0IGZpbGVzIGNoYW5nZWQsIDIxIGluc2VydGlvbnMoKyksIDcgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvbGliL3V0aWwuYyBiL2xpYi91dGlsLmMKaW5kZXggNjg5NGZh
YS4uZTU1MDVjMCAxMDA2NDQKLS0tIGEvbGliL3V0aWwuYworKysgYi9saWIvdXRpbC5jCkBAIC02
OCw2ICs2OCw4IEBACiAKICNkZWZpbmUgQkVBVVRZQlVGU0laRSA0MDk2CiAKK2NoYXIgKmN5cnVz
X3VzZXJuYW1lID0gQ1lSVVNfVVNFUjsKKwogY29uc3QgdW5zaWduZWQgY2hhciBjb252ZXJ0X3Rv
X2xvd2VyY2FzZVsyNTZdID0gewogICAgIDB4MDAsIDB4MDEsIDB4MDIsIDB4MDMsIDB4MDQsIDB4
MDUsIDB4MDYsIDB4MDcsCiAgICAgMHgwOCwgMHgwOSwgMHgwYSwgMHgwYiwgMHgwYywgMHgwZCwg
MHgwZSwgMHgwZiwKQEAgLTM3Miw5ICszNzQsOSBAQCBpbnQgYmVjb21lX2N5cnVzKHZvaWQpCiAK
ICAgICBpZiAodWlkKSByZXR1cm4gc2V0dWlkKHVpZCk7CiAKLSAgICBwID0gZ2V0cHduYW0oQ1lS
VVNfVVNFUik7CisgICAgcCA9IGdldHB3bmFtKGN5cnVzX3VzZXJuYW1lKTsKICAgICBpZiAocCA9
PSBOVUxMKSB7Ci0Jc3lzbG9nKExPR19FUlIsICJubyBlbnRyeSBpbiAvZXRjL3Bhc3N3ZCBmb3Ig
dXNlciAlcyIsIENZUlVTX1VTRVIpOworCXN5c2xvZyhMT0dfRVJSLCAibm8gZW50cnkgaW4gL2V0
Yy9wYXNzd2QgZm9yIHVzZXIgJXMiLCBjeXJ1c191c2VybmFtZSk7CiAJcmV0dXJuIC0xOwogICAg
IH0KIApAQCAtMzgyLDE1ICszODQsMTUgQEAgaW50IGJlY29tZV9jeXJ1cyh2b2lkKQogICAgIG5l
d3VpZCA9IHAtPnB3X3VpZDsKICAgICBuZXdnaWQgPSBwLT5wd19naWQ7CiAKLSAgICBpZiAoaW5p
dGdyb3VwcyhDWVJVU19VU0VSLCBuZXdnaWQpKSB7CisgICAgaWYgKGluaXRncm91cHMoY3lydXNf
dXNlcm5hbWUsIG5ld2dpZCkpIHsKICAgICAgICAgc3lzbG9nKExPR19FUlIsICJ1bmFibGUgdG8g
aW5pdGlhbGl6ZSBncm91cHMgZm9yIHVzZXIgJXM6ICVzIiwKLQkgICAgICAgQ1lSVVNfVVNFUiwg
c3RyZXJyb3IoZXJybm8pKTsKKwkgICAgICAgY3lydXNfdXNlcm5hbWUsIHN0cmVycm9yKGVycm5v
KSk7CiAgICAgICAgIHJldHVybiAtMTsKICAgICB9CiAKICAgICBpZiAoc2V0Z2lkKG5ld2dpZCkp
IHsKICAgICAgICAgc3lzbG9nKExPR19FUlIsICJ1bmFibGUgdG8gc2V0IGdyb3VwIGlkIHRvICVk
IGZvciB1c2VyICVzOiAlcyIsCi0gICAgICAgICAgICAgIG5ld2dpZCwgQ1lSVVNfVVNFUiwgc3Ry
ZXJyb3IoZXJybm8pKTsKKyAgICAgICAgICAgICAgbmV3Z2lkLCBjeXJ1c191c2VybmFtZSwgc3Ry
ZXJyb3IoZXJybm8pKTsKICAgICAgICAgcmV0dXJuIC0xOwogICAgIH0KIApkaWZmIC0tZ2l0IGEv
bGliL3V0aWwuaCBiL2xpYi91dGlsLmgKaW5kZXggMTFjOGZkNy4uOTFiNDE3NCAxMDA2NDQKLS0t
IGEvbGliL3V0aWwuaAorKysgYi9saWIvdXRpbC5oCkBAIC0xMDgsNiArMTA4LDcgQEAgZXh0ZXJu
IHZvaWQgY3lydXNfcmVzZXRfc3RkaW8oKTsKIGV4dGVybiBpbnQgY3lydXNfbWtkaXIoY29uc3Qg
Y2hhciAqcGF0aCwgbW9kZV90IG1vZGUpOwogCiBleHRlcm4gaW50IGJlY29tZV9jeXJ1cyh2b2lk
KTsKK2V4dGVybiBjaGFyICpjeXJ1c191c2VybmFtZTsKIAogLyogU29tZSBzeXN0ZW1zIGhhdmUg
dmVyeSBpbmVmZmljaWVudCBpbXBsZW1lbnRhdGlvbnMgb2YgaXNkaWdpdCwKICAqIGFuZCB3ZSB1
c2UgaXQgaW4gYSBsb3Qgb2YgaW5uZXIgbG9vcHMKZGlmZiAtLWdpdCBhL21hbi9tYXN0ZXIuOCBi
L21hbi9tYXN0ZXIuOAppbmRleCAzMzJjMDljLi44OGM3Njc0IDEwMDY0NAotLS0gYS9tYW4vbWFz
dGVyLjgKKysrIGIvbWFuL21hc3Rlci44CkBAIC03NSw2ICs3NSwxMCBAQCBtYXN0ZXIgXC0gbWFz
dGVyIEN5cnVzIHByb2Nlc3MKIC5CIFwtRAogXQogWworLkIgXC11CisuSSB1c2VyIG5hbWUKK10K
K1sKIC5CIFwteAogLkkgc25tcCBhZ2VudHggc29ja2V0CiBdCkBAIC0xMjcsNiArMTMxLDkgQEAg
dGVybWluYWwpLgogLkJJIFwtRAogRG9uJ3QgY2xvc2Ugc3RkaW4vc3Rkb3V0L3N0ZGVyci4gUHJp
bWlhcmx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLgogLlRQCisuQkkgXC11ICIgdXNlciBuYW1lIgor
U3dpdGNoIHRvIHRoZSBnaXZlbiB1c2VyIGFjY291bnQuIERlZmF1bHRzIHRvIGN5cnVzLgorLlRQ
CiAuQkkgXC14ICIgc25tcCBhZ2VudHggc29ja2V0IgogQWRkcmVzcyB0aGUgbWFzdGVyIGFnZW50
IChtb3N0IGxpa2VseSBzbm1wZCkgbGlzdGVucyBvbi4KIFJlcXVpcmVzIG5ldC1zbm1wIDUuMCBv
ciBoaWdoZXIuCmRpZmYgLS1naXQgYS9tYXN0ZXIvbWFzdGVyLmMgYi9tYXN0ZXIvbWFzdGVyLmMK
aW5kZXggOTNjMDM5My4uZGY5MDNiNiAxMDA2NDQKLS0tIGEvbWFzdGVyL21hc3Rlci5jCisrKyBi
L21hc3Rlci9tYXN0ZXIuYwpAQCAtMTYyNiw5ICsxNjI2LDkgQEAgaW50IG1haW4oaW50IGFyZ2Ms
IGNoYXIgKiphcmd2KQogICAgIHAgPSBnZXRlbnYoIkNZUlVTX1ZFUkJPU0UiKTsKICAgICBpZiAo
cCkgdmVyYm9zZSA9IGF0b2kocCkgKyAxOwogI2lmZGVmIEhBVkVfTkVUU05NUAotICAgIHdoaWxl
ICgob3B0ID0gZ2V0b3B0KGFyZ2MsIGFyZ3YsICJDOk06cDpsOkRkajpQOng6IikpICE9IEVPRikg
eworICAgIHdoaWxlICgob3B0ID0gZ2V0b3B0KGFyZ2MsIGFyZ3YsICJDOk06cDpsOkRkajpQOnU6
eDoiKSkgIT0gRU9GKSB7CiAjZWxzZQotICAgIHdoaWxlICgob3B0ID0gZ2V0b3B0KGFyZ2MsIGFy
Z3YsICJDOk06cDpsOkRkajoiKSkgIT0gRU9GKSB7CisgICAgd2hpbGUgKChvcHQgPSBnZXRvcHQo
YXJnYywgYXJndiwgIkM6TTpwOmw6RGRqOnU6IikpICE9IEVPRikgewogI2VuZGlmCiAJc3dpdGNo
IChvcHQpIHsKIAljYXNlICdDJzogLyogYWx0IGltYXBkLmNvbmYgZmlsZSAqLwpAQCAtMTY2Myw2
ICsxNjYzLDEwIEBAIGludCBtYWluKGludCBhcmdjLCBjaGFyICoqYXJndikKIAkgICAgaWYoamFu
aXRvcl9mcmVxdWVuY3kgPCAxKQogCQlmYXRhbCgiVGhlIGphbml0b3IgcGVyaW9kIG11c3QgYmUg
YXQgbGVhc3QgMSBzZWNvbmQiLCBFWF9DT05GSUcpOwogCSAgICBicmVhazsgICAKKwljYXNlICd1
JzoKKwkgICAgLyogVXNlciBhY2NvdW50IHRvIHVzZSAqLworCSAgICBjeXJ1c191c2VybmFtZSA9
IG9wdGFyZzsKKwkgICAgYnJlYWs7CiAjaWZkZWYgSEFWRV9ORVRTTk1QCiAJY2FzZSAnUCc6IC8q
IHNubXAgQWdlbnRYUGluZ0ludGVydmFsICovCiAJICAgIGFnZW50eHBpbmdpbnRlcnZhbCA9IGF0
b2kob3B0YXJnKTsK
</data>        

          </attachment>
      

    </bug>

</bugzilla>