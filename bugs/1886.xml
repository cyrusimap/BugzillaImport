<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>1886</bug_id>
          
          <creation_ts>2003-02-21 12:02 EDT</creation_ts>
          <short_desc>maxfds=foo patch</short_desc>
          <delta_ts>2010-10-18 12:43:00 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>IMAP</component>
          <version>2.2.x</version>
          <rep_platform>Other</rep_platform>
          <op_sys>other</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          <priority>P2</priority>
          <bug_severity>bug</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Rob Siemborski">rjs3@andrew.cmu.edu</reporter>
          <assigned_to name="Rob Siemborski">rjs3@andrew.cmu.edu</assigned_to>
          <cc>leg+cyrus@andrew.cmu.edu</cc>
    
    <cc>ulmer@ufl.edu</cc>
          

      

      

      
          <long_desc isprivate="0">
            <who name="Rob Siemborski">rjs3@andrew.cmu.edu</who>
            <bug_when>2003-02-21 12:02:11 EDT</bug_when>
            <thetext>Allow maxfds to be set on a per-process basis.  Larry, do you see a reason not
to do this?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Rob Siemborski">rjs3@andrew.cmu.edu</who>
            <bug_when>2003-02-21 12:02:28 EDT</bug_when>
            <thetext>Created an attachment (id=124)
the patch
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Rob Siemborski">rjs3@andrew.cmu.edu</who>
            <bug_when>2003-02-21 13:46:31 EDT</bug_when>
            <thetext>(spoke with larry, no reason not to do this, though it should be noted that 2.2
includes connection limiting in mupdate also to alleviate this problem in a
more final way)
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Rob Siemborski">rjs3@andrew.cmu.edu</who>
            <bug_when>2003-02-21 14:12:49 EDT</bug_when>
            <thetext>committed.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>124</attachid>
            <date>2003-02-21 12:02 EDT</date>
            <desc>the patch</desc>
            <filename>cyrus-imapd-maxfds.patch</filename>
            <type>text/plain</type>
            <size>3300</size>
            <attacher>rjs3@andrew.cmu.edu</attacher>
            
              <data encoding="base64">ZGlmZiAtcmNOIGN5cnVzLWltYXBkLTIuMS4xMS9tYW4vY3lydXMuY29uZi41IGN5cnVzLWltYXBk
LTIuMS4xMS1tYXhmZHMvbWFuL2N5cnVzLmNvbmYuNQoqKiogY3lydXMtaW1hcGQtMi4xLjExL21h
bi9jeXJ1cy5jb25mLjUJVGh1IE9jdCAgMyAxNDozMjowOCAyMDAyCi0tLSBjeXJ1cy1pbWFwZC0y
LjEuMTEtbWF4ZmRzL21hbi9jeXJ1cy5jb25mLjUJVGh1IEZlYiAyMCAyMDowNzo1NiAyMDAzCioq
KioqKioqKioqKioqKgoqKiogMTE5LDEyNCAqKioqCi0tLSAxMTksMTI3IC0tLS0KICAuSVAgIlxm
Qm1heGNoaWxkPVxmUi0xIiA1CiAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0
aGlzIHNlcnZpY2UgdG8gc3Bhd24uICBBIHZhbHVlIG9mCiAgLTEgbWVhbnMgdW5saW1pdGVkLiAg
VGhpcyBpbnRlZ2VyIHZhbHVlIGlzIG9wdGlvbmFsLgorIC5JUCAiXGZCbWF4ZmRzPVxmUjI1NiIg
NQorIFRoZSBtYXhpbXVtIG51bWJlciBvZiBmaWxlIGRlc2NyaXB0b3JzIHRvIHdoaWNoIHRvIGxp
bWl0IHRoaXMgcHJvY2Vzcy4KKyBUaGlzIGludGVnZXIgdmFsdWUgaXMgb3B0aW9uYWwuCiAgLlNT
IEVWRU5UUwogIFRoaXMgc2VjdGlvbiBsaXN0cyBwcm9jZXNzZXMgdGhhdCBzaG91bGQgYmUgcnVu
IGF0IHNwZWNpZmljIGludGVydmFscywKICBzaW1pbGFyIHRvIGNyb24gam9icy4gIFRoaXMgc2Vj
dGlvbiBpcyB0eXBpY2FsbHkgdXNlZCB0byBwZXJmb3JtCmRpZmYgLXJjTiBjeXJ1cy1pbWFwZC0y
LjEuMTEvbWFzdGVyL21hc3Rlci5jIGN5cnVzLWltYXBkLTIuMS4xMS1tYXhmZHMvbWFzdGVyL21h
c3Rlci5jCioqKiBjeXJ1cy1pbWFwZC0yLjEuMTEvbWFzdGVyL21hc3Rlci5jCUZyaSBOb3YgIDEg
MTE6NDQ6MzMgMjAwMgotLS0gY3lydXMtaW1hcGQtMi4xLjExLW1heGZkcy9tYXN0ZXIvbWFzdGVy
LmMJVGh1IEZlYiAyMCAyMDowMzowMCAyMDAzCioqKioqKioqKioqKioqKgoqKiogNTY2LDU3MiAq
KioqCiAgCSAgICBpZiAoU2VydmljZXNbaV0uc3RhdFswXSA+IDApIGNsb3NlKFNlcnZpY2VzW2ld
LnN0YXRbMF0pOwogIAkgICAgaWYgKFNlcnZpY2VzW2ldLnN0YXRbMV0gPiAwKSBjbG9zZShTZXJ2
aWNlc1tpXS5zdGF0WzFdKTsKICAJfQohIAlsaW1pdF9mZHMoMjU2KTsKICAKICAJc3lzbG9nKExP
R19ERUJVRywgImFib3V0IHRvIGV4ZWMgJXMiLCBwYXRoKTsKICAKLS0tIDU2Niw1NzIgLS0tLQog
IAkgICAgaWYgKFNlcnZpY2VzW2ldLnN0YXRbMF0gPiAwKSBjbG9zZShTZXJ2aWNlc1tpXS5zdGF0
WzBdKTsKICAJICAgIGlmIChTZXJ2aWNlc1tpXS5zdGF0WzFdID4gMCkgY2xvc2UoU2VydmljZXNb
aV0uc3RhdFsxXSk7CiAgCX0KISAJbGltaXRfZmRzKHMtPm1heGZkcyk7CiAgCiAgCXN5c2xvZyhM
T0dfREVCVUcsICJhYm91dCB0byBleGVjICVzIiwgcGF0aCk7CiAgCioqKioqKioqKioqKioqKgoq
KiogOTEwLDkxNSAqKioqCi0tLSA5MTAsOTE2IC0tLS0KICAgICAgY2hhciAqbGlzdGVuID0gbXlz
dHJkdXAobWFzdGVyY29uZl9nZXRzdHJpbmcoZSwgImxpc3RlbiIsIE5VTEwpKTsKICAgICAgY2hh
ciAqcHJvdG8gPSBteXN0cmR1cChtYXN0ZXJjb25mX2dldHN0cmluZyhlLCAicHJvdG8iLCAidGNw
IikpOwogICAgICBjaGFyICptYXggPSBteXN0cmR1cChtYXN0ZXJjb25mX2dldHN0cmluZyhlLCAi
bWF4Y2hpbGQiLCAiLTEiKSk7CisgICAgIHJsaW1fdCBtYXhmZHMgPSAocmxpbV90KSBtYXN0ZXJj
b25mX2dldGludChlLCAibWF4ZmRzIiwgMjU2KTsKICAgICAgaW50IGk7CiAgCiAgICAgIGlmKGJh
YnlzaXQgJiYgcHJlZm9yayA9PSAwKSBwcmVmb3JrID0gMTsKKioqKioqKioqKioqKioqCioqKiAx
MDAwLDEwMDUgKioqKgotLS0gMTAwMSwxMDA4IC0tLS0KICAKICAJU2VydmljZXNbbnNlcnZpY2Vz
XS5tYXhmb3JrcmF0ZSA9IG1heGZvcmtyYXRlOwogIAorIAlTZXJ2aWNlc1tuc2VydmljZXNdLm1h
eGZkcyA9IG1heGZkczsKKyAKICAJaWYoIXN0cmNtcChTZXJ2aWNlc1tuc2VydmljZXNdLnByb3Rv
LCAidGNwIikpIHsKICAJICAgIFNlcnZpY2VzW25zZXJ2aWNlc10uZGVzaXJlZF93b3JrZXJzID0g
cHJlZm9yazsKICAJICAgIFNlcnZpY2VzW25zZXJ2aWNlc10uYmFieXNpdCA9IGJhYnlzaXQ7Cioq
KioqKioqKioqKioqKgoqKiogMTAyNCwxMDM0ICoqKioKICAJU2VydmljZXNbbnNlcnZpY2VzXS5u
Y29ubmVjdGlvbnMgPSAwOwogIAogIAlpZiAodmVyYm9zZSA+IDIpCiEgCSAgICBzeXNsb2coTE9H
X0RFQlVHLCAiYWRkOiBzZXJ2aWNlICclcycgKCVzLCAlczolcywgJWQsICVkKSIsCiAgCQkgICBT
ZXJ2aWNlc1tuc2VydmljZXNdLm5hbWUsIGNtZCwKICAJCSAgIFNlcnZpY2VzW25zZXJ2aWNlc10u
cHJvdG8sIFNlcnZpY2VzW25zZXJ2aWNlc10ubGlzdGVuLAogIAkJICAgU2VydmljZXNbbnNlcnZp
Y2VzXS5kZXNpcmVkX3dvcmtlcnMsCiEgCQkgICBTZXJ2aWNlc1tuc2VydmljZXNdLm1heF93b3Jr
ZXJzKTsKICAKICAJbnNlcnZpY2VzKys7CiAgICAgIH0KLS0tIDEwMjcsMTAzOCAtLS0tCiAgCVNl
cnZpY2VzW25zZXJ2aWNlc10ubmNvbm5lY3Rpb25zID0gMDsKICAKICAJaWYgKHZlcmJvc2UgPiAy
KQohIAkgICAgc3lzbG9nKExPR19ERUJVRywgImFkZDogc2VydmljZSAnJXMnICglcywgJXM6JXMs
ICVkLCAlZCwgJWQpIiwKICAJCSAgIFNlcnZpY2VzW25zZXJ2aWNlc10ubmFtZSwgY21kLAogIAkJ
ICAgU2VydmljZXNbbnNlcnZpY2VzXS5wcm90bywgU2VydmljZXNbbnNlcnZpY2VzXS5saXN0ZW4s
CiAgCQkgICBTZXJ2aWNlc1tuc2VydmljZXNdLmRlc2lyZWRfd29ya2VycywKISAJCSAgIFNlcnZp
Y2VzW25zZXJ2aWNlc10ubWF4X3dvcmtlcnMsCiEgCQkgICAoaW50KSBTZXJ2aWNlc1tuc2Vydmlj
ZXNdLm1heGZkcyk7CiAgCiAgCW5zZXJ2aWNlcysrOwogICAgICB9CmRpZmYgLXJjTiBjeXJ1cy1p
bWFwZC0yLjEuMTEvbWFzdGVyL21hc3Rlci5oIGN5cnVzLWltYXBkLTIuMS4xMS1tYXhmZHMvbWFz
dGVyL21hc3Rlci5oCioqKiBjeXJ1cy1pbWFwZC0yLjEuMTEvbWFzdGVyL21hc3Rlci5oCVNhdCBN
YXkgMjUgMTU6NTc6NDggMjAwMgotLS0gY3lydXMtaW1hcGQtMi4xLjExLW1heGZkcy9tYXN0ZXIv
bWFzdGVyLmgJVGh1IEZlYiAyMCAyMDoxNTo0MyAyMDAzCioqKioqKioqKioqKioqKgoqKiogMzAs
MzUgKioqKgotLS0gMzAsMzggLS0tLQogICAgICBpbnQgbmNvbm5lY3Rpb25zOwogIAogICAgICB1
bnNpZ25lZCBpbnQgZm9ya3JhdGU7CisgCisgICAgIC8qIGxpbWl0cyAqLworICAgICBybGltX3Qg
bWF4ZmRzOwogIH07CiAgCiAgZXh0ZXJuIHN0cnVjdCBzZXJ2aWNlICpTZXJ2aWNlczsK
</data>        

          </attachment>
      

    </bug>

</bugzilla>