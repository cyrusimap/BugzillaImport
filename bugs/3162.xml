<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>3162</bug_id>
          
          <creation_ts>2009-05-28 19:24 EDT</creation_ts>
          <short_desc>timsieved: &apos;Unsupported feature(s) in &quot;require&quot;&apos;</short_desc>
          <delta_ts>2010-10-25 18:46:48 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>Sieve</component>
          <version>2.3.x</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          <priority>P5</priority>
          <bug_severity>bug</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dilyan Palauzov">dilyan.palauzov@aegee.org</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          

      

      

      
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-05-28 19:24:26 EDT</bug_when>
            <thetext>Created an attachment (id=1075)
Apart from saying &apos;Unsupported features in &apos;require&quot;, with this patch timsieved names the unsupported features

When a sieve script is uploaded, that &quot;require&quot;s something unsupported, timsieved reports &apos;Unsupported features in &quot;require&quot;&apos;, without stating which of the extensions cannot be used.  This patch extends the error message and tells the user which extensions are not supported.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-05-28 19:27:31 EDT</bug_when>
            <thetext>Created an attachment (id=1076)
The correct patch

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-05-28 19:28:53 EDT</bug_when>
            <thetext>Created an attachment (id=1077)
The correct patch (this time really).

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-11-25 15:56:04 EDT</bug_when>
            <thetext>Created an attachment (id=1240)
The same patch, this time created with diff -urB (so + instead of !)

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-11-25 15:56:28 EDT</bug_when>
            <thetext>Created an attachment (id=1241)
The same patch, this time created with diff -urB (so + instead of !)

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-12-10 17:35:31 EDT</bug_when>
            <thetext>Created an attachment (id=1243)
Provides details in the &quot;unsupported features&quot; error msg of timsieved

This patch fixes a problem introduced in the previous version of the patch (possible buffer overflow).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Dilyan Palauzov">dilyan.palauzov@aegee.org</who>
            <bug_when>2009-12-13 12:35:29 EDT</bug_when>
            <thetext>Created an attachment (id=1246)
Provides detailed error message from timsieved in the &quot;unsupported features&quot;-case .

This patch fixes a problem introduced by the previous files in this bug report ( &apos;require [&quot;&quot;];&apos; was accepted as valid).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Ken Murchison">murch@andrew.cmu.edu</who>
            <bug_when>2009-12-15 13:22:03 EDT</bug_when>
            <thetext>Committed a modified version of your patch</thetext>
          </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1075</attachid>
            <date>2009-05-28 19:24 EDT</date>
            <desc>Apart from saying &apos;Unsupported features in &apos;require&quot;, with this patch timsieved names the unsupported features</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>4502</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">KioqIDExNCwxMjAgKioqKgogIAogIHN0YXRpYyBjb21tYW5kbGlzdF90ICpyZXQ7CiAgc3RhdGlj
IHNpZXZlX3NjcmlwdF90ICpwYXJzZV9zY3JpcHQ7CiEgc3RhdGljIGludCBjaGVja19yZXFzKHN0
cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0
cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5nbGlzdF90
ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3QgaHRhZ3Mg
KmgsCi0tLSAxMjAsMTI2IC0tLS0KICAKICBzdGF0aWMgY29tbWFuZGxpc3RfdCAqcmV0OwogIHN0
YXRpYyBzaWV2ZV9zY3JpcHRfdCAqcGFyc2Vfc2NyaXB0OwohIHN0YXRpYyBjaGFyKiBjaGVja19y
ZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50
IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5n
bGlzdF90ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3Qg
aHRhZ3MgKmgsCioqKioqKioqKioqKioqKgoqKiogMjE5LDIyNiAqKioqCiAgCXwgcmVxdWlyZSBy
ZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJFIHN0cmluZ2xpc3QgJzsnCXsgaWYgKCFjaGVj
a19yZXFzKCQyKSkgewohICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKICAJCQkJICAgIFlZ
RVJST1I7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0KICAJOwotLS0g
MjI5LDI0NCAtLS0tCiAgCXwgcmVxdWlyZSByZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJF
IHN0cmluZ2xpc3QgJzsnCXsgY2hhciAqeCA9IGNoZWNrX3JlcXMoJDIpOwohIAkJCQkgIGlmICh4
WzBdKSB7CiEgCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKISAJCQkJ
ICAgIGlmIChzdHJjaHIoeCwgJywnKSkKISAJCQkJICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0
ZWQgZmVhdHVyZXMgaW4gXCJyZXF1aXJlXCI6ICVzIiwgeCk7CiEgCQkJCSAgICBlbHNlCiEgCQkJ
CSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9ydGVkIGZlYXR1cmUgaW4gXCJyZXF1aXJlXCI6ICVz
IiwgeCk7CiEgCQkJCSAgICB5eWVycm9yKHopOwohIAkJCQkgICAgZnJlZSh6KTsKISAJCQkJICAg
IGZyZWUoeCk7CiAgCQkJCSAgICBZWUVSUk9SOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfSB9CiAgCTsKKioqKioqKioqKioqKioqCioqKiA3MTgsNzM4ICoqKioKICAgICAg
cmV0dXJuIDA7CiAgfQogIAohIHN0YXRpYyBpbnQgY2hlY2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNs
KQogIHsKICAgICAgaW50IGkgPSAxOwogICAgICBzdHJpbmdsaXN0X3QgKnM7CiEgICAgIAogICAg
ICB3aGlsZSAoc2wgIT0gTlVMTCkgewogIAlzID0gc2w7CiAgCXNsID0gc2wtPm5leHQ7CiEgCiEg
CWkgJj0gc2NyaXB0X3JlcXVpcmUocGFyc2Vfc2NyaXB0LCBzLT5zKTsKICAKICAJaWYgKHMtPnMp
IGZyZWUocy0+cyk7CiAgCWZyZWUocyk7CiAgICAgIH0KISAgICAgcmV0dXJuIGk7CiAgfQogIAog
IHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAot
LS0gNzgwLDgwNSAtLS0tCiAgICAgIHJldHVybiAwOwogIH0KICAKISBzdGF0aWMgY2hhciogY2hl
Y2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogIHsKICAgICAgaW50IGkgPSAxOwogICAgICBzdHJp
bmdsaXN0X3QgKnM7CiEgICAgIGNoYXIqIHJldCA9IG1hbGxvYygxMDAwKTsgLy9QT1RFTlRJQUwg
QlVGRkVSIE9WRVJGTE9XCiEgICAgIHJldFswXSA9ICdcMCc7CiAgICAgIHdoaWxlIChzbCAhPSBO
VUxMKSB7CiAgCXMgPSBzbDsKICAJc2wgPSBzbC0+bmV4dDsKISAJaWYgKHNjcmlwdF9yZXF1aXJl
KHBhcnNlX3NjcmlwdCwgcy0+cykgPT0gMCkgewohIAkgIHN0cmNhdChyZXQsIHMtPnMpOwohIAkg
IHN0cmNhdChyZXQsICIsICIpOwohIAl9CiAgCiAgCWlmIChzLT5zKSBmcmVlKHMtPnMpOwogIAlm
cmVlKHMpOwogICAgICB9CiEgICAgIGlmIChyZXRbMF0pCiEgICAgICAgcmV0W3N0cmxlbihyZXQp
LTJdID0gJ1wwJzsKISAgICAgcmV0dXJuIHJldDsKICB9CiAgCiAgc3RhdGljIHRlc3RfdCAqYnVp
bGRfYWRkcmVzcyhpbnQgdCwgc3RydWN0IGFldGFncyAqYWUsCioqKioqKioqKioqKioqKgoqKiog
NzQ5LDc1NCAqKioqCi0tLSA4MTYsODIyIC0tLS0KICAJcmV0LT51LmFlLnNsID0gc2w7CiAgCXJl
dC0+dS5hZS5wbCA9IHBsOwogIAlyZXQtPnUuYWUuYWRkcnBhcnQgPSBhZS0+YWRkcnRhZzsKKyAJ
cmV0LT51LmFlLmV4dGxpc3RzID0gYWUtPmV4dGxpc3RzOwogIAlmcmVlX2FldGFncyhhZSk7CiAg
CiAgICAgIH0KKioqKioqKioqKioqKioqCioqKiA3NjgsNzczICoqKioKLS0tIDgzNiw4NDIgLS0t
LQogIAlyZXQtPnUuaC5jb21wYXJhdG9yPXhzdHJkdXAoaC0+Y29tcGFyYXRvcik7CiAgCXJldC0+
dS5oLnNsID0gc2w7CiAgCXJldC0+dS5oLnBsID0gcGw7CisgCXJldC0+dS5oLmV4dGxpc3RzID0g
aC0+ZXh0bGlzdHM7CiAgCWZyZWVfaHRhZ3MoaCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldDsK
KioqKioqKioqKioqKioqCioqKiA4NjMsODg3ICoqKioKICAgICAgcmV0dXJuIHJldDsKICB9CiAg
CiEgc3RhdGljIGNvbW1hbmRsaXN0X3QgKmJ1aWxkX3JlZGlyZWN0KGludCB0LCBpbnQgY29weSwg
Y2hhciAqYWRkcmVzcykKICB7CiAgICAgIGNvbW1hbmRsaXN0X3QgKnJldCA9IG5ld19jb21tYW5k
KHQpOwogIAogICAgICBhc3NlcnQodCA9PSBSRURJUkVDVCk7CiAgCiAgICAgIGlmIChyZXQpIHsK
ISAJcmV0LT51LnIuY29weSA9IGNvcHk7CiAgCXJldC0+dS5yLmFkZHJlc3MgPSBhZGRyZXNzOwog
ICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgfQogIAogIHN0YXRpYyBzdHJ1Y3QgYWV0YWdzICpu
ZXdfYWV0YWdzKHZvaWQpCiAgewogICAgICBzdHJ1Y3QgYWV0YWdzICpyID0gKHN0cnVjdCBhZXRh
Z3MgKikgeG1hbGxvYyhzaXplb2Yoc3RydWN0IGFldGFncykpOwogIAogICAgICByLT5hZGRydGFn
ID0gci0+Y29tcHRhZyA9IHItPnJlbGF0aW9uPS0xOwogICAgICByLT5jb21wYXJhdG9yPU5VTEw7
CiAgCiAgICAgIHJldHVybiByOwogIH0KLS0tIDkzMiw5NzYgLS0tLQogICAgICByZXR1cm4gcmV0
OwogIH0KICAKISBzdGF0aWMgY29tbWFuZGxpc3RfdCAqYnVpbGRfcmVkaXJlY3QoaW50IHQsIHN0
cnVjdCBydGFncyogciwgY2hhciAqYWRkcmVzcykKICB7CiAgICAgIGNvbW1hbmRsaXN0X3QgKnJl
dCA9IG5ld19jb21tYW5kKHQpOwogIAogICAgICBhc3NlcnQodCA9PSBSRURJUkVDVCk7CiAgCiAg
ICAgIGlmIChyZXQpIHsKISAJcmV0LT51LnIuY29weSA9IHItPmNvcHk7CiEgICAgICAgICByZXQt
PnUuci5leHRsaXN0cyA9IHItPmV4dGxpc3RzOwogIAlyZXQtPnUuci5hZGRyZXNzID0gYWRkcmVz
czsKKyAgICAgICAgIGZyZWUocik7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldDsKICB9CiAgCisg
c3RhdGljIHN0cnVjdCBydGFncyAqbmV3X3J0YWdzKHZvaWQpCisgeworICAgICAgc3RydWN0IHJ0
YWdzICpyID0gKHN0cnVjdCBydGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgcnRhZ3MpKTsK
KyAgCisgICAgICByLT5leHRsaXN0cyA9IDA7CisgICAgICByLT5jb3B5ID0gMDsKKyAgCisgICAg
ICByZXR1cm4gcjsKKyB9CisgIAorIHN0YXRpYyB2b2lkIGZyZWVfcnRhZ3Moc3RydWN0IHJ0YWdz
ICpyKQorIHsKKyAgICAgIGZyZWUocik7CisgfQorICAKKyAKKyAKICBzdGF0aWMgc3RydWN0IGFl
dGFncyAqbmV3X2FldGFncyh2b2lkKQogIHsKICAgICAgc3RydWN0IGFldGFncyAqciA9IChzdHJ1
Y3QgYWV0YWdzICopIHhtYWxsb2Moc2l6ZW9mKHN0cnVjdCBhZXRhZ3MpKTsKICAKICAgICAgci0+
YWRkcnRhZyA9IHItPmNvbXB0YWcgPSByLT5yZWxhdGlvbj0tMTsKICAgICAgci0+Y29tcGFyYXRv
cj1OVUxMOworICAgICByLT5leHRsaXN0cyA9IDA7CiAgCiAgICAgIHJldHVybiByOwogIH0KKioq
KioqKioqKioqKioqCioqKiA5MDcsOTEzICoqKioKICAgICAgc3RydWN0IGh0YWdzICpyID0gKHN0
cnVjdCBodGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgaHRhZ3MpKTsKICAKICAgICAgci0+
Y29tcHRhZyA9IHItPnJlbGF0aW9uPSAtMTsKISAgICAgCiAgICAgIHItPmNvbXBhcmF0b3IgPSBO
VUxMOwogIAogICAgICByZXR1cm4gcjsKLS0tIDk5NiwxMDAyIC0tLS0KICAgICAgc3RydWN0IGh0
YWdzICpyID0gKHN0cnVjdCBodGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgaHRhZ3MpKTsK
ICAKICAgICAgci0+Y29tcHRhZyA9IHItPnJlbGF0aW9uPSAtMTsKISAgICAgci0+ZXh0bGlzdHMg
PSAwOyAgICAKICAgICAgci0+Y29tcGFyYXRvciA9IE5VTEw7CiAgCiAgICAgIHJldHVybiByOwo=
</data>        

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1076</attachid>
            <date>2009-05-28 19:27 EDT</date>
            <desc>The correct patch</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>4502</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">KioqIDExNCwxMjAgKioqKgogIAogIHN0YXRpYyBjb21tYW5kbGlzdF90ICpyZXQ7CiAgc3RhdGlj
IHNpZXZlX3NjcmlwdF90ICpwYXJzZV9zY3JpcHQ7CiEgc3RhdGljIGludCBjaGVja19yZXFzKHN0
cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0
cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5nbGlzdF90
ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3QgaHRhZ3Mg
KmgsCi0tLSAxMjAsMTI2IC0tLS0KICAKICBzdGF0aWMgY29tbWFuZGxpc3RfdCAqcmV0OwogIHN0
YXRpYyBzaWV2ZV9zY3JpcHRfdCAqcGFyc2Vfc2NyaXB0OwohIHN0YXRpYyBjaGFyKiBjaGVja19y
ZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50
IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5n
bGlzdF90ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3Qg
aHRhZ3MgKmgsCioqKioqKioqKioqKioqKgoqKiogMjE5LDIyNiAqKioqCiAgCXwgcmVxdWlyZSBy
ZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJFIHN0cmluZ2xpc3QgJzsnCXsgaWYgKCFjaGVj
a19yZXFzKCQyKSkgewohICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKICAJCQkJICAgIFlZ
RVJST1I7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0KICAJOwotLS0g
MjI5LDI0NCAtLS0tCiAgCXwgcmVxdWlyZSByZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJF
IHN0cmluZ2xpc3QgJzsnCXsgY2hhciAqeCA9IGNoZWNrX3JlcXMoJDIpOwohIAkJCQkgIGlmICh4
WzBdKSB7CiEgCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKISAJCQkJ
ICAgIGlmIChzdHJjaHIoeCwgJywnKSkKISAJCQkJICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0
ZWQgZmVhdHVyZXMgaW4gXCJyZXF1aXJlXCI6ICVzIiwgeCk7CiEgCQkJCSAgICBlbHNlCiEgCQkJ
CSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9ydGVkIGZlYXR1cmUgaW4gXCJyZXF1aXJlXCI6ICVz
IiwgeCk7CiEgCQkJCSAgICB5eWVycm9yKHopOwohIAkJCQkgICAgZnJlZSh6KTsKISAJCQkJICAg
IGZyZWUoeCk7CiAgCQkJCSAgICBZWUVSUk9SOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfSB9CiAgCTsKKioqKioqKioqKioqKioqCioqKiA3MTgsNzM4ICoqKioKICAgICAg
cmV0dXJuIDA7CiAgfQogIAohIHN0YXRpYyBpbnQgY2hlY2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNs
KQogIHsKICAgICAgaW50IGkgPSAxOwogICAgICBzdHJpbmdsaXN0X3QgKnM7CiEgICAgIAogICAg
ICB3aGlsZSAoc2wgIT0gTlVMTCkgewogIAlzID0gc2w7CiAgCXNsID0gc2wtPm5leHQ7CiEgCiEg
CWkgJj0gc2NyaXB0X3JlcXVpcmUocGFyc2Vfc2NyaXB0LCBzLT5zKTsKICAKICAJaWYgKHMtPnMp
IGZyZWUocy0+cyk7CiAgCWZyZWUocyk7CiAgICAgIH0KISAgICAgcmV0dXJuIGk7CiAgfQogIAog
IHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAot
LS0gNzgwLDgwNSAtLS0tCiAgICAgIHJldHVybiAwOwogIH0KICAKISBzdGF0aWMgY2hhciogY2hl
Y2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogIHsKICAgICAgaW50IGkgPSAxOwogICAgICBzdHJp
bmdsaXN0X3QgKnM7CiEgICAgIGNoYXIqIHJldCA9IG1hbGxvYygxMDAwKTsgLy9QT1RFTlRJQUwg
QlVGRkVSIE9WRVJGTE9XCiEgICAgIHJldFswXSA9ICdcMCc7CiAgICAgIHdoaWxlIChzbCAhPSBO
VUxMKSB7CiAgCXMgPSBzbDsKICAJc2wgPSBzbC0+bmV4dDsKISAJaWYgKHNjcmlwdF9yZXF1aXJl
KHBhcnNlX3NjcmlwdCwgcy0+cykgPT0gMCkgewohIAkgIHN0cmNhdChyZXQsIHMtPnMpOwohIAkg
IHN0cmNhdChyZXQsICIsICIpOwohIAl9CiAgCiAgCWlmIChzLT5zKSBmcmVlKHMtPnMpOwogIAlm
cmVlKHMpOwogICAgICB9CiEgICAgIGlmIChyZXRbMF0pCiEgICAgICAgcmV0W3N0cmxlbihyZXQp
LTJdID0gJ1wwJzsKISAgICAgcmV0dXJuIHJldDsKICB9CiAgCiAgc3RhdGljIHRlc3RfdCAqYnVp
bGRfYWRkcmVzcyhpbnQgdCwgc3RydWN0IGFldGFncyAqYWUsCioqKioqKioqKioqKioqKgoqKiog
NzQ5LDc1NCAqKioqCi0tLSA4MTYsODIyIC0tLS0KICAJcmV0LT51LmFlLnNsID0gc2w7CiAgCXJl
dC0+dS5hZS5wbCA9IHBsOwogIAlyZXQtPnUuYWUuYWRkcnBhcnQgPSBhZS0+YWRkcnRhZzsKKyAJ
cmV0LT51LmFlLmV4dGxpc3RzID0gYWUtPmV4dGxpc3RzOwogIAlmcmVlX2FldGFncyhhZSk7CiAg
CiAgICAgIH0KKioqKioqKioqKioqKioqCioqKiA3NjgsNzczICoqKioKLS0tIDgzNiw4NDIgLS0t
LQogIAlyZXQtPnUuaC5jb21wYXJhdG9yPXhzdHJkdXAoaC0+Y29tcGFyYXRvcik7CiAgCXJldC0+
dS5oLnNsID0gc2w7CiAgCXJldC0+dS5oLnBsID0gcGw7CisgCXJldC0+dS5oLmV4dGxpc3RzID0g
aC0+ZXh0bGlzdHM7CiAgCWZyZWVfaHRhZ3MoaCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldDsK
KioqKioqKioqKioqKioqCioqKiA4NjMsODg3ICoqKioKICAgICAgcmV0dXJuIHJldDsKICB9CiAg
CiEgc3RhdGljIGNvbW1hbmRsaXN0X3QgKmJ1aWxkX3JlZGlyZWN0KGludCB0LCBpbnQgY29weSwg
Y2hhciAqYWRkcmVzcykKICB7CiAgICAgIGNvbW1hbmRsaXN0X3QgKnJldCA9IG5ld19jb21tYW5k
KHQpOwogIAogICAgICBhc3NlcnQodCA9PSBSRURJUkVDVCk7CiAgCiAgICAgIGlmIChyZXQpIHsK
ISAJcmV0LT51LnIuY29weSA9IGNvcHk7CiAgCXJldC0+dS5yLmFkZHJlc3MgPSBhZGRyZXNzOwog
ICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgfQogIAogIHN0YXRpYyBzdHJ1Y3QgYWV0YWdzICpu
ZXdfYWV0YWdzKHZvaWQpCiAgewogICAgICBzdHJ1Y3QgYWV0YWdzICpyID0gKHN0cnVjdCBhZXRh
Z3MgKikgeG1hbGxvYyhzaXplb2Yoc3RydWN0IGFldGFncykpOwogIAogICAgICByLT5hZGRydGFn
ID0gci0+Y29tcHRhZyA9IHItPnJlbGF0aW9uPS0xOwogICAgICByLT5jb21wYXJhdG9yPU5VTEw7
CiAgCiAgICAgIHJldHVybiByOwogIH0KLS0tIDkzMiw5NzYgLS0tLQogICAgICByZXR1cm4gcmV0
OwogIH0KICAKISBzdGF0aWMgY29tbWFuZGxpc3RfdCAqYnVpbGRfcmVkaXJlY3QoaW50IHQsIHN0
cnVjdCBydGFncyogciwgY2hhciAqYWRkcmVzcykKICB7CiAgICAgIGNvbW1hbmRsaXN0X3QgKnJl
dCA9IG5ld19jb21tYW5kKHQpOwogIAogICAgICBhc3NlcnQodCA9PSBSRURJUkVDVCk7CiAgCiAg
ICAgIGlmIChyZXQpIHsKISAJcmV0LT51LnIuY29weSA9IHItPmNvcHk7CiEgICAgICAgICByZXQt
PnUuci5leHRsaXN0cyA9IHItPmV4dGxpc3RzOwogIAlyZXQtPnUuci5hZGRyZXNzID0gYWRkcmVz
czsKKyAgICAgICAgIGZyZWUocik7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldDsKICB9CiAgCisg
c3RhdGljIHN0cnVjdCBydGFncyAqbmV3X3J0YWdzKHZvaWQpCisgeworICAgICAgc3RydWN0IHJ0
YWdzICpyID0gKHN0cnVjdCBydGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgcnRhZ3MpKTsK
KyAgCisgICAgICByLT5leHRsaXN0cyA9IDA7CisgICAgICByLT5jb3B5ID0gMDsKKyAgCisgICAg
ICByZXR1cm4gcjsKKyB9CisgIAorIHN0YXRpYyB2b2lkIGZyZWVfcnRhZ3Moc3RydWN0IHJ0YWdz
ICpyKQorIHsKKyAgICAgIGZyZWUocik7CisgfQorICAKKyAKKyAKICBzdGF0aWMgc3RydWN0IGFl
dGFncyAqbmV3X2FldGFncyh2b2lkKQogIHsKICAgICAgc3RydWN0IGFldGFncyAqciA9IChzdHJ1
Y3QgYWV0YWdzICopIHhtYWxsb2Moc2l6ZW9mKHN0cnVjdCBhZXRhZ3MpKTsKICAKICAgICAgci0+
YWRkcnRhZyA9IHItPmNvbXB0YWcgPSByLT5yZWxhdGlvbj0tMTsKICAgICAgci0+Y29tcGFyYXRv
cj1OVUxMOworICAgICByLT5leHRsaXN0cyA9IDA7CiAgCiAgICAgIHJldHVybiByOwogIH0KKioq
KioqKioqKioqKioqCioqKiA5MDcsOTEzICoqKioKICAgICAgc3RydWN0IGh0YWdzICpyID0gKHN0
cnVjdCBodGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgaHRhZ3MpKTsKICAKICAgICAgci0+
Y29tcHRhZyA9IHItPnJlbGF0aW9uPSAtMTsKISAgICAgCiAgICAgIHItPmNvbXBhcmF0b3IgPSBO
VUxMOwogIAogICAgICByZXR1cm4gcjsKLS0tIDk5NiwxMDAyIC0tLS0KICAgICAgc3RydWN0IGh0
YWdzICpyID0gKHN0cnVjdCBodGFncyAqKSB4bWFsbG9jKHNpemVvZihzdHJ1Y3QgaHRhZ3MpKTsK
ICAKICAgICAgci0+Y29tcHRhZyA9IHItPnJlbGF0aW9uPSAtMTsKISAgICAgci0+ZXh0bGlzdHMg
PSAwOyAgICAKICAgICAgci0+Y29tcGFyYXRvciA9IE5VTEw7CiAgCiAgICAgIHJldHVybiByOwo=
</data>        

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1077</attachid>
            <date>2009-05-28 19:28 EDT</date>
            <desc>The correct patch (this time really).</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>2243</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">KioqIDExNCwxMjAgKioqKgogIAogIHN0YXRpYyBjb21tYW5kbGlzdF90ICpyZXQ7CiAgc3RhdGlj
IHNpZXZlX3NjcmlwdF90ICpwYXJzZV9zY3JpcHQ7CiEgc3RhdGljIGludCBjaGVja19yZXFzKHN0
cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0
cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5nbGlzdF90
ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3QgaHRhZ3Mg
KmgsCi0tLSAxMjAsMTI2IC0tLS0KICAKICBzdGF0aWMgY29tbWFuZGxpc3RfdCAqcmV0OwogIHN0
YXRpYyBzaWV2ZV9zY3JpcHRfdCAqcGFyc2Vfc2NyaXB0OwohIHN0YXRpYyBjaGFyKiBjaGVja19y
ZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50
IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAogIAkJCSAgICAgc3RyaW5nbGlzdF90ICpzbCwgc3RyaW5n
bGlzdF90ICpwbCk7CiAgc3RhdGljIHRlc3RfdCAqYnVpbGRfaGVhZGVyKGludCB0LCBzdHJ1Y3Qg
aHRhZ3MgKmgsCioqKioqKioqKioqKioqKgoqKiogMjE5LDIyNiAqKioqCiAgCXwgcmVxdWlyZSBy
ZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJFIHN0cmluZ2xpc3QgJzsnCXsgaWYgKCFjaGVj
a19yZXFzKCQyKSkgewohICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKICAJCQkJICAgIFlZ
RVJST1I7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0KICAJOwotLS0g
MjI5LDI0NCAtLS0tCiAgCXwgcmVxdWlyZSByZXFzCiAgCTsKICAKISByZXF1aXJlOiBSRVFVSVJF
IHN0cmluZ2xpc3QgJzsnCXsgY2hhciAqeCA9IGNoZWNrX3JlcXMoJDIpOwohIAkJCQkgIGlmICh4
WzBdKSB7CiEgCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKISAJCQkJ
ICAgIGlmIChzdHJjaHIoeCwgJywnKSkKISAJCQkJICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0
ZWQgZmVhdHVyZXMgaW4gXCJyZXF1aXJlXCI6ICVzIiwgeCk7CiEgCQkJCSAgICBlbHNlCiEgCQkJ
CSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9ydGVkIGZlYXR1cmUgaW4gXCJyZXF1aXJlXCI6ICVz
IiwgeCk7CiEgCQkJCSAgICB5eWVycm9yKHopOwohIAkJCQkgICAgZnJlZSh6KTsKISAJCQkJICAg
IGZyZWUoeCk7CiAgCQkJCSAgICBZWUVSUk9SOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfSB9CiAgCTsKKioqKioqKioqKioqKioqCioqKiA3MTgsNzM4ICoqKioKICAgICAg
cmV0dXJuIDA7CiAgfQogIAohIHN0YXRpYyBpbnQgY2hlY2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNs
KQogIHsKICAgICAgaW50IGkgPSAxOwogICAgICBzdHJpbmdsaXN0X3QgKnM7CiEgICAgIAogICAg
ICB3aGlsZSAoc2wgIT0gTlVMTCkgewogIAlzID0gc2w7CiAgCXNsID0gc2wtPm5leHQ7CiEgCiEg
CWkgJj0gc2NyaXB0X3JlcXVpcmUocGFyc2Vfc2NyaXB0LCBzLT5zKTsKICAKICAJaWYgKHMtPnMp
IGZyZWUocy0+cyk7CiAgCWZyZWUocyk7CiAgICAgIH0KISAgICAgcmV0dXJuIGk7CiAgfQogIAog
IHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQsIHN0cnVjdCBhZXRhZ3MgKmFlLAot
LS0gNzgwLDgwNCAtLS0tCiAgICAgIHJldHVybiAwOwogIH0KICAKISBzdGF0aWMgY2hhciogY2hl
Y2tfcmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogIHsKICAgICAgc3RyaW5nbGlzdF90ICpzOwohICAg
ICBjaGFyKiByZXQgPSBtYWxsb2MoMTAwMCk7IC8vUE9URU5USUFMIEJVRkZFUiBPVkVSRkxPVwoh
ICAgICByZXRbMF0gPSAnXDAnOwogICAgICB3aGlsZSAoc2wgIT0gTlVMTCkgewogIAlzID0gc2w7
CiAgCXNsID0gc2wtPm5leHQ7CiEgCWlmIChzY3JpcHRfcmVxdWlyZShwYXJzZV9zY3JpcHQsIHMt
PnMpID09IDApIHsKISAJICBzdHJjYXQocmV0LCBzLT5zKTsKISAJICBzdHJjYXQocmV0LCAiLCAi
KTsKISAJfQogIAogIAlpZiAocy0+cykgZnJlZShzLT5zKTsKICAJZnJlZShzKTsKICAgICAgfQoh
ICAgICBpZiAocmV0WzBdKQohICAgICAgIHJldFtzdHJsZW4ocmV0KS0yXSA9ICdcMCc7CiEgICAg
IHJldHVybiByZXQ7CiAgfQogIAogIHN0YXRpYyB0ZXN0X3QgKmJ1aWxkX2FkZHJlc3MoaW50IHQs
IHN0cnVjdCBhZXRhZ3MgKmFlLAo=
</data>        

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1240</attachid>
            <date>2009-11-25 15:56 EDT</date>
            <desc>The same patch, this time created with diff -urB (so + instead of !)</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>1731</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy4xNC9zaWV2ZS9zaWV2ZS55CTIwMDgtMTAtMDIgMTM6MzY6NTYu
MDAwMDAwMDAwICswMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuMTQtcGF0Y2hlZC9zaWV2ZS9zaWV2
ZS55CTIwMDktMDUtMjggMjM6MTM6NDMuMDAwMDAwMDAwICswMDAwCkBAIC0xMTQsNyArMTIwLDcg
QEAKIAogc3RhdGljIGNvbW1hbmRsaXN0X3QgKnJldDsKIHN0YXRpYyBzaWV2ZV9zY3JpcHRfdCAq
cGFyc2Vfc2NyaXB0Owotc3RhdGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwor
c3RhdGljIGNoYXIqIGNoZWNrX3JlcXMoc3RyaW5nbGlzdF90ICpzbCk7CiBzdGF0aWMgdGVzdF90
ICpidWlsZF9hZGRyZXNzKGludCB0LCBzdHJ1Y3QgYWV0YWdzICphZSwKIAkJCSAgICAgc3RyaW5n
bGlzdF90ICpzbCwgc3RyaW5nbGlzdF90ICpwbCk7CiBzdGF0aWMgdGVzdF90ICpidWlsZF9oZWFk
ZXIoaW50IHQsIHN0cnVjdCBodGFncyAqaCwKQEAgLTIxOSw4ICsyMjksMTYgQEAKIAl8IHJlcXVp
cmUgcmVxcwogCTsKIAotcmVxdWlyZTogUkVRVUlSRSBzdHJpbmdsaXN0ICc7Jwl7IGlmICghY2hl
Y2tfcmVxcygkMikpIHsKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKK3JlcXVpcmU6IFJF
UVVJUkUgc3RyaW5nbGlzdCAnOycJeyBjaGFyICp4ID0gY2hlY2tfcmVxcygkMik7CisJCQkJICBp
ZiAoeFswXSkgeworCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKKwkJ
CQkgICAgaWYgKHN0cmNocih4LCAnLCcpKQorCQkJCSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9y
dGVkIGZlYXR1cmVzIGluIFwicmVxdWlyZVwiOiAlcyIsIHgpOworCQkJCSAgICBlbHNlCisJCQkJ
ICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0ZWQgZmVhdHVyZSBpbiBcInJlcXVpcmVcIjogJXMi
LCB4KTsKKwkJCQkgICAgeXllcnJvcih6KTsKKwkJCQkgICAgZnJlZSh6KTsKKwkJCQkgICAgZnJl
ZSh4KTsKIAkJCQkgICAgWVlFUlJPUjsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfSB9CiAJOwpAQCAtNzE4LDIxICs3ODAsMjYgQEAKICAgICByZXR1cm4gMDsKIH0KIAotc3Rh
dGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpCitzdGF0aWMgY2hhciogY2hlY2tf
cmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogewogICAgIGludCBpID0gMTsKICAgICBzdHJpbmdsaXN0
X3QgKnM7Ci0gICAgCisgICAgY2hhciogcmV0ID0gbWFsbG9jKDEwMDApOyAvL1BPVEVOVElBTCBC
VUZGRVIgT1ZFUkZMT1cKKyAgICByZXRbMF0gPSAnXDAnOwogICAgIHdoaWxlIChzbCAhPSBOVUxM
KSB7CiAJcyA9IHNsOwogCXNsID0gc2wtPm5leHQ7Ci0KLQlpICY9IHNjcmlwdF9yZXF1aXJlKHBh
cnNlX3NjcmlwdCwgcy0+cyk7CisJaWYgKHNjcmlwdF9yZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+
cykgPT0gMCkgeworCSAgc3RyY2F0KHJldCwgcy0+cyk7CisJICBzdHJjYXQocmV0LCAiLCAiKTsK
Kwl9CiAKIAlpZiAocy0+cykgZnJlZShzLT5zKTsKIAlmcmVlKHMpOwogICAgIH0KLSAgICByZXR1
cm4gaTsKKyAgICBpZiAocmV0WzBdKQorICAgICAgcmV0W3N0cmxlbihyZXQpLTJdID0gJ1wwJzsK
KyAgICByZXR1cm4gcmV0OwogfQogCiBzdGF0aWMgdGVzdF90ICpidWlsZF9hZGRyZXNzKGludCB0
LCBzdHJ1Y3QgYWV0YWdzICphZSwK
</data>        

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1241</attachid>
            <date>2009-11-25 15:56 EDT</date>
            <desc>The same patch, this time created with diff -urB (so + instead of !)</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>1731</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy4xNC9zaWV2ZS9zaWV2ZS55CTIwMDgtMTAtMDIgMTM6MzY6NTYu
MDAwMDAwMDAwICswMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuMTQtcGF0Y2hlZC9zaWV2ZS9zaWV2
ZS55CTIwMDktMDUtMjggMjM6MTM6NDMuMDAwMDAwMDAwICswMDAwCkBAIC0xMTQsNyArMTIwLDcg
QEAKIAogc3RhdGljIGNvbW1hbmRsaXN0X3QgKnJldDsKIHN0YXRpYyBzaWV2ZV9zY3JpcHRfdCAq
cGFyc2Vfc2NyaXB0Owotc3RhdGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwor
c3RhdGljIGNoYXIqIGNoZWNrX3JlcXMoc3RyaW5nbGlzdF90ICpzbCk7CiBzdGF0aWMgdGVzdF90
ICpidWlsZF9hZGRyZXNzKGludCB0LCBzdHJ1Y3QgYWV0YWdzICphZSwKIAkJCSAgICAgc3RyaW5n
bGlzdF90ICpzbCwgc3RyaW5nbGlzdF90ICpwbCk7CiBzdGF0aWMgdGVzdF90ICpidWlsZF9oZWFk
ZXIoaW50IHQsIHN0cnVjdCBodGFncyAqaCwKQEAgLTIxOSw4ICsyMjksMTYgQEAKIAl8IHJlcXVp
cmUgcmVxcwogCTsKIAotcmVxdWlyZTogUkVRVUlSRSBzdHJpbmdsaXN0ICc7Jwl7IGlmICghY2hl
Y2tfcmVxcygkMikpIHsKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKK3JlcXVpcmU6IFJF
UVVJUkUgc3RyaW5nbGlzdCAnOycJeyBjaGFyICp4ID0gY2hlY2tfcmVxcygkMik7CisJCQkJICBp
ZiAoeFswXSkgeworCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKKwkJ
CQkgICAgaWYgKHN0cmNocih4LCAnLCcpKQorCQkJCSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9y
dGVkIGZlYXR1cmVzIGluIFwicmVxdWlyZVwiOiAlcyIsIHgpOworCQkJCSAgICBlbHNlCisJCQkJ
ICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0ZWQgZmVhdHVyZSBpbiBcInJlcXVpcmVcIjogJXMi
LCB4KTsKKwkJCQkgICAgeXllcnJvcih6KTsKKwkJCQkgICAgZnJlZSh6KTsKKwkJCQkgICAgZnJl
ZSh4KTsKIAkJCQkgICAgWVlFUlJPUjsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfSB9CiAJOwpAQCAtNzE4LDIxICs3ODAsMjYgQEAKICAgICByZXR1cm4gMDsKIH0KIAotc3Rh
dGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpCitzdGF0aWMgY2hhciogY2hlY2tf
cmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogewogICAgIGludCBpID0gMTsKICAgICBzdHJpbmdsaXN0
X3QgKnM7Ci0gICAgCisgICAgY2hhciogcmV0ID0gbWFsbG9jKDEwMDApOyAvL1BPVEVOVElBTCBC
VUZGRVIgT1ZFUkZMT1cKKyAgICByZXRbMF0gPSAnXDAnOwogICAgIHdoaWxlIChzbCAhPSBOVUxM
KSB7CiAJcyA9IHNsOwogCXNsID0gc2wtPm5leHQ7Ci0KLQlpICY9IHNjcmlwdF9yZXF1aXJlKHBh
cnNlX3NjcmlwdCwgcy0+cyk7CisJaWYgKHNjcmlwdF9yZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+
cykgPT0gMCkgeworCSAgc3RyY2F0KHJldCwgcy0+cyk7CisJICBzdHJjYXQocmV0LCAiLCAiKTsK
Kwl9CiAKIAlpZiAocy0+cykgZnJlZShzLT5zKTsKIAlmcmVlKHMpOwogICAgIH0KLSAgICByZXR1
cm4gaTsKKyAgICBpZiAocmV0WzBdKQorICAgICAgcmV0W3N0cmxlbihyZXQpLTJdID0gJ1wwJzsK
KyAgICByZXR1cm4gcmV0OwogfQogCiBzdGF0aWMgdGVzdF90ICpidWlsZF9hZGRyZXNzKGludCB0
LCBzdHJ1Y3QgYWV0YWdzICphZSwK
</data>        

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1243</attachid>
            <date>2009-12-10 17:35 EDT</date>
            <desc>Provides details in the &quot;unsupported features&quot; error msg of timsieved</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>1930</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy4xNC9zaWV2ZS9zaWV2ZS55CTIwMDgtMTAtMDIgMTM6MzY6NTYu
MDAwMDAwMDAwICswMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuMTQtcGF0Y2hlZC9zaWV2ZS9zaWV2
ZS55CTIwMDktMTItMTAgMjI6MDM6MzIuMDAwMDAwMDAwICswMDAwCkBAIC0xMTQsNyArMTIwLDcg
QEAKIAogc3RhdGljIGNvbW1hbmRsaXN0X3QgKnJldDsKIHN0YXRpYyBzaWV2ZV9zY3JpcHRfdCAq
cGFyc2Vfc2NyaXB0Owotc3RhdGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwor
c3RhdGljIGNoYXIqIGNoZWNrX3JlcXMoc3RyaW5nbGlzdF90ICpzbCk7CiBzdGF0aWMgdGVzdF90
ICpidWlsZF9hZGRyZXNzKGludCB0LCBzdHJ1Y3QgYWV0YWdzICphZSwKIAkJCSAgICAgc3RyaW5n
bGlzdF90ICpzbCwgc3RyaW5nbGlzdF90ICpwbCk7CiBzdGF0aWMgdGVzdF90ICpidWlsZF9oZWFk
ZXIoaW50IHQsIHN0cnVjdCBodGFncyAqaCwKQEAgLTIxOSw4ICsyMjksMTYgQEAKIAl8IHJlcXVp
cmUgcmVxcwogCTsKIAotcmVxdWlyZTogUkVRVUlSRSBzdHJpbmdsaXN0ICc7Jwl7IGlmICghY2hl
Y2tfcmVxcygkMikpIHsKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKK3JlcXVpcmU6IFJF
UVVJUkUgc3RyaW5nbGlzdCAnOycJeyBjaGFyICp4ID0gY2hlY2tfcmVxcygkMik7CisJCQkJICBp
ZiAoeFswXSkgeworCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKKwkJ
CQkgICAgaWYgKHN0cmNocih4LCAnLCcpKQorCQkJCSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9y
dGVkIGZlYXR1cmVzIGluIFwicmVxdWlyZVwiOiAlcyIsIHgpOworCQkJCSAgICBlbHNlCisJCQkJ
ICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0ZWQgZmVhdHVyZSBpbiBcInJlcXVpcmVcIjogJXMi
LCB4KTsKKwkJCQkgICAgeXllcnJvcih6KTsKKwkJCQkgICAgZnJlZSh6KTsKKwkJCQkgICAgZnJl
ZSh4KTsKIAkJCQkgICAgWVlFUlJPUjsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfSB9CiAJOwpAQCAtNzE4LDIxICs3ODAsMjggQEAKICAgICByZXR1cm4gMDsKIH0KIAotc3Rh
dGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpCitzdGF0aWMgY2hhciogY2hlY2tf
cmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogewotICAgIGludCBpID0gMTsKICAgICBzdHJpbmdsaXN0
X3QgKnM7Ci0gICAgCisgICAgY2hhciogcmV0dXJuX3N0cmluZyA9IG1hbGxvYygxKTsKKyAgICBp
bnQgcmV0dXJuX3N0cmluZ19sZW5ndGggPSAxOworICAgIHJldHVybl9zdHJpbmdbMF0gPSAnXDAn
OwogICAgIHdoaWxlIChzbCAhPSBOVUxMKSB7CiAJcyA9IHNsOwogCXNsID0gc2wtPm5leHQ7Ci0K
LQlpICY9IHNjcmlwdF9yZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+cyk7CisJaWYgKHNjcmlwdF9y
ZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+cykgPT0gMCkgeworCSAgcmV0dXJuX3N0cmluZ19sZW5n
dGggKz0gMiArIHN0cmxlbihzLT5zKTsKKwkgIHJldHVybl9zdHJpbmcgPSByZWFsbG9jKHJldHVy
bl9zdHJpbmcsIHJldHVybl9zdHJpbmdfbGVuZ3RoKTsKKwkgIHN0cmNhdChyZXR1cm5fc3RyaW5n
LCBzLT5zKTsKKwkgIHN0cmNhdChyZXR1cm5fc3RyaW5nLCAiLCAiKTsKKwl9CiAKIAlpZiAocy0+
cykgZnJlZShzLT5zKTsKIAlmcmVlKHMpOwogICAgIH0KLSAgICByZXR1cm4gaTsKKyAgICBpZiAo
cmV0dXJuX3N0cmluZ1swXSkKKyAgICAgICAgcmV0dXJuX3N0cmluZ1tyZXR1cm5fc3RyaW5nX2xl
bmd0aCAtIDNdID0gJ1wwJzsKKyAgICByZXR1cm4gcmV0dXJuX3N0cmluZzsKIH0KIAogc3RhdGlj
IHRlc3RfdCAqYnVpbGRfYWRkcmVzcyhpbnQgdCwgc3RydWN0IGFldGFncyAqYWUsCg==
</data>        

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1246</attachid>
            <date>2009-12-13 12:35 EDT</date>
            <desc>Provides detailed error message from timsieved in the &quot;unsupported features&quot;-case .</desc>
            <filename>timsieved_unsupported_features.patch</filename>
            <type>text/plain</type>
            <size>1965</size>
            <attacher>dilyan.palauzov@aegee.org</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy4xNC9zaWV2ZS9zaWV2ZS55CTIwMDgtMTAtMDIgMTM6MzY6NTYu
MDAwMDAwMDAwICswMDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuMTQtcGF0Y2hlZC9zaWV2ZS9zaWV2
ZS55CTIwMDktMTItMTMgMTU6NDk6MDguMDAwMDAwMDAwICswMDAwCkBAIC0xMTQsNyArMTIwLDcg
QEAKIAogc3RhdGljIGNvbW1hbmRsaXN0X3QgKnJldDsKIHN0YXRpYyBzaWV2ZV9zY3JpcHRfdCAq
cGFyc2Vfc2NyaXB0Owotc3RhdGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpOwor
c3RhdGljIGNoYXIqIGNoZWNrX3JlcXMoc3RyaW5nbGlzdF90ICpzbCk7CiBzdGF0aWMgdGVzdF90
ICpidWlsZF9hZGRyZXNzKGludCB0LCBzdHJ1Y3QgYWV0YWdzICphZSwKIAkJCSAgICAgc3RyaW5n
bGlzdF90ICpzbCwgc3RyaW5nbGlzdF90ICpwbCk7CiBzdGF0aWMgdGVzdF90ICpidWlsZF9oZWFk
ZXIoaW50IHQsIHN0cnVjdCBodGFncyAqaCwKQEAgLTIxOSw4ICsyMjksMTYgQEAKIAl8IHJlcXVp
cmUgcmVxcwogCTsKIAotcmVxdWlyZTogUkVRVUlSRSBzdHJpbmdsaXN0ICc7Jwl7IGlmICghY2hl
Y2tfcmVxcygkMikpIHsKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5ZXJy
b3IoIlVuc3VwcG9ydGVkIGZlYXR1cmUocykgaW4gXCJyZXF1aXJlXCIiKTsKK3JlcXVpcmU6IFJF
UVVJUkUgc3RyaW5nbGlzdCAnOycJeyBjaGFyICp4ID0gY2hlY2tfcmVxcygkMik7CisJCQkJICBp
ZiAoeFswXSkgeworCQkJCSAgICBjaGFyICp6ID0gbWFsbG9jKHN0cmxlbih4KSArIDQwKTsKKwkJ
CQkgICAgaWYgKHN0cmNocih4LCAnLCcpKQorCQkJCSAgICAgIHNwcmludGYoeiwgIlVuc3VwcG9y
dGVkIGZlYXR1cmVzIGluIFwicmVxdWlyZVwiOiAlcyIsIHgpOworCQkJCSAgICBlbHNlCisJCQkJ
ICAgICAgc3ByaW50Zih6LCAiVW5zdXBwb3J0ZWQgZmVhdHVyZSBpbiBcInJlcXVpcmVcIjogJXMi
LCB4KTsKKwkJCQkgICAgeXllcnJvcih6KTsKKwkJCQkgICAgZnJlZSh6KTsKKwkJCQkgICAgZnJl
ZSh4KTsKIAkJCQkgICAgWVlFUlJPUjsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfSB9CiAJOwpAQCAtNzE4LDIxICs3ODAsMjkgQEAKICAgICByZXR1cm4gMDsKIH0KIAotc3Rh
dGljIGludCBjaGVja19yZXFzKHN0cmluZ2xpc3RfdCAqc2wpCitzdGF0aWMgY2hhciogY2hlY2tf
cmVxcyhzdHJpbmdsaXN0X3QgKnNsKQogewotICAgIGludCBpID0gMTsKICAgICBzdHJpbmdsaXN0
X3QgKnM7Ci0gICAgCisgICAgY2hhciogcmV0dXJuX3N0cmluZyA9IG1hbGxvYygxKTsKKyAgICBp
bnQgcmV0dXJuX3N0cmluZ19sZW5ndGggPSAxOworICAgIHJldHVybl9zdHJpbmdbMF0gPSAnXDAn
OwogICAgIHdoaWxlIChzbCAhPSBOVUxMKSB7CiAJcyA9IHNsOwogCXNsID0gc2wtPm5leHQ7Ci0K
LQlpICY9IHNjcmlwdF9yZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+cyk7CisJaWYgKHNjcmlwdF9y
ZXF1aXJlKHBhcnNlX3NjcmlwdCwgcy0+cykgPT0gMCkgeworCSAgcmV0dXJuX3N0cmluZ19sZW5n
dGggKz0gNCArIHN0cmxlbihzLT5zKTsKKwkgIHJldHVybl9zdHJpbmcgPSByZWFsbG9jKHJldHVy
bl9zdHJpbmcsIHJldHVybl9zdHJpbmdfbGVuZ3RoKTsKKwkgIHN0cmNhdChyZXR1cm5fc3RyaW5n
LCAiXCIiKTsKKwkgIHN0cmNhdChyZXR1cm5fc3RyaW5nLCBzLT5zKTsKKwkgIHN0cmNhdChyZXR1
cm5fc3RyaW5nLCAiXCIsICIpOworCX0KIAogCWlmIChzLT5zKSBmcmVlKHMtPnMpOwogCWZyZWUo
cyk7CiAgICAgfQotICAgIHJldHVybiBpOworICAgIGlmIChyZXR1cm5fc3RyaW5nWzBdKQorICAg
ICAgICByZXR1cm5fc3RyaW5nW3JldHVybl9zdHJpbmdfbGVuZ3RoIC0gM10gPSAnXDAnOworICAg
IHJldHVybiByZXR1cm5fc3RyaW5nOwogfQogCiBzdGF0aWMgdGVzdF90ICpidWlsZF9hZGRyZXNz
KGludCB0LCBzdHJ1Y3QgYWV0YWdzICphZSwK
</data>        

          </attachment>
      

    </bug>

</bugzilla>