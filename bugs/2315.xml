<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>2315</bug_id>
          
          <creation_ts>2003-12-03 09:25 EDT</creation_ts>
          <short_desc>autocreate on fileinto feature for 2.2.2</short_desc>
          <delta_ts>2010-10-18 12:43:03 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>IMAP</component>
          <version>2.2.x</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>DUPLICATE</resolution>
          <dup_id>2306</dup_id>
          <bug_file_loc>http://email.uoa.gr/projects/cyrus/autosievefolder</bug_file_loc>
          
          
          <priority>P2</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Aristotelis">arisg@noc.uoa.gr</reporter>
          <assigned_to name="Rob Siemborski">rjs3@andrew.cmu.edu</assigned_to>
          <cc>arisg@noc.uoa.gr</cc>
          <qa_contact name="The Cyrus Bugzilla List">cyrus-bugzilla@lists.andrew.cmu.edu</qa_contact>

      

      

      
          <long_desc isprivate="0">
            <who name="Aristotelis">arisg@noc.uoa.gr</who>
            <bug_when>2003-12-03 09:25:10 EDT</bug_when>
            <thetext>Same like bug #2306</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Aristotelis">arisg@noc.uoa.gr</who>
            <bug_when>2003-12-03 09:26:00 EDT</bug_when>
            <thetext>Created an attachment (id=243)
The latest patch
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Rob Siemborski">rjs3@andrew.cmu.edu</who>
            <bug_when>2003-12-03 14:44:17 EDT</bug_when>
            <thetext>

*** This bug has been marked as a duplicate of 2306 ***</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>243</attachid>
            <date>2003-12-03 09:26 EDT</date>
            <desc>The latest patch</desc>
            <filename>cyrus-imapd-2.2.2-BETA-autosievefolder-0.1.patch.txt</filename>
            <type>text/plain</type>
            <size>4420</size>
            <attacher>arisg@noc.uoa.gr</attacher>
            
              <data encoding="base64">LS0tIGxtdHBkLmMub3JpZwkyMDAzLTEyLTAxIDE1OjEzOjIxLjk2MzM1NjAwMCArMDIwMAorKysg
bG10cGQuYwkyMDAzLTEyLTAyIDE2OjAzOjIxLjI0MzMzMTAwMCArMDIwMApAQCAtMTY3LDYgKzE2
Nyw4IEBACiBzdGF0aWMgaW50IHNpZXZlX3VzZWhvbWVkaXIgPSAwOwogc3RhdGljIGNvbnN0IGNo
YXIgKnNpZXZlX2RpciA9IE5VTEw7CiAjZW5kaWYKK3N0YXRpYyBpbnQgYXV0b3NpZXZlX3N1YmZv
bGRlcihjaGFyICp1c2VyaWQsIHN0cnVjdCBhdXRoX3N0YXRlICphdXRoX3N0YXRlLAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKnN1YmZvbGRlcik7IAogCiAvKiBwZXItdXNl
ci9zZXNzaW9uIHN0YXRlICovCiBzdGF0aWMgc3RydWN0IHByb3RzdHJlYW0gKmRlbGl2ZXJfb3V0
LCAqZGVsaXZlcl9pbjsKQEAgLTYyMyw2ICs2MjUsMTkgQEAKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc2QtPnVzZXJuYW1lLCBtZGF0YS0+bm90aWZ5aGVhZGVyLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICBmYy0+bWFpbGJveCwgcXVvdGFvdmVycmlkZSwgMCk7CiAKKyAgICBpZiAocmV0
ID09IElNQVBfTUFJTEJPWF9OT05FWElTVEVOVCkgeworCS8qIGlmICJwbHVzIiBmb2xkZXIgdW5k
ZXIgSU5CT1gsIHRoZW4gdHJ5IHRvIGNyZWF0ZSBpdCAqLworCXJldCA9IGF1dG9zaWV2ZV9zdWJm
b2xkZXIoc2QtPnVzZXJuYW1lLCBzZC0+YXV0aHN0YXRlLCBmYy0+bWFpbGJveCk7CisJCisJaWYg
KCFyZXQpCisJICAgIHJldCA9IGRlbGl2ZXJfbWFpbGJveChtZC0+ZGF0YSwgbWRhdGEtPnN0YWdl
LCBtZC0+c2l6ZSwKKwkJCQkgIGZjLT5pbWFwZmxhZ3MtPmZsYWcsIGZjLT5pbWFwZmxhZ3MtPm5m
bGFncywKKwkJCQkgIHNkLT51c2VybmFtZSwgc2QtPmF1dGhzdGF0ZSwgbWQtPmlkLAorCQkJCSAg
c2QtPnVzZXJuYW1lLCBtZGF0YS0+bm90aWZ5aGVhZGVyLAorCQkJCSAgZmMtPm1haWxib3gsIHF1
b3Rhb3ZlcnJpZGUsIDApOworICAgICB9CisJCQorCiAgICAgaWYgKHJldCA9PSAwKSB7CiAKIAlz
bm1wX2luY3JlbWVudChTSUVWRV9GSUxFSU5UTywgMSk7CkBAIC0xNDcyLDMgKzE0ODcsODkgQEAK
ICAgICBhcHBlbmRfcmVtb3Zlc3RhZ2Uoc3RhZ2UpOwogfQogCisKKyNkZWZpbmUgU0VQICd8Jwor
IAorc3RhdGljIGludCBhdXRvc2lldmVfc3ViZm9sZGVyKGNoYXIgKnVzZXJpZCwgc3RydWN0IGF1
dGhfc3RhdGUgKmF1dGhfc3RhdGUsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hh
ciAqc3ViZm9sZGVyKSAKK3sKKyAgICAgY2hhciBmb2xkZXJuYW1lIFtNQVhfTUFJTEJPWF9OQU1F
KzFdOworICAgICBjaGFyIGYgW01BWF9NQUlMQk9YX05BTUUrMV07CisgICAgIGNvbnN0IGNoYXIg
KnN1YmYgOworICAgICBjaGFyICpwLCAqcSwgKm5leHRfc3ViZiwgKm1ib3g7CisgICAgIGludCBs
ZW4sIHIgPSAwOworICAgICBpbnQgY3JlYXRlc2lldmVmb2xkZXIgPSAwOworIAorICAgCisgICAg
LyogQ2hlY2sgaWYgc3ViZm9sZGVyIGlzIE5VTEwgKi8gCisgICAgaWYoc3ViZm9sZGVyID09IE5V
TEwpIAorICAgICAgIHJldHVybiBJTUFQX01BSUxCT1hfTk9ORVhJU1RFTlQ7IAorIAorICAgIGlm
ICgoc3ViZm9sZGVyWzBdICE9ICdpJyAmJiBzdWJmb2xkZXJbMF0gIT0gJ0knKSB8fAorICAgICAg
ICAgICAgICAgICAgc3RybmNhc2VjbXAoc3ViZm9sZGVyLCAiaW5ib3giLCA1KSB8fAorICAgICAg
ICAgICAgICAgc3ViZm9sZGVyWzVdICE9IGxtdHBkX25hbWVzcGFjZS5oaWVyX3NlcCkKKyAgICAg
ICAgcmV0dXJuIElNQVBfTUFJTEJPWF9OT05FWElTVEVOVDsKKyAKKyAKKyAgICBpZiAoY29uZmln
X2dldHN3aXRjaChJTUFQT1BUX0FOWVNJRVZFRk9MREVSKSkKKyAgICAgICAgY3JlYXRlc2lldmVm
b2xkZXIgPSAxOworICAgIGVsc2UgaWYgKChzdWJmID0gY29uZmlnX2dldHN0cmluZyhJTUFQT1BU
X0FVVE9TSUVWRUZPTERFUlMpKSAhPSBOVUxMKSB7CisgICAgICAgICAgICAgLyoKKyAgICAgICAg
ICAgICAgKiBtYm94IGNvbnRhaW5zIG9ubHkgdGhlIHN1YmZvbGRlciB0byBiZSBjcmVhdGVkIG5h
bWUKKyAgICAgICAgICAgICAgKi8KKyAgICAgICAgICAgICAgbWJveCA9IHN0cmNocihzdWJmb2xk
ZXIsIChpbnQpIGxtdHBkX25hbWVzcGFjZS5oaWVyX3NlcCk7IAorICAgICAgICAgICAgICBtYm94
Kys7CisKKyAKKyAgICAgICAgICAgICAgLyogUm9sbCB0aHJvdWdoIHN1YmYgKi8KKyAgICAgICAg
ICAgICAgbmV4dF9zdWJmID0gKGNoYXIgKikgc3ViZjsKKyAgICAgICAgICAgICAgd2hpbGUgKCpu
ZXh0X3N1YmYpIHsKKyAgICAgICAgICAgICAgICAgICAgZm9yIChwID0gbmV4dF9zdWJmIDsgaXNz
cGFjZSgoaW50KSAqcCkgfHwgKnAgPT0gU0VQIDsgcCsrKTsKKyAgICAgICAgICAgICAgICAgICAg
Zm9yIChuZXh0X3N1YmYgPSBwIDsgKm5leHRfc3ViZiAmJiAqbmV4dF9zdWJmICE9IFNFUCA7IG5l
eHRfc3ViZisrKTsKKyAgICAgICAgICAgICAgICAgICAgZm9yIChxID0gbmV4dF9zdWJmIDsgcSA+
IHAgJiYgKGlzc3BhY2UoKGludCkgKnEpIHx8ICpxID09IFNFUCB8fCAhKnEpOyBxLS0pOworICAg
ICAgIAorICAgICAgICAgICAgICAgICAgICBpZiAoISpwKSBjb250aW51ZTsKKyAgICAgICAgICAg
ICAgICAgICAgLyoKKyAgICAgICAgICAgICAgICAgICAgICogVGhpcyBpcyBhIHByZWxpbWluYXJ5
IGxlbmd0aCBjaGVjayBiYXNlZCBvbiB0aGUgYXNzdW1wdGlvbgorICAgICAgICAgICAgICAgICAg
ICAgKiB0aGF0IHRoZSAqZmluYWwqIGludGVybmFsIGZvcm1hdCB3aWxsIGJlIHNvbWV0aGluZwor
ICAgICAgICAgICAgICAgICAgICAgKiBsaWtlIHVzZXIudXNlcmlkLnN1YmZvbGRlcihzKS4KKyAg
ICAgICAgICAgICAgICAgICAgICovCisJCSAgICBsZW4gPSBxIC0gcCArIDE7CisKKyAgICAgICAg
ICAgICAgICAgICAgaWYgKGxlbiAgPiBzaXplb2YoZikgLSBzdHJsZW4odXNlcmlkKSAtIDUpCisg
ICAgICAgICAgICAgICAgICAgICAgICByID0gSU1BUF9NQUlMQk9YX0JBRE5BTUU7CisgCisgICAg
ICAgICAgICAgICAgICAgIGlmICghcikgeworICAgICAgICAgICAgICAgICAgICAgICAgc3RybmNw
eShmLCBwLCBsZW4pOworICAgICAgICAgICAgICAgICAgICAgICAgZltsZW5dID0gJ1wwJzsKKyAK
KyAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyY21wKGYsIG1ib3gpKSB7CisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY3JlYXRlc2lldmVmb2xkZXIgPSAxOworIAkJICAgICAgICAg
ICAgYnJlYWs7CisgICAgICAgICAgICAgICAgICAgICAgICB9CisgICAgICAgICAgICAgICAgICAg
IH0KKyAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgCisgICAgICAgICB9CisgCisgICAgaWYg
KGNyZWF0ZXNpZXZlZm9sZGVyKSB7CisgICAgICAgIC8qIFRyYW5zbGF0ZSBhbnkgc2VwYXJhdG9y
cyBpbiB1c2VyICovCisgICAgICAgIGlmICh1c2VyaWQpIG1ib3huYW1lX2hpZXJzZXBfdG9pbnRl
cm5hbCgmbG10cGRfbmFtZXNwYWNlLCB1c2VyaWQsIDApOworICAgIAorICAgICAgICByID0gKCps
bXRwZF9uYW1lc3BhY2UubWJveG5hbWVfdG9pbnRlcm5hbCkgKCZsbXRwZF9uYW1lc3BhY2UsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmZvbGRlciwg
dXNlcmlkLCBmb2xkZXJuYW1lKTsKKyAgICAgICAgaWYgKCFyKQorICAgICAgICAgICAgciA9IG1i
b3hsaXN0X2NyZWF0ZW1haWxib3goZm9sZGVybmFtZSwgTUFJTEJPWF9GT1JNQVRfTk9STUFMLCBO
VUxMLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsIHVzZXJp
ZCwgYXV0aF9zdGF0ZSwgMCwgMCwgMCk7CisgICAgICAgIGlmICghcikgeworICAgICAgICAgICAg
bWJveGxpc3RfY2hhbmdlc3ViKGZvbGRlcm5hbWUsIHVzZXJpZCwgYXV0aF9zdGF0ZSwgMSwgMSk7
CisgICAgICAgICAgICBzeXNsb2coTE9HX0RFQlVHLCAiT25kZW1hbmQgc3ViZm9sZGVyOiBVc2Vy
ICVzLCBzdWJmb2xkZXIgJXMgY3JlYXRpb24gc3VjY2VlZGVkLiIsCisgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyaWQsIGZvbGRlcm5hbWUpOwor
ICAgICAgICAgICAgcmV0dXJuIDA7CisgICAgICAgIH0gZWxzZSB7CisgICAgICAgICAgICBzeXNs
b2coTE9HX0VSUiwgIlJlcXVlc3RlZCBzdWJmb2xkZXI6IFVzZXIgJXMsIHN1YmZvbGRlciAlcyBj
cmVhdGlvbiBmYWlsZWQuICVzIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdXNlcmlkLCBmb2xkZXJuYW1lLGVycm9yX21lc3NhZ2UocikpOworICAg
ICAgICAgICAgcmV0dXJuIHI7CisgICAgICAgIH0KKyAgICB9IGVsc2UgCisgICAgICAgIHJldHVy
biBJTUFQX01BSUxCT1hfTk9ORVhJU1RFTlQ7Cit9Cg==
</data>        

          </attachment>
      

    </bug>

</bugzilla>