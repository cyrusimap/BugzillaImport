<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>3147</bug_id>
          
          <creation_ts>2009-03-27 12:24 EDT</creation_ts>
          <short_desc>Setacl accepts empty identifiers</short_desc>
          <delta_ts>2009-03-27 12:25:51 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>IMAP</component>
          <version>2.3.x</version>
          <rep_platform>Other</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>NEW</bug_status>
          
          
          
          
          
          <priority>P5</priority>
          <bug_severity>bug</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Thomas Jarosch">thomas.jarosch@intra2net.com</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          

      

      

      
          <long_desc isprivate="0">
            <who name="Thomas Jarosch">thomas.jarosch@intra2net.com</who>
            <bug_when>2009-03-27 12:24:18 EDT</bug_when>
            <thetext>Created an attachment (id=1063)
Prevent setacl for empty identifiers

Hello together,

The &quot;setacl&quot; command currently accepts empty identifiers.
Last test was done with cyrus-imapd 2.3.13.

RFC 4314 states this is specifically disallowed.
(Thanks to Wesley Craig for looking it up)

Attached is my initial patch to fix it, open for discussion.

Best regards,
Thomas Jarosch</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>1063</attachid>
            <date>2009-03-27 12:24 EDT</date>
            <desc>Prevent setacl for empty identifiers</desc>
            <filename>cyrus-imapd-prevent-setacl-for-empty-identifier.patch</filename>
            <type>text/plain</type>
            <size>659</size>
            <attacher>thomas.jarosch@intra2net.com</attacher>
            
              <data encoding="base64">ZGlmZiAtdSAtciAtcCBjeXJ1cy1pbWFwZC0yLjMuMTMvbGliL2FjbF9hZnMuYyBjeXJ1cy1pbWFw
ZC5wYXRjaGVkL2xpYi9hY2xfYWZzLmMKLS0tIGN5cnVzLWltYXBkLTIuMy4xMy9saWIvYWNsX2Fm
cy5jCU1vbiBNYXIgMjQgMTg6NDM6MDggMjAwOAorKysgY3lydXMtaW1hcGQucGF0Y2hlZC9saWIv
YWNsX2Fmcy5jCVR1ZSBGZWIgIDMgMTU6MTI6MTYgMjAwOQpAQCAtMTM3LDYgKzEzNywxMiBAQCB2
b2lkICpjYW5vbnJvY2s7CiAJLyogdHJ5aW5nIHRvIGRlbGV0ZSBpbnZhbGlkL25vbi1leGlzdGVu
dCBpZGVudGlmaWVyICovCiAgICAgfQogCisgICAgLyogUHJldmVudCBBQ0xzIGZvciBlbXB0eSBp
ZGVudGlmaWVycyAtIG1vc3QgY2xpZW50cyBjYW4ndCBoYW5kbGUgdGhlbSAqLworICAgIGlmIChz
dHJsZW4oaWRlbnRpZmllcikgPT0gMCkgeworICAgICAgICBpZiAobmV3aWRlbnRpZmllcikgZnJl
ZShuZXdpZGVudGlmaWVyKTsKKyAgICAgICAgcmV0dXJuIC0xOworICAgIH0KKwogICAgIC8qIEZp
bmQgYW55IGV4aXN0aW5nIGVudHJ5IGZvciAnaWRlbnRpZmllcicgaW4gJ2FjbCcgKi8KICAgICBm
b3IgKHRoaXNpZCA9IG5leHRpZCA9ICphY2w7ICp0aGlzaWQ7IHRoaXNpZCA9IG5leHRpZCkgewog
CXJpZ2h0cyA9IHN0cmNocih0aGlzaWQsICdcdCcpOwo=
</data>        

          </attachment>
      

    </bug>

</bugzilla>