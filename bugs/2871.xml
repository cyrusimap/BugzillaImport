<?xml version="1.0" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.cyrusimap.org/bugzilla.dtd">

<bugzilla version="3.2.5.1-2"
          urlbase="https://bugzilla.cyrusimap.org/"
          maintainer="Dave McMurtrie &lt;dave64@andrew.cmu.edu&gt;"
>

    <bug>
          <bug_id>2871</bug_id>
          
          <creation_ts>2006-08-24 14:19 EDT</creation_ts>
          <short_desc>removing mailboxes doesn&apos;t benefit from delayed expunge</short_desc>
          <delta_ts>2010-10-25 18:46:40 EDT</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Cyrus IMAP</product>
          <component>Replication</component>
          <version>2.3.x</version>
          <rep_platform>Other</rep_platform>
          <op_sys>other</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          <priority>P2</priority>
          <bug_severity>bug</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Wes Craig">wes@umich.edu</reporter>
          <assigned_to name="Ken Murchison">murch@andrew.cmu.edu</assigned_to>
          
          <qa_contact name="The Cyrus Bugzilla List">cyrus-bugzilla@lists.andrew.cmu.edu</qa_contact>

      

      

      
          <long_desc isprivate="0">
            <who name="Wes Craig">wes@umich.edu</who>
            <bug_when>2006-08-24 14:19:18 EDT</bug_when>
            <thetext>The combination of replication and delayed expunge allows admins to eliminate tape backups, except that 
when a mailbox is removed, all of the data enclosed data is immediately removed from both the primary 
and replica backend.  For this reason alone, tape backups are necessary.  There seems to be hints in the 
code of an alternate version of delayed expunge from Cambridge which does handle removed mailboxes.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Wes Craig">wes@umich.edu</who>
            <bug_when>2006-11-01 14:47:58 EDT</bug_when>
            <thetext>Created an attachment (id=474)
patch to add delayed delete

First pass at adding a delete_mode configuration option.  If delete_mode is set
to delayed, this patch will cause destructive deletes (those that are not
cleaning up moves or backing out other changes) to instead result in the
contents of the mailbox being moved to
partition-root/deleted./path-to-mailbox.HEXTIMESTAMP.

Open issues: cyr_expire should be modified to expire mailboxes in the deleted.
hierarchy.  unexpunge (or a similar routine) should allow mailboxes to be
undeleted.  The sync protocol doesn&apos;t provide enough detail to tell the
difference between a mailbox being destructively deleted and a mailbox being
successfully moved to another host.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Wes Craig">wes@umich.edu</who>
            <bug_when>2007-02-12 20:41:30 EDT</bug_when>
            <thetext>I&apos;ve found a bug in this code.  The original code uses unlink(), silently
failing when it encounters a directory.  The delayed delete code uses rename(),
which successfully (and incorrectly) moves sub-mailboxes.  I&apos;m working on an
update which I&apos;ll post shortly.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Wes Craig">wes@umich.edu</who>
            <bug_when>2007-03-27 20:47:08 EDT</bug_when>
            <thetext>Created an attachment (id=533)
patch to 2.3.8 to add delayed delete

Same patch as before, ported forward from 2.3.7, and with the rename()
surrounded by stat()/S_ISDIR().</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <who name="Wes Craig">wes@umich.edu</who>
            <bug_when>2008-08-16 21:45:49 EDT</bug_when>
            <thetext>delete_mode: delayed provides a better solution.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>474</attachid>
            <date>2006-11-01 14:47 EDT</date>
            <desc>patch to add delayed delete</desc>
            <filename>cyrus-imapd-2.3.7-delayed-delete.diff</filename>
            <type>text/plain</type>
            <size>11271</size>
            <attacher>wes@umich.edu</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy43cDQvaW1hcC9jdGxfY3lydXNkYi5jCTIwMDUtMDItMTYgMTY6
MDY6MTguMDAwMDAwMDAwIC0wNTAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuN3A1L2ltYXAvY3RsX2N5
cnVzZGIuYwkyMDA2LTEwLTMwIDE1OjEwOjU3LjAwMDAwMDAwMCAtMDUwMApAQCAtMTMzLDcgKzEz
Myw3IEBACiAgICAgLyogaWYgaXQgaXMgTUJUWVBFX1JFU0VSVkVELCB1bnNldCBpdCAmIGNhbGwg
bWJveGxpc3RfZGVsZXRlICovCiAgICAgaWYoIXIgJiYgKG1idHlwZSAmIE1CVFlQRV9SRVNFUlZF
KSkgewogCWlmKCFyKSB7Ci0JICAgIHIgPSBtYm94bGlzdF9kZWxldGVtYWlsYm94KG5hbWUsIDEs
IE5VTEwsIE5VTEwsIDAsIDAsIDEpOworCSAgICByID0gbWJveGxpc3RfZGVsZXRlbWFpbGJveChu
YW1lLCAxLCBOVUxMLCBOVUxMLCAwLCAwLCAxLCAxKTsKIAkgICAgaWYocikgewogCQkvKiBsb2cg
dGhlIGVycm9yICovCiAJCXN5c2xvZyhMT0dfRVJSLAotLS0gY3lydXMtaW1hcGQtMi4zLjdwNC9p
bWFwL2N0bF9tYm94bGlzdC5jCTIwMDYtMDQtMDYgMTE6NDI6MTAuMDAwMDAwMDAwIC0wNDAwCisr
KyBjeXJ1cy1pbWFwZC0yLjMuN3A1L2ltYXAvY3RsX21ib3hsaXN0LmMJMjAwNi0xMC0zMCAxNTox
MDo0Mi4wMDAwMDAwMDAgLTA1MDAKQEAgLTQ1Nyw3ICs0NTcsNyBAQAogCSAgICAKIAkgICAgd2lw
ZV9oZWFkID0gd2lwZV9oZWFkLT5uZXh0OwogCSAgICAKLQkgICAgcmV0ID0gbWJveGxpc3RfZGVs
ZXRlbWFpbGJveChtZS0+bWFpbGJveCwgMSwgIiIsIE5VTEwsIDAsIDEsIDEpOworCSAgICByZXQg
PSBtYm94bGlzdF9kZWxldGVtYWlsYm94KG1lLT5tYWlsYm94LCAxLCAiIiwgTlVMTCwgMCwgMSwg
MSwgMSk7CiAJICAgIGlmKHJldCkgewogCQlmcHJpbnRmKHN0ZGVyciwgImNvdWxkbid0IGRlbGV0
ZSBkZWZ1bmN0IG1haWxib3ggJXNcbiIsCiAJCQltZS0+bWFpbGJveCk7Ci0tLSBjeXJ1cy1pbWFw
ZC0yLjMuN3A0L2ltYXAvaW1hcGQuYwkyMDA2LTEwLTMwIDE1OjE1OjE5LjAwMDAwMDAwMCAtMDUw
MAorKysgY3lydXMtaW1hcGQtMi4zLjdwNS9pbWFwL2ltYXBkLmMJMjAwNi0xMC0zMSAxNTowNTo1
Mi4wMDAwMDAwMDAgLTA1MDAKQEAgLTQ5NDgsNyArNDk0OCw3IEBACiAKICAgICByID0gbWJveGxp
c3RfZGVsZXRlbWFpbGJveChuYW1lLCBpbWFwZF91c2VyaXNhZG1pbiwKIAkJCSAgICAgICBpbWFw
ZF91c2VyaWQsIGltYXBkX2F1dGhzdGF0ZSwKLQkJCSAgICAgICAwLCAwLCAwKTsKKwkJCSAgICAg
ICAwLCAwLCAwLCAwKTsKICAgICAKICAgICBpZiAoIXIpIHN5bmNfbG9nX21haWxib3gobmFtZSk7
CiAKQEAgLTUwMzAsNyArNTAzMCw3IEBACiAKIAlyID0gbWJveGxpc3RfZGVsZXRlbWFpbGJveCht
YWlsYm94bmFtZSwgaW1hcGRfdXNlcmlzYWRtaW4sCiAJCQkJICAgaW1hcGRfdXNlcmlkLCBpbWFw
ZF9hdXRoc3RhdGUsIDEtZm9yY2UsCi0JCQkJICAgbG9jYWxvbmx5LCAwKTsKKwkJCQkgICBsb2Nh
bG9ubHksIDAsIGxvY2Fsb25seSk7CiAgICAgfQogCiAgICAgLyogd2FzIGl0IGEgdG9wLWxldmVs
IHVzZXIgbWFpbGJveD8gKi8KQEAgLTgxOTEsNyArODE5MSw3IEBACiAJLyogbm90ZSBhbHNvIHRo
YXQgd2UgbmVlZCB0byByZW1lbWJlciB0byBsZXQgcHJveHlhZG1pbnMgZG8gdGhpcyAqLwogCXIg
PSBtYm94bGlzdF9kZWxldGVtYWlsYm94KG1haWxib3huYW1lLAogCQkJCSAgIGltYXBkX3VzZXJp
c2FkbWluIHx8IGltYXBkX3VzZXJpc3Byb3h5YWRtaW4sCi0JCQkJICAgaW1hcGRfdXNlcmlkLCBp
bWFwZF9hdXRoc3RhdGUsIDAsIDEsIDApOworCQkJCSAgIGltYXBkX3VzZXJpZCwgaW1hcGRfYXV0
aHN0YXRlLCAwLCAxLCAwLCAxKTsKIAlpZihyKSBzeXNsb2coTE9HX0VSUiwKIAkJICAgICAiQ291
bGQgbm90IGRlbGV0ZSBsb2NhbCBtYWlsYm94IGR1cmluZyBtb3ZlIG9mICVzIiwKIAkJICAgICBt
YWlsYm94bmFtZSk7Ci0tLSBjeXJ1cy1pbWFwZC0yLjMuN3A0L2ltYXAvbWFpbGJveC5jCTIwMDYt
MDYtMDIgMTQ6NTU6MDYuMDAwMDAwMDAwIC0wNDAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuN3A1L2lt
YXAvbWFpbGJveC5jCTIwMDYtMTAtMzEgMTU6MjU6MjkuMDAwMDAwMDAwIC0wNTAwCkBAIC0yNjcz
LDcgKzI2NzMsNyBAQAogICogRGVsZXRlIGFuZCBjbG9zZSB0aGUgbWFpbGJveCAnbWFpbGJveCcu
ICBDbG9zZXMgJ21haWxib3gnIHdoZXRoZXIKICAqIG9yIG5vdCB0aGUgZGVsZXRpb24gd2FzIHN1
Y2Nlc3NmdWwuICBSZXF1aXJlcyBhIGxvY2tlZCBtYWlsYm94LgogICovCi1pbnQgbWFpbGJveF9k
ZWxldGUoc3RydWN0IG1haWxib3ggKm1haWxib3gsIGludCBkZWxldGVfcXVvdGFfcm9vdCkKK2lu
dCBtYWlsYm94X2RlbGV0ZShzdHJ1Y3QgbWFpbGJveCAqbWFpbGJveCwgaW50IGRlbGV0ZV9xdW90
YV9yb290LCBjaGFyICpkZWxldGVkZGlyKQogewogICAgIGludCByLCBycXVvdGEgPSAwOwogICAg
IERJUiAqZGlycDsKQEAgLTI2ODEsNiArMjY4MSw3IEBACiAgICAgY2hhciBidWZbTUFYX01BSUxC
T1hfUEFUSCsxXSwgKnBhdGg7CiAgICAgY2hhciAqdGFpbDsKICAgICBzdHJ1Y3QgdHhuICp0aWQg
PSBOVUxMOworICAgIGNoYXIgZGJ1ZltNQVhfTUFJTEJPWF9QQVRIKzFdLCAqZHRhaWw7CiAgICAg
CiAgICAgLyogRW5zdXJlIHRoYXQgd2UgYXJlIGxvY2tlZCAqLwogICAgIGlmKCFtYWlsYm94LT5o
ZWFkZXJfbG9ja19jb3VudCkgcmV0dXJuIElNQVBfSU5URVJOQUw7CkBAIC0yNzExLDYgKzI3MTIs
MTIgQEAKIAkgICAgcXVvdGFfY29tbWl0KCZ0aWQpOwogICAgIH0KIAorICAgIGlmICggZGVsZXRl
ZGRpciApIHsKKwlpZiAoIGN5cnVzX21rZGlyKCBkZWxldGVkZGlyLCAwNzU1ICkgIT0gMCAgKSBy
ZXR1cm4gSU1BUF9JT0VSUk9SOworCWlmIChta2RpcihkZWxldGVkZGlyLCAwNzU1KSA9PSAtMSAp
IHJldHVybiBJTUFQX0lPRVJST1I7CisJc3lzbG9nKCBMT0dfTk9USUNFLCAiU2F2aW5nIGRlbGV0
ZWQgbWFpbGJveCAlcyBpbiAlcyIsIG1haWxib3gtPm5hbWUsIGRlbGV0ZWRkaXIgKTsKKyAgICB9
CisKICAgICAvKiByZW1vdmUgZGF0YSAobWVzc2FnZSBmaWxlKSBkaXJlY3RvcnkgKi8KICAgICBw
YXRoID0gbWFpbGJveC0+cGF0aDsKIApAQCAtMjcyNiw2ICsyNzMzLDIwIEBACiAJdGFpbCA9IGJ1
ZiArIHN0cmxlbihidWYpOwogCSp0YWlsKysgPSAnLyc7CiAJKnRhaWwgPSAnXDAnOworCisJaWYg
KCBkZWxldGVkZGlyICkgeworCSAgICBzdHJsY3B5KGRidWYsIGRlbGV0ZWRkaXIsIHNpemVvZihk
YnVmKSk7CisKKwkgICAgaWYoc3RybGVuKGRidWYpID49IHNpemVvZihkYnVmKSAtIDIpIHsKKwkJ
c3lzbG9nKExPR19FUlIsICJJT0VSUk9SOiBQYXRoIHRvbyBsb25nICglcykiLCBkYnVmKTsKKwkJ
ZmF0YWwoInBhdGggdG9vIGxvbmciLCBFQ19PU0ZJTEUpOworCSAgICB9CisKKwkgICAgZHRhaWwg
PSBkYnVmICsgc3RybGVuKGRidWYpOworCSAgICAqZHRhaWwrKyA9ICcvJzsKKwkgICAgKmR0YWls
ID0gJ1wwJzsKKwl9CisKIAlkaXJwID0gb3BlbmRpcihwYXRoKTsKIAlpZiAoZGlycCkgewogCSAg
ICB3aGlsZSAoKGYgPSByZWFkZGlyKGRpcnApKSE9TlVMTCkgewpAQCAtMjc0NSw3ICsyNzY2LDE4
IEBACiAJCSAgICBmYXRhbCgiUGF0aCB0b28gbG9uZyIsIEVDX09TRklMRSk7CiAJCX0KIAkJc3Ry
Y3B5KHRhaWwsIGYtPmRfbmFtZSk7Ci0JCXVubGluayhidWYpOworCQlpZiAoIGRlbGV0ZWRkaXIg
KSB7CisJCSAgICBpZihzdHJsZW4oZGJ1ZikgKyBzdHJsZW4oZi0+ZF9uYW1lKSA+PSBzaXplb2Yo
ZGJ1ZikpIHsKKwkJCXN5c2xvZyhMT0dfRVJSLCAiSU9FUlJPUjogUGF0aCB0b28gbG9uZyAoJXMg
KyAlcykiLAorCQkJICAgICAgIGRidWYsIGYtPmRfbmFtZSk7CisJCQlmYXRhbCgiUGF0aCB0b28g
bG9uZyIsIEVDX09TRklMRSk7CisJCSAgICB9CisJCSAgICBzdHJjcHkoZHRhaWwsIGYtPmRfbmFt
ZSk7CisJCSAgICByZW5hbWUoIGJ1ZiwgZGJ1ZiApOworCQkgICAgKmR0YWlsID0gJ1wwJzsKKwkJ
fSBlbHNlIHsKKwkJICAgIHVubGluayhidWYpOworCQl9CiAJCSp0YWlsID0gJ1wwJzsKIAkgICAg
fQogCSAgICBjbG9zZWRpcihkaXJwKTsKQEAgLTI5NDgsNyArMjk4MCw3IEBACiAJLyogRXhwdW5n
ZSBvbGQgbWFpbGJveCAqLwogCXIgPSBtYWlsYm94X2V4cHVuZ2Uob2xkbWFpbGJveCwgZXhwdW5n
ZWFsbCwgKGNoYXIgKikwLCBFWFBVTkdFX0ZPUkNFKTsKICAgICB9IGVsc2UgewotCXIgPSBtYWls
Ym94X2RlbGV0ZShvbGRtYWlsYm94LCAwKTsKKwlyID0gbWFpbGJveF9kZWxldGUob2xkbWFpbGJv
eCwgMCwgTlVMTCk7CiAgICAgfQogCiAgICAgaWYocikgewotLS0gY3lydXMtaW1hcGQtMi4zLjdw
NC9pbWFwL21haWxib3guaAkyMDA2LTA2LTAyIDEyOjQxOjU3LjAwMDAwMDAwMCAtMDQwMAorKysg
Y3lydXMtaW1hcGQtMi4zLjdwNS9pbWFwL21haWxib3guaAkyMDA2LTEwLTMwIDE0OjU5OjAzLjAw
MDAwMDAwMCAtMDUwMApAQCAtMzYyLDcgKzM2Miw3IEBACiBleHRlcm4gaW50IG1haWxib3hfY3Jl
YXRlKGNvbnN0IGNoYXIgKm5hbWUsIGNoYXIgKnBhcnRpdGlvbiwKIAkJCSAgY29uc3QgY2hhciAq
YWNsLCBjb25zdCBjaGFyICp1bmlxdWVpZCwgaW50IGZvcm1hdCwKIAkJCSAgc3RydWN0IG1haWxi
b3ggKm1haWxib3hwKTsKLWV4dGVybiBpbnQgbWFpbGJveF9kZWxldGUoc3RydWN0IG1haWxib3gg
Km1haWxib3gsIGludCBkZWxldGVfcXVvdGFfcm9vdCk7CitleHRlcm4gaW50IG1haWxib3hfZGVs
ZXRlKHN0cnVjdCBtYWlsYm94ICptYWlsYm94LCBpbnQgZGVsZXRlX3F1b3RhX3Jvb3QsIGNoYXIg
KmRlbGV0ZWRkaXIpOwogCiBleHRlcm4gaW50IG1haWxib3hfcmVuYW1lX2NvcHkoc3RydWN0IG1h
aWxib3ggKm9sZG1haWxib3gsIAogCQkJICAgICAgIGNvbnN0IGNoYXIgKm5ld25hbWUsIGNoYXIg
Km5ld3BhcnRpdGlvbiwKLS0tIGN5cnVzLWltYXBkLTIuMy43cDQvaW1hcC9tYm94bGlzdC5jCTIw
MDYtMTAtMzAgMTU6MTU6MTkuMDAwMDAwMDAwIC0wNTAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuN3A1
L2ltYXAvbWJveGxpc3QuYwkyMDA2LTEwLTMxIDE1OjI1OjQ1LjAwMDAwMDAwMCAtMDUwMApAQCAt
ODg5LDcgKzg4OSw3IEBACiAgKi8KIGludCBtYm94bGlzdF9kZWxldGVtYWlsYm94KGNvbnN0IGNo
YXIgKm5hbWUsIGludCBpc2FkbWluLCBjaGFyICp1c2VyaWQsIAogCQkJICAgc3RydWN0IGF1dGhf
c3RhdGUgKmF1dGhfc3RhdGUsIGludCBjaGVja2FjbCwKLQkJCSAgIGludCBsb2NhbF9vbmx5LCBp
bnQgZm9yY2UpCisJCQkgICBpbnQgbG9jYWxfb25seSwgaW50IGZvcmNlLCBpbnQgbm93KQogewog
ICAgIGludCByOwogICAgIGNoYXIgKmFjbDsKQEAgLTkwMiw2ICs5MDIsMTEgQEAKICAgICBpbnQg
bWJ0eXBlOwogICAgIGNvbnN0IGNoYXIgKnA7CiAgICAgbXVwZGF0ZV9oYW5kbGUgKm11cGRhdGVf
aCA9IE5VTEw7CisgICAgY2hhciAqcGFydGl0aW9uLCAqZGVsZXRlZGRpciA9IE5VTEw7CisgICAg
Y29uc3QgY2hhciAqcm9vdDsKKyAgICBjaGFyIGRlbGV0ZWRkb3RbIE1BWF9NQUlMQk9YX05BTUUr
MSBdLCBkZWxldGVkaGFzaFsgTUFYX01BSUxCT1hfTkFNRSsxIF07CisgICAgY2hhciBkZWxldGVk
YnVmWyBNQVhfTUFJTEJPWF9OQU1FKzEgXTsKKyAgICBzdHJ1Y3QgdGltZXZhbCB0djsKIAogICAg
IGlmKCFpc2FkbWluICYmIGZvcmNlKSByZXR1cm4gSU1BUF9QRVJNSVNTSU9OX0RFTklFRDsKIApA
QCAtOTIyLDcgKzkyNyw3IEBACiAJaWYgKCFpc2FkbWluKSB7IHIgPSBJTUFQX1BFUk1JU1NJT05f
REVOSUVEOyBnb3RvIGRvbmU7IH0KICAgICB9CiAKLSAgICByID0gbWJveGxpc3RfbXlsb29rdXAo
bmFtZSwgJm1idHlwZSwgJnBhdGgsICZtcGF0aCwgTlVMTCwgJmFjbCwgJnRpZCwgMSk7CisgICAg
ciA9IG1ib3hsaXN0X215bG9va3VwKG5hbWUsICZtYnR5cGUsICZwYXRoLCAmbXBhdGgsICZwYXJ0
aXRpb24sICZhY2wsICZ0aWQsIDEpOwogICAgIHN3aXRjaCAocikgewogICAgIGNhc2UgMDoKIAli
cmVhazsKQEAgLTEwMTQsNyArMTAxOSwxOSBAQAogCiAgICAgaWYgKChyICYmICFmb3JjZSkgfHwg
aXNyZW1vdGUpIGdvdG8gZG9uZTsKIAotICAgIGlmICghciB8fCBmb3JjZSkgciA9IG1haWxib3hf
ZGVsZXRlKCZtYWlsYm94LCBkZWxldGVxdW90YXJvb3QpOworICAgIGlmICggIW5vdyAmIGNvbmZp
Z19nZXRlbnVtKElNQVBPUFRfREVMRVRFX01PREUpICE9CisJICAgIElNQVBfRU5VTV9ERUxFVEVf
TU9ERV9JTU1FRElBVEUgKSB7CisJcm9vdCA9IGNvbmZpZ19wYXJ0aXRpb25kaXIoIHBhcnRpdGlv
biApOworCWlmICggIXJvb3QgKSByZXR1cm4gSU1BUF9QQVJUSVRJT05fVU5LTk9XTjsKKworCXNu
cHJpbnRmKCBkZWxldGVkZG90LCBzaXplb2YoIGRlbGV0ZWRkb3QgKSwgIiVzL2RlbGV0ZWQuLyIs
IHJvb3QgKTsKKwltYWlsYm94X2hhc2hfbWJveCggZGVsZXRlZGhhc2gsIHNpemVvZiggZGVsZXRl
ZGhhc2ggKSwgZGVsZXRlZGRvdCwgbmFtZSApOworCWdldHRpbWVvZmRheSggJnR2LCBOVUxMICk7
CisJc25wcmludGYoIGRlbGV0ZWRidWYsIHNpemVvZiggZGVsZXRlZGJ1ZiApLCAiJXMuJVgiLCBk
ZWxldGVkaGFzaCwgdHYudHZfc2VjICk7CisJZGVsZXRlZGRpciA9IGRlbGV0ZWRidWY7CisgICAg
fQorCisgICAgaWYgKCFyIHx8IGZvcmNlKSByID0gbWFpbGJveF9kZWxldGUoJm1haWxib3gsIGRl
bGV0ZXF1b3Rhcm9vdCwgZGVsZXRlZGRpcik7CiAKICAgICAvKgogICAgICAqIFNlZSBpZiB3ZSBo
YXZlIHRvIHJlbW92ZSBtYWlsYm94J3MgcXVvdGEgcm9vdAotLS0gY3lydXMtaW1hcGQtMi4zLjdw
NC9pbWFwL21ib3hsaXN0LmgJMjAwNi0xMC0zMCAxNToxNToxOS4wMDAwMDAwMDAgLTA1MDAKKysr
IGN5cnVzLWltYXBkLTIuMy43cDUvaW1hcC9tYm94bGlzdC5oCTIwMDYtMTAtMzAgMTU6MDM6MzEu
MDAwMDAwMDAwIC0wNTAwCkBAIC0xMjcsNyArMTI3LDcgQEAKICAqIHRoZSBwbGFuZXQgKi8KIGlu
dCBtYm94bGlzdF9kZWxldGVtYWlsYm94KGNvbnN0IGNoYXIgKm5hbWUsIGludCBpc2FkbWluLCBj
aGFyICp1c2VyaWQsIAogCQkJICAgc3RydWN0IGF1dGhfc3RhdGUgKmF1dGhfc3RhdGUsIGludCBj
aGVja2FjbCwKLQkJCSAgIGludCBsb2NhbF9vbmx5LCBpbnQgZm9yY2UpOworCQkJICAgaW50IGxv
Y2FsX29ubHksIGludCBmb3JjZSwgaW50IG5vdyk7CiAKIC8qIFJlbmFtZS9tb3ZlIGEgbWFpbGJv
eCAoaGllcmFyY2hpY2FsKSAqLwogaW50IG1ib3hsaXN0X3JlbmFtZW1haWxib3goY2hhciAqb2xk
bmFtZSwgY2hhciAqbmV3bmFtZSwgY2hhciAqcGFydGl0aW9uLCAKLS0tIGN5cnVzLWltYXBkLTIu
My43cDQvaW1hcC9tdXBkYXRlLmMJMjAwNi0wMy0xNSAxMzo1NjozMS4wMDAwMDAwMDAgLTA1MDAK
KysrIGN5cnVzLWltYXBkLTIuMy43cDUvaW1hcC9tdXBkYXRlLmMJMjAwNi0xMC0zMCAxNToxMToy
Ny4wMDAwMDAwMDAgLTA1MDAKQEAgLTIyOTcsNyArMjI5Nyw3IEBACiAJICAgIHJlbW90ZV9ib3hl
cy5oZWFkID0gci0+bmV4dDsKIAl9IGVsc2UgaWYgKHJldCA8IDApIHsKIAkgICAgLyogTG9jYWwg
d2l0aG91dCBjb3JyZXNwb25kaW5nIHJlbW90ZSwgZGVsZXRlIGl0ICovCi0JICAgIG1ib3hsaXN0
X2RlbGV0ZW1haWxib3gobC0+bWFpbGJveCwgMSwgIiIsIE5VTEwsIDAsIDAsIDApOworCSAgICBt
Ym94bGlzdF9kZWxldGVtYWlsYm94KGwtPm1haWxib3gsIDEsICIiLCBOVUxMLCAwLCAwLCAwLCAx
KTsKIAkgICAgbG9jYWxfYm94ZXMuaGVhZCA9IGwtPm5leHQ7CiAJfSBlbHNlIC8qIChyZXQgPiAw
KSAqLyB7CiAJICAgIC8qIFJlbW90ZSB3aXRob3V0IGNvcnJlc3BvbmRpbmcgbG9jYWwsIGluc2Vy
dCBpdCAqLwpAQCAtMjMxMiw3ICsyMzEyLDcgQEAKICAgICBpZihsICYmICFyKSB7CiAJLyogd2Ug
aGF2ZSBtb3JlIGRlbGV0ZXMgdG8gZG8gKi8KIAl3aGlsZShsKSB7Ci0JICAgIG1ib3hsaXN0X2Rl
bGV0ZW1haWxib3gobC0+bWFpbGJveCwgMSwgIiIsIE5VTEwsIDAsIDAsIDApOworCSAgICBtYm94
bGlzdF9kZWxldGVtYWlsYm94KGwtPm1haWxib3gsIDEsICIiLCBOVUxMLCAwLCAwLCAwLCAxKTsK
IAkgICAgbG9jYWxfYm94ZXMuaGVhZCA9IGwtPm5leHQ7CiAJICAgIGwgPSBsb2NhbF9ib3hlcy5o
ZWFkOwogCX0KLS0tIGN5cnVzLWltYXBkLTIuMy43cDQvaW1hcC9zeW5jX3Jlc2V0LmMJMjAwNS0x
Mi0xMyAxMDozMToxMC4wMDAwMDAwMDAgLTA1MDAKKysrIGN5cnVzLWltYXBkLTIuMy43cDUvaW1h
cC9zeW5jX3Jlc2V0LmMJMjAwNi0xMC0zMCAxNToxMjo1MS4wMDAwMDAwMDAgLTA1MDAKQEAgLTI1
NCw3ICsyNTQsNyBAQAogICAgIGlmIChyKSBnb3RvIGZhaWw7CiAKICAgICBmb3IgKGl0ZW0gPSBs
aXN0LT5oZWFkIDsgaXRlbSA7IGl0ZW0gPSBpdGVtLT5uZXh0KSB7Ci0gICAgICAgIHI9bWJveGxp
c3RfZGVsZXRlbWFpbGJveChpdGVtLT5uYW1lLCAxLCBOVUxMLCBzeW5jX2F1dGhzdGF0ZSwgMSwg
MCwgMCk7CisgICAgICAgIHI9bWJveGxpc3RfZGVsZXRlbWFpbGJveChpdGVtLT5uYW1lLCAxLCBO
VUxMLCBzeW5jX2F1dGhzdGF0ZSwgMSwgMCwgMCwgMSk7CiAKICAgICAgICAgaWYgKHIpIGdvdG8g
ZmFpbDsKICAgICB9CkBAIC0yNzAsNyArMjcwLDcgQEAKICAgICBpZiAocikgZ290byBmYWlsOwog
CiAgICAgZm9yIChpdGVtID0gbGlzdC0+aGVhZCA7IGl0ZW0gOyBpdGVtID0gaXRlbS0+bmV4dCkg
ewotICAgICAgICByPW1ib3hsaXN0X2RlbGV0ZW1haWxib3goaXRlbS0+bmFtZSwgMSwgTlVMTCwg
c3luY19hdXRoc3RhdGUsIDEsIDAsIDApOworICAgICAgICByPW1ib3hsaXN0X2RlbGV0ZW1haWxi
b3goaXRlbS0+bmFtZSwgMSwgTlVMTCwgc3luY19hdXRoc3RhdGUsIDEsIDAsIDAsIDEpOwogCiAg
ICAgICAgIGlmIChyKSBnb3RvIGZhaWw7CiAgICAgfQpAQCAtMjc4LDcgKzI3OCw3IEBACiAKICAg
ICAvKiBOdWtlIGluYm94IChyZWN1cnNpdmUgbnVrZSBwb3NzaWJsZT8pICovCiAgICAgc25wcmlu
dGYoYnVmLCBzaXplb2YoYnVmKS0xLCAidXNlci4lcyIsIHVzZXIpOwotICAgIHIgPSBtYm94bGlz
dF9kZWxldGVtYWlsYm94KGJ1ZiwgMSwgImN5cnVzIiwgc3luY19hdXRoc3RhdGUsIDEsIDAsIDAp
OworICAgIHIgPSBtYm94bGlzdF9kZWxldGVtYWlsYm94KGJ1ZiwgMSwgImN5cnVzIiwgc3luY19h
dXRoc3RhdGUsIDEsIDAsIDAsIDEpOwogICAgIGlmIChyICYmIChyICE9IElNQVBfTUFJTEJPWF9O
T05FWElTVEVOVCkpIGdvdG8gZmFpbDsKIAogICAgIGlmICgocj11c2VyX2RlbGV0ZWRhdGEodXNl
ciwgc3luY191c2VyaWQsIHN5bmNfYXV0aHN0YXRlLCAxKSkpCi0tLSBjeXJ1cy1pbWFwZC0yLjMu
N3A0L2ltYXAvc3luY19zZXJ2ZXIuYwkyMDA2LTEwLTMwIDE1OjE1OjE5LjAwMDAwMDAwMCAtMDUw
MAorKysgY3lydXMtaW1hcGQtMi4zLjdwNS9pbWFwL3N5bmNfc2VydmVyLmMJMjAwNi0xMC0zMCAx
NToxMjoxMi4wMDAwMDAwMDAgLTA1MDAKQEAgLTE1NzYsNyArMTU3Niw3IEBACiAKICAgICBmb3Ig
KGl0ZW0gPSBsaXN0LT5oZWFkIDsgaXRlbSA7IGl0ZW0gPSBpdGVtLT5uZXh0KSB7CiAgICAgICAg
IHI9bWJveGxpc3RfZGVsZXRlbWFpbGJveChpdGVtLT5uYW1lLCBzeW5jX3VzZXJpc2FkbWluLCBz
eW5jX3VzZXJpZCwKLQkJCQkgc3luY19hdXRoc3RhdGUsIDAsIDAsIDEpOworCQkJCSBzeW5jX2F1
dGhzdGF0ZSwgMCwgMCwgMSwgMCk7CiAKICAgICAgICAgaWYgKHIpIGdvdG8gZmFpbDsKICAgICB9
CkBAIC0xNTg2LDcgKzE1ODYsNyBAQAogICAgIChzeW5jX25hbWVzcGFjZXAtPm1ib3huYW1lX3Rv
aW50ZXJuYWwpKHN5bmNfbmFtZXNwYWNlcCwgIklOQk9YIiwKIAkJCQkJICAgdXNlciwgYnVmKTsK
ICAgICByID0gbWJveGxpc3RfZGVsZXRlbWFpbGJveChidWYsIHN5bmNfdXNlcmlzYWRtaW4sIHN5
bmNfdXNlcmlkLAotCQkJICAgICAgIHN5bmNfYXV0aHN0YXRlLCAwLCAwLCAxKTsKKwkJCSAgICAg
ICBzeW5jX2F1dGhzdGF0ZSwgMCwgMCwgMSwgMCk7CiAgICAgaWYgKHIgJiYgKHIgIT0gSU1BUF9N
QUlMQk9YX05PTkVYSVNURU5UKSkgZ290byBmYWlsOwogCiAgICAgaWYgKChyPXVzZXJfZGVsZXRl
ZGF0YSh1c2VyLCBzeW5jX3VzZXJpZCwgc3luY19hdXRoc3RhdGUsIDEpKSkKQEAgLTI1MDgsNyAr
MjUwOCw3IEBACiAKICAgICAvKiBEZWxldGUgd2l0aCBhZG1pbiBwcml2ZWxlZ2VzICovCiAgICAg
ciA9IG1ib3hsaXN0X2RlbGV0ZW1haWxib3gobmFtZSwgc3luY191c2VyaXNhZG1pbiwgc3luY191
c2VyaWQsCi0JCQkgICAgICAgc3luY19hdXRoc3RhdGUsIDAsIDAsIDEpOworCQkJICAgICAgIHN5
bmNfYXV0aHN0YXRlLCAwLCAwLCAxLCAwKTsKIAogICAgIGlmIChyKQogICAgICAgICBwcm90X3By
aW50ZihzeW5jX291dCwgIk5PIEZhaWxlZCB0byBkZWxldGUgJXM6ICVzXHJcbiIsCi0tLSBjeXJ1
cy1pbWFwZC0yLjMuN3A0L2xpYi9pbWFwb3B0aW9ucwkyMDA2LTA2LTI3IDExOjU4OjQyLjAwMDAw
MDAwMCAtMDQwMAorKysgY3lydXMtaW1hcGQtMi4zLjdwNS9saWIvaW1hcG9wdGlvbnMJMjAwNi0x
MC0zMCAxNTowNDo1NC4wMDAwMDAwMDAgLTA1MDAKQEAgLTE5Miw2ICsxOTIsMTQgQEAKIHsgImRl
ZmF1bHRwYXJ0aXRpb24iLCAiZGVmYXVsdCIsIFNUUklORyB9CiAvKiBUaGUgcGFydGl0aW9uIG5h
bWUgdXNlZCBieSBkZWZhdWx0IGZvciBuZXcgbWFpbGJveGVzLiAqLwogCit7ICJkZWxldGVfbW9k
ZSIsICJpbW1lZGlhdGUiLCBFTlVNKCJpbW1lZGlhdGUiLCAiZGVsYXllZCIpIH0KKy8qIFRoZSBt
b2RlIGluIHdoaWNoIG1haWxib3hlcyAoYW5kIHRoZWlyIGNvbnRlbnRzKSBhcmUgZGVsZXRlZC4K
KyAgICJJbW1lZGlhdGUiIG1vZGUgaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaW4gd2hpY2ggdGhl
IG1haWxib3hlcyBhbmQKKyAgIHRoZWlyIGNvbnRlbnRzIGFyZSByZW1vdmVkIGF0IHRoZSB0aW1l
IG9mIHRoZSBERUxFVEUuICBJbiAiZGVsYXllZCIgbW9kZSwKKyAgIHRoZSBjb250ZW50cyBvZiBt
YWlsYm94ZXMgYXJlIGNvcGllZCB0byBhIGhvbGRpbmcgYXJlYSwgdG8gYmUgcHVyZ2VkCisgICBh
dCBhIGxhdGVyIHRpbWUgYnkgImN5cl9leHBpcmUiLiAgVGhpcyBhbGxvd3MgYWNjaWRlbnRhbGx5
IHJlbW92ZWQKKyAgIG1haWxib3hlcyB0byBiZSByZWNvdmVyZWQuICovCisKIHsgImRlbGV0ZXJp
Z2h0IiwgImMiLCBTVFJJTkcgfQogLyogRGVwcmVjYXRlZCAtIG9ubHkgdXNlZCBmb3IgYmFja3dh
cmRzIGNvbXBhdGliaWxpdHkgd2l0aCBleGlzdGluZwogICAgaW5zdGFsbGF0aW9ucy4gIExpc3Rz
IHRoZSBvbGQgUkZDIDIwODYgcmlnaHQgd2hpY2ggd2FzIHVzZWQgdG8K
</data>        

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>533</attachid>
            <date>2007-03-27 20:47 EDT</date>
            <desc>patch to 2.3.8 to add delayed delete</desc>
            <filename>delayed-delete.diff</filename>
            <type>text/plain</type>
            <size>12230</size>
            <attacher>wes@umich.edu</attacher>
            
              <data encoding="base64">LS0tIGN5cnVzLWltYXBkLTIuMy44L2ltYXAvY3RsX2N5cnVzZGIuYwkyMDA2LTExLTMwIDEyOjEx
OjE3LjAwMDAwMDAwMCAtMDUwMAorKysgY3lydXMtaW1hcGQtMi4zLjhwMS9pbWFwL2N0bF9jeXJ1
c2RiLmMJMjAwNy0wMy0xNSAxNzo0NjoxMS4wMDAwMDAwMDAgLTA0MDAKQEAgLTEzMyw3ICsxMzMs
NyBAQAogICAgIC8qIGlmIGl0IGlzIE1CVFlQRV9SRVNFUlZFRCwgdW5zZXQgaXQgJiBjYWxsIG1i
b3hsaXN0X2RlbGV0ZSAqLwogICAgIGlmKCFyICYmIChtYnR5cGUgJiBNQlRZUEVfUkVTRVJWRSkp
IHsKIAlpZighcikgewotCSAgICByID0gbWJveGxpc3RfZGVsZXRlbWFpbGJveChuYW1lLCAxLCBO
VUxMLCBOVUxMLCAwLCAwLCAxKTsKKwkgICAgciA9IG1ib3hsaXN0X2RlbGV0ZW1haWxib3gobmFt
ZSwgMSwgTlVMTCwgTlVMTCwgMCwgMCwgMSwgMSk7CiAJICAgIGlmKHIpIHsKIAkJLyogbG9nIHRo
ZSBlcnJvciAqLwogCQlzeXNsb2coTE9HX0VSUiwKLS0tIGN5cnVzLWltYXBkLTIuMy44L2ltYXAv
Y3RsX21ib3hsaXN0LmMJMjAwNy0wMi0wNSAxMzo0MTo0Ni4wMDAwMDAwMDAgLTA1MDAKKysrIGN5
cnVzLWltYXBkLTIuMy44cDEvaW1hcC9jdGxfbWJveGxpc3QuYwkyMDA3LTAzLTE1IDE3OjQ5OjE4
LjAwMDAwMDAwMCAtMDQwMApAQCAtNDYxLDcgKzQ2MSw3IEBACiAJICAgIAogCSAgICB3aXBlX2hl
YWQgPSB3aXBlX2hlYWQtPm5leHQ7CiAJICAgIAotCSAgICByZXQgPSBtYm94bGlzdF9kZWxldGVt
YWlsYm94KG1lLT5tYWlsYm94LCAxLCAiIiwgTlVMTCwgMCwgMSwgMSk7CisJICAgIHJldCA9IG1i
b3hsaXN0X2RlbGV0ZW1haWxib3gobWUtPm1haWxib3gsIDEsICIiLCBOVUxMLCAwLCAxLCAxLCAx
KTsKIAkgICAgaWYoIXJldCkgc3luY19sb2dfbWFpbGJveChtZS0+bWFpbGJveCk7CiAJICAgIGlm
KHJldCkgewogCQlmcHJpbnRmKHN0ZGVyciwgImNvdWxkbid0IGRlbGV0ZSBkZWZ1bmN0IG1haWxi
b3ggJXNcbiIsCi0tLSBjeXJ1cy1pbWFwZC0yLjMuOC9pbWFwL2ltYXBkLmMJMjAwNy0wMi0wNSAx
Mzo0OTo1NS4wMDAwMDAwMDAgLTA1MDAKKysrIGN5cnVzLWltYXBkLTIuMy44cDEvaW1hcC9pbWFw
ZC5jCTIwMDctMDMtMTUgMTc6NDY6MTEuMDAwMDAwMDAwIC0wNDAwCkBAIC00OTgzLDcgKzQ5ODUs
NyBAQAogCiAgICAgciA9IG1ib3hsaXN0X2RlbGV0ZW1haWxib3gobmFtZSwgaW1hcGRfdXNlcmlz
YWRtaW4sCiAJCQkgICAgICAgaW1hcGRfdXNlcmlkLCBpbWFwZF9hdXRoc3RhdGUsCi0JCQkgICAg
ICAgMCwgMCwgMCk7CisJCQkgICAgICAgMCwgMCwgMCwgMCk7CiAgICAgCiAgICAgaWYgKCFyKSBz
eW5jX2xvZ19tYWlsYm94KG5hbWUpOwogCkBAIC01MDY1LDcgKzUwNjcsNyBAQAogCiAJciA9IG1i
b3hsaXN0X2RlbGV0ZW1haWxib3gobWFpbGJveG5hbWUsIGltYXBkX3VzZXJpc2FkbWluLAogCQkJ
CSAgIGltYXBkX3VzZXJpZCwgaW1hcGRfYXV0aHN0YXRlLCAxLWZvcmNlLAotCQkJCSAgIGxvY2Fs
b25seSwgMCk7CisJCQkJICAgbG9jYWxvbmx5LCAwLCBsb2NhbG9ubHkpOwogICAgIH0KIAogICAg
IC8qIHdhcyBpdCBhIHRvcC1sZXZlbCB1c2VyIG1haWxib3g/ICovCkBAIC04MjIxLDcgKzgyMjMs
NyBAQAogCS8qIG5vdGUgYWxzbyB0aGF0IHdlIG5lZWQgdG8gcmVtZW1iZXIgdG8gbGV0IHByb3h5
YWRtaW5zIGRvIHRoaXMgKi8KIAlyID0gbWJveGxpc3RfZGVsZXRlbWFpbGJveChtYWlsYm94bmFt
ZSwKIAkJCQkgICBpbWFwZF91c2VyaXNhZG1pbiB8fCBpbWFwZF91c2VyaXNwcm94eWFkbWluLAot
CQkJCSAgIGltYXBkX3VzZXJpZCwgaW1hcGRfYXV0aHN0YXRlLCAwLCAxLCAwKTsKKwkJCQkgICBp
bWFwZF91c2VyaWQsIGltYXBkX2F1dGhzdGF0ZSwgMCwgMSwgMCwgMSk7CiAJaWYocikgc3lzbG9n
KExPR19FUlIsCiAJCSAgICAgIkNvdWxkIG5vdCBkZWxldGUgbG9jYWwgbWFpbGJveCBkdXJpbmcg
bW92ZSBvZiAlcyIsCiAJCSAgICAgbWFpbGJveG5hbWUpOwotLS0gY3lydXMtaW1hcGQtMi4zLjgv
aW1hcC9tYWlsYm94LmMJMjAwNy0wMi0wNSAxMzo0MTo0Ny4wMDAwMDAwMDAgLTA1MDAKKysrIGN5
cnVzLWltYXBkLTIuMy44cDEvaW1hcC9tYWlsYm94LmMJMjAwNy0wMy0xNiAxNjozNDoyOC4wMDAw
MDAwMDAgLTA0MDAKQEAgLTI2NzQsMTIgKzI2NzQsMTMgQEAKIC8qCiAgKiBSZW1vdmUgYWxsIGZp
bGVzIGluIGRpcmVjdG9yeQogICovCi1zdGF0aWMgdm9pZCBtYWlsYm94X2RlbGV0ZV9maWxlcyhj
aGFyICpwYXRoKQorc3RhdGljIHZvaWQgbWFpbGJveF9kZWxldGVfZmlsZXMoY2hhciAqcGF0aCwg
Y2hhciAqZGVsZXRlZGRpcikKIHsKICAgICBESVIgKmRpcnA7CiAgICAgc3RydWN0IGRpcmVudCAq
ZjsKICAgICBjaGFyIGJ1ZltNQVhfTUFJTEJPWF9QQVRIKzFdOwogICAgIGNoYXIgKnRhaWw7Cisg
ICAgY2hhciBkYnVmW01BWF9NQUlMQk9YX1BBVEgrMV0sICpkdGFpbDsKIAogICAgIHN0cmxjcHko
YnVmLCBwYXRoLCBzaXplb2YoYnVmKSk7CiAKQEAgLTI2OTEsNiArMjY5MiwxOSBAQAogICAgIHRh
aWwgPSBidWYgKyBzdHJsZW4oYnVmKTsKICAgICAqdGFpbCsrID0gJy8nOwogICAgICp0YWlsID0g
J1wwJzsKKworICAgIGlmICggZGVsZXRlZGRpciApIHsKKwlzdHJsY3B5KCBkYnVmLCBkZWxldGVk
ZGlyLCBzaXplb2YoIGRidWYgKSk7CisJaWYgKCBzdHJsZW4oIGRidWYgKSA+PSBzaXplb2YoIGRi
dWYgKSAtIDIgKSB7CisJICAgIHN5c2xvZyggTE9HX0VSUiwgIklPRVJST1I6IFBhdGggdG9vIGxv
bmcgKCVzKSIsIGRidWYgKTsKKwkgICAgZmF0YWwoICJwYXRoIHRvbyBsb25nIiwgRUNfT1NGSUxF
ICk7CisJfQorCisJZHRhaWwgPSBkYnVmICsgc3RybGVuKCBkYnVmICk7CisJKmR0YWlsKysgPSAn
Lyc7CisJKmR0YWlsID0gJ1wwJzsKKyAgICB9CisKICAgICBkaXJwID0gb3BlbmRpcihwYXRoKTsK
ICAgICBpZiAoZGlycCkgewogCXdoaWxlICgoZiA9IHJlYWRkaXIoZGlycCkpIT1OVUxMKSB7CkBA
IC0yNzEwLDcgKzI3MjQsMzQgQEAKIAkJZmF0YWwoIlBhdGggdG9vIGxvbmciLCBFQ19PU0ZJTEUp
OwogCSAgICB9CiAJICAgIHN0cmNweSh0YWlsLCBmLT5kX25hbWUpOwotCSAgICB1bmxpbmsoYnVm
KTsKKwkgICAgaWYgKCBkZWxldGVkZGlyICkgeworCQlzdHJ1Y3Qgc3RhdAlzdDsKKworCQlpZiAo
IHN0YXQoIGJ1ZiwgJnN0ICkgIT0gMCApIHsKKwkJICAgIHN5c2xvZyggTE9HX0VSUiwgIklPRVJS
T1I6IENhbid0IHN0YXQgKCVzKSAlbSIsIGJ1ZiApOworCQkgICAgZmF0YWwoICJTdGF0IGVycm9y
IiwgRUNfT1NGSUxFICk7CisJCX0KKworCQlpZiAoICFTX0lTRElSKCBzdC5zdF9tb2RlICkpIHsK
KwkJICAgIGlmICggc3RybGVuKCBkYnVmICkrc3RybGVuKCBmLT5kX25hbWUgKSA+PSBzaXplb2Yo
IGRidWYgKSkgeworCQkJc3lzbG9nKCBMT0dfRVJSLCAiSU9FUlJPUjogUGF0aCB0b28gbG9uZyAo
JXMgKyAlcykiLAorCQkJCWRidWYsIGYtPmRfbmFtZSApOworCQkJZmF0YWwoICJQYXRoIHRvbyBs
b25nIiwgRUNfT1NGSUxFICk7CisJCSAgICB9CisJCSAgICBzdHJjcHkoIGR0YWlsLCBmLT5kX25h
bWUgKTsKKwkJICAgIGlmICggcmVuYW1lKCBidWYsIGRidWYgKSAhPSAwICkgeworCQkJc3lzbG9n
KCBMT0dfRVJSLCAiSU9FUlJPUjogQ2FuJ3QgcmVuYW1lICglcyAlcykgJW0iLAorCQkJCWJ1Ziwg
ZGJ1ZiApOworCQkJZmF0YWwoICJSZW5hbWUgZXJyb3IiLCBFQ19PU0ZJTEUgKTsKKwkJICAgIH0K
KwkJICAgICpkdGFpbCA9ICdcMCc7CisJCX0KKwkgICAgfSBlbHNlIHsKKwkJLyoKKwkJICogVGhp
cyB1bmxpbmsoKSBmYWlscyBzaWxlbnRseSBvbiBkaXJlY3Rvcmllcy4KKwkJICovCisJCSh2b2lk
KXVubGluayhidWYpOworCSAgICB9CiAJICAgICp0YWlsID0gJ1wwJzsKIAl9CiAJY2xvc2VkaXIo
ZGlycCk7CkBAIC0yNzMwLDcgKzI3NzEsNyBAQAogICogRGVsZXRlIGFuZCBjbG9zZSB0aGUgbWFp
bGJveCAnbWFpbGJveCcuICBDbG9zZXMgJ21haWxib3gnIHdoZXRoZXIKICAqIG9yIG5vdCB0aGUg
ZGVsZXRpb24gd2FzIHN1Y2Nlc3NmdWwuICBSZXF1aXJlcyBhIGxvY2tlZCBtYWlsYm94LgogICov
Ci1pbnQgbWFpbGJveF9kZWxldGUoc3RydWN0IG1haWxib3ggKm1haWxib3gsIGludCBkZWxldGVf
cXVvdGFfcm9vdCkKK2ludCBtYWlsYm94X2RlbGV0ZShzdHJ1Y3QgbWFpbGJveCAqbWFpbGJveCwg
aW50IGRlbGV0ZV9xdW90YV9yb290LCBjaGFyICpkZWxldGVkZGlyKQogewogICAgIGludCByLCBy
cXVvdGEgPSAwOwogICAgIGNoYXIgbmJ1ZltNQVhfTUFJTEJPWF9OQU1FKzFdOwpAQCAtMjc2Nywx
NCArMjgwOCwyMSBAQAogCSAgICBxdW90YV9jb21taXQoJnRpZCk7CiAgICAgfQogCisgICAgaWYg
KCBkZWxldGVkZGlyICkgeworCWlmICggY3lydXNfbWtkaXIoIGRlbGV0ZWRkaXIsIDA3NTUgKSAh
PSAwICkgcmV0dXJuIElNQVBfSU9FUlJPUjsKKwlpZiAoIG1rZGlyKCBkZWxldGVkZGlyLCAwNzU1
ICkgPT0gLTEgKSByZXR1cm4gSU1BUF9JT0VSUk9SOworCXN5c2xvZyggTE9HX05PVElDRSwgIlNh
dmluZyBkZWxldGVkIG1haWxib3ggJXMgaW4gJXMiLAorCQltYWlsYm94LT5uYW1lLCBkZWxldGVk
ZGlyICk7CisgICAgfQorCiAgICAgLyogRmx1c2ggZGF0YSAobWVzc2FnZSBmaWxlKSBkaXJlY3Rv
cnkgKi8KLSAgICBtYWlsYm94X2RlbGV0ZV9maWxlcyhtYWlsYm94LT5wYXRoKTsKKyAgICBtYWls
Ym94X2RlbGV0ZV9maWxlcyhtYWlsYm94LT5wYXRoLCBkZWxldGVkZGlyKTsKICAgICBzdHJsY3B5
KHBidWYsIG1haWxib3gtPnBhdGgsIHNpemVvZihwYnVmKSk7CiAgICAgcHRhaWwgPSBwYnVmICsg
c3RybGVuKHBidWYpOwogCiAgICAgLyogRmx1c2ggbWV0YWRhdGEgZGlyZWN0b3J5ICovCiAgICAg
aWYgKG1haWxib3gtPm1wYXRoKSB7Ci0JbWFpbGJveF9kZWxldGVfZmlsZXMobWFpbGJveC0+bXBh
dGgpOworCW1haWxib3hfZGVsZXRlX2ZpbGVzKG1haWxib3gtPm1wYXRoLCBkZWxldGVkZGlyKTsK
IAlzdHJsY3B5KG1idWYsIG1haWxib3gtPm1wYXRoLCBzaXplb2YobWJ1ZikpOwogCW10YWlsID0g
bWJ1ZiArIHN0cmxlbihtYnVmKTsKICAgICB9CkBAIC0zMDA5LDcgKzMwNTcsNyBAQAogCS8qIEV4
cHVuZ2Ugb2xkIG1haWxib3ggKi8KIAlyID0gbWFpbGJveF9leHB1bmdlKG9sZG1haWxib3gsIGV4
cHVuZ2VhbGwsIChjaGFyICopMCwgRVhQVU5HRV9GT1JDRSk7CiAgICAgfSBlbHNlIHsKLQlyID0g
bWFpbGJveF9kZWxldGUob2xkbWFpbGJveCwgMCk7CisJciA9IG1haWxib3hfZGVsZXRlKG9sZG1h
aWxib3gsIDAsIE5VTEwpOwogICAgIH0KIAogICAgIGlmKHIpIHsKLS0tIGN5cnVzLWltYXBkLTIu
My44L2ltYXAvbWFpbGJveC5oCTIwMDYtMTEtMzAgMTI6MTE6MTkuMDAwMDAwMDAwIC0wNTAwCisr
KyBjeXJ1cy1pbWFwZC0yLjMuOHAxL2ltYXAvbWFpbGJveC5oCTIwMDctMDMtMTUgMTc6NDY6MTEu
MDAwMDAwMDAwIC0wNDAwCkBAIC0zNjIsNyArMzYyLDcgQEAKIGV4dGVybiBpbnQgbWFpbGJveF9j
cmVhdGUoY29uc3QgY2hhciAqbmFtZSwgY2hhciAqcGFydGl0aW9uLAogCQkJICBjb25zdCBjaGFy
ICphY2wsIGNvbnN0IGNoYXIgKnVuaXF1ZWlkLCBpbnQgZm9ybWF0LAogCQkJICBzdHJ1Y3QgbWFp
bGJveCAqbWFpbGJveHApOwotZXh0ZXJuIGludCBtYWlsYm94X2RlbGV0ZShzdHJ1Y3QgbWFpbGJv
eCAqbWFpbGJveCwgaW50IGRlbGV0ZV9xdW90YV9yb290KTsKK2V4dGVybiBpbnQgbWFpbGJveF9k
ZWxldGUoc3RydWN0IG1haWxib3ggKm1haWxib3gsIGludCBkZWxldGVfcXVvdGFfcm9vdCwgY2hh
ciAqZGVsZXRlZGRpcik7CiAKIGV4dGVybiBpbnQgbWFpbGJveF9yZW5hbWVfY29weShzdHJ1Y3Qg
bWFpbGJveCAqb2xkbWFpbGJveCwgCiAJCQkgICAgICAgY29uc3QgY2hhciAqbmV3bmFtZSwgY2hh
ciAqbmV3cGFydGl0aW9uLAotLS0gY3lydXMtaW1hcGQtMi4zLjgvaW1hcC9tYm94bGlzdC5jCTIw
MDctMDItMDUgMTM6NDE6NDcuMDAwMDAwMDAwIC0wNTAwCisrKyBjeXJ1cy1pbWFwZC0yLjMuOHAx
L2ltYXAvbWJveGxpc3QuYwkyMDA3LTAzLTE1IDE3OjQ2OjExLjAwMDAwMDAwMCAtMDQwMApAQCAt
ODg5LDcgKzg4OSw3IEBACiAgKi8KIGludCBtYm94bGlzdF9kZWxldGVtYWlsYm94KGNvbnN0IGNo
YXIgKm5hbWUsIGludCBpc2FkbWluLCBjaGFyICp1c2VyaWQsIAogCQkJICAgc3RydWN0IGF1dGhf
c3RhdGUgKmF1dGhfc3RhdGUsIGludCBjaGVja2FjbCwKLQkJCSAgIGludCBsb2NhbF9vbmx5LCBp
bnQgZm9yY2UpCisJCQkgICBpbnQgbG9jYWxfb25seSwgaW50IGZvcmNlLCBpbnQgbm93KQogewog
ICAgIGludCByOwogICAgIGNoYXIgKmFjbDsKQEAgLTkwMiw2ICs5MDIsMTEgQEAKICAgICBpbnQg
bWJ0eXBlOwogICAgIGNvbnN0IGNoYXIgKnA7CiAgICAgbXVwZGF0ZV9oYW5kbGUgKm11cGRhdGVf
aCA9IE5VTEw7CisgICAgY2hhciAqcGFydGl0aW9uLCAqZGVsZXRlZGRpciA9IE5VTEw7CisgICAg
Y29uc3QgY2hhciAqcm9vdDsKKyAgICBjaGFyIGRlbGV0ZWRkb3RbIE1BWF9NQUlMQk9YX05BTUUr
MSBdLCBkZWxldGVkaGFzaFsgTUFYX01BSUxCT1hfTkFNRSsxIF07CisgICAgY2hhciBkZWxldGVk
YnVmWyBNQVhfTUFJTEJPWF9OQU1FKzEgXTsKKyAgICBzdHJ1Y3QgdGltZXZhbCB0djsKIAogICAg
IGlmKCFpc2FkbWluICYmIGZvcmNlKSByZXR1cm4gSU1BUF9QRVJNSVNTSU9OX0RFTklFRDsKIApA
QCAtOTIyLDcgKzkyNyw3IEBACiAJaWYgKCFpc2FkbWluKSB7IHIgPSBJTUFQX1BFUk1JU1NJT05f
REVOSUVEOyBnb3RvIGRvbmU7IH0KICAgICB9CiAKLSAgICByID0gbWJveGxpc3RfbXlsb29rdXAo
bmFtZSwgJm1idHlwZSwgJnBhdGgsICZtcGF0aCwgTlVMTCwgJmFjbCwgJnRpZCwgMSk7CisgICAg
ciA9IG1ib3hsaXN0X215bG9va3VwKG5hbWUsICZtYnR5cGUsICZwYXRoLCAmbXBhdGgsICZwYXJ0
aXRpb24sICZhY2wsICZ0aWQsIDEpOwogICAgIHN3aXRjaCAocikgewogICAgIGNhc2UgMDoKIAli
cmVhazsKQEAgLTEwMTQsNyArMTAxOSwxOSBAQAogCiAgICAgaWYgKChyICYmICFmb3JjZSkgfHwg
aXNyZW1vdGUpIGdvdG8gZG9uZTsKIAotICAgIGlmICghciB8fCBmb3JjZSkgciA9IG1haWxib3hf
ZGVsZXRlKCZtYWlsYm94LCBkZWxldGVxdW90YXJvb3QpOworICAgIGlmICggIW5vdyAmIGNvbmZp
Z19nZXRlbnVtKElNQVBPUFRfREVMRVRFX01PREUpICE9CisJICAgIElNQVBfRU5VTV9ERUxFVEVf
TU9ERV9JTU1FRElBVEUgKSB7CisJcm9vdCA9IGNvbmZpZ19wYXJ0aXRpb25kaXIoIHBhcnRpdGlv
biApOworCWlmICggIXJvb3QgKSByZXR1cm4gSU1BUF9QQVJUSVRJT05fVU5LTk9XTjsKKworCXNu
cHJpbnRmKCBkZWxldGVkZG90LCBzaXplb2YoIGRlbGV0ZWRkb3QgKSwgIiVzL2RlbGV0ZWQuLyIs
IHJvb3QgKTsKKwltYWlsYm94X2hhc2hfbWJveCggZGVsZXRlZGhhc2gsIHNpemVvZiggZGVsZXRl
ZGhhc2ggKSwgZGVsZXRlZGRvdCwgbmFtZSApOworCWdldHRpbWVvZmRheSggJnR2LCBOVUxMICk7
CisJc25wcmludGYoIGRlbGV0ZWRidWYsIHNpemVvZiggZGVsZXRlZGJ1ZiApLCAiJXMuJVgiLCBk
ZWxldGVkaGFzaCwgdHYudHZfc2VjICk7CisJZGVsZXRlZGRpciA9IGRlbGV0ZWRidWY7CisgICAg
fQorCisgICAgaWYgKCFyIHx8IGZvcmNlKSByID0gbWFpbGJveF9kZWxldGUoJm1haWxib3gsIGRl
bGV0ZXF1b3Rhcm9vdCwgZGVsZXRlZGRpcik7CiAKICAgICAvKgogICAgICAqIFNlZSBpZiB3ZSBo
YXZlIHRvIHJlbW92ZSBtYWlsYm94J3MgcXVvdGEgcm9vdAotLS0gY3lydXMtaW1hcGQtMi4zLjgv
aW1hcC9tYm94bGlzdC5oCTIwMDYtMTEtMzAgMTI6MTE6MTkuMDAwMDAwMDAwIC0wNTAwCisrKyBj
eXJ1cy1pbWFwZC0yLjMuOHAxL2ltYXAvbWJveGxpc3QuaAkyMDA3LTAzLTE1IDE3OjQ3OjU1LjAw
MDAwMDAwMCAtMDQwMApAQCAtMTI2LDcgKzEyNiw3IEBACiAgKiB0aGUgcGxhbmV0ICovCiBpbnQg
bWJveGxpc3RfZGVsZXRlbWFpbGJveChjb25zdCBjaGFyICpuYW1lLCBpbnQgaXNhZG1pbiwgY2hh
ciAqdXNlcmlkLCAKIAkJCSAgIHN0cnVjdCBhdXRoX3N0YXRlICphdXRoX3N0YXRlLCBpbnQgY2hl
Y2thY2wsCi0JCQkgICBpbnQgbG9jYWxfb25seSwgaW50IGZvcmNlKTsKKwkJCSAgIGludCBsb2Nh
bF9vbmx5LCBpbnQgZm9yY2UsIGludCBub3cpOwogCiAvKiBSZW5hbWUvbW92ZSBhIG1haWxib3gg
KGhpZXJhcmNoaWNhbCkgKi8KIGludCBtYm94bGlzdF9yZW5hbWVtYWlsYm94KGNoYXIgKm9sZG5h
bWUsIGNoYXIgKm5ld25hbWUsIGNoYXIgKnBhcnRpdGlvbiwgCi0tLSBjeXJ1cy1pbWFwZC0yLjMu
OC9pbWFwL211cGRhdGUuYwkyMDA3LTAxLTMxIDA5OjEwOjA1LjAwMDAwMDAwMCAtMDUwMAorKysg
Y3lydXMtaW1hcGQtMi4zLjhwMS9pbWFwL211cGRhdGUuYwkyMDA3LTAzLTE1IDE3OjQ2OjExLjAw
MDAwMDAwMCAtMDQwMApAQCAtMjMxMyw3ICsyMzEzLDcgQEAKIAkgICAgcmVtb3RlX2JveGVzLmhl
YWQgPSByLT5uZXh0OwogCX0gZWxzZSBpZiAocmV0IDwgMCkgewogCSAgICAvKiBMb2NhbCB3aXRo
b3V0IGNvcnJlc3BvbmRpbmcgcmVtb3RlLCBkZWxldGUgaXQgKi8KLQkgICAgbWJveGxpc3RfZGVs
ZXRlbWFpbGJveChsLT5tYWlsYm94LCAxLCAiIiwgTlVMTCwgMCwgMCwgMCk7CisJICAgIG1ib3hs
aXN0X2RlbGV0ZW1haWxib3gobC0+bWFpbGJveCwgMSwgIiIsIE5VTEwsIDAsIDAsIDAsIDEpOwog
CSAgICBsb2NhbF9ib3hlcy5oZWFkID0gbC0+bmV4dDsKIAl9IGVsc2UgLyogKHJldCA+IDApICov
IHsKIAkgICAgLyogUmVtb3RlIHdpdGhvdXQgY29ycmVzcG9uZGluZyBsb2NhbCwgaW5zZXJ0IGl0
ICovCkBAIC0yMzI4LDcgKzIzMjgsNyBAQAogICAgIGlmKGwgJiYgIXIpIHsKIAkvKiB3ZSBoYXZl
IG1vcmUgZGVsZXRlcyB0byBkbyAqLwogCXdoaWxlKGwpIHsKLQkgICAgbWJveGxpc3RfZGVsZXRl
bWFpbGJveChsLT5tYWlsYm94LCAxLCAiIiwgTlVMTCwgMCwgMCwgMCk7CisJICAgIG1ib3hsaXN0
X2RlbGV0ZW1haWxib3gobC0+bWFpbGJveCwgMSwgIiIsIE5VTEwsIDAsIDAsIDAsIDEpOwogCSAg
ICBsb2NhbF9ib3hlcy5oZWFkID0gbC0+bmV4dDsKIAkgICAgbCA9IGxvY2FsX2JveGVzLmhlYWQ7
CiAJfQotLS0gY3lydXMtaW1hcGQtMi4zLjgvaW1hcC9zeW5jX3Jlc2V0LmMJMjAwNi0xMS0zMCAx
MjoxMToyMC4wMDAwMDAwMDAgLTA1MDAKKysrIGN5cnVzLWltYXBkLTIuMy44cDEvaW1hcC9zeW5j
X3Jlc2V0LmMJMjAwNy0wMy0xNSAxNzo0NjoxMS4wMDAwMDAwMDAgLTA0MDAKQEAgLTI1OCw3ICsy
NTgsNyBAQAogICAgIGlmIChyKSBnb3RvIGZhaWw7CiAKICAgICBmb3IgKGl0ZW0gPSBsaXN0LT5o
ZWFkIDsgaXRlbSA7IGl0ZW0gPSBpdGVtLT5uZXh0KSB7Ci0gICAgICAgIHI9bWJveGxpc3RfZGVs
ZXRlbWFpbGJveChpdGVtLT5uYW1lLCAxLCBOVUxMLCBzeW5jX2F1dGhzdGF0ZSwgMSwgMCwgMCk7
CisgICAgICAgIHI9bWJveGxpc3RfZGVsZXRlbWFpbGJveChpdGVtLT5uYW1lLCAxLCBOVUxMLCBz
eW5jX2F1dGhzdGF0ZSwgMSwgMCwgMCwgMSk7CiAKICAgICAgICAgaWYgKHIpIGdvdG8gZmFpbDsK
ICAgICB9CkBAIC0yNzQsNyArMjc0LDcgQEAKICAgICBpZiAocikgZ290byBmYWlsOwogCiAgICAg
Zm9yIChpdGVtID0gbGlzdC0+aGVhZCA7IGl0ZW0gOyBpdGVtID0gaXRlbS0+bmV4dCkgewotICAg
ICAgICByPW1ib3hsaXN0X2RlbGV0ZW1haWxib3goaXRlbS0+bmFtZSwgMSwgTlVMTCwgc3luY19h
dXRoc3RhdGUsIDEsIDAsIDApOworICAgICAgICByPW1ib3hsaXN0X2RlbGV0ZW1haWxib3goaXRl
bS0+bmFtZSwgMSwgTlVMTCwgc3luY19hdXRoc3RhdGUsIDEsIDAsIDAsIDEpOwogCiAgICAgICAg
IGlmIChyKSBnb3RvIGZhaWw7CiAgICAgfQpAQCAtMjgyLDcgKzI4Miw3IEBACiAKICAgICAvKiBO
dWtlIGluYm94IChyZWN1cnNpdmUgbnVrZSBwb3NzaWJsZT8pICovCiAgICAgc25wcmludGYoYnVm
LCBzaXplb2YoYnVmKS0xLCAidXNlci4lcyIsIHVzZXIpOwotICAgIHIgPSBtYm94bGlzdF9kZWxl
dGVtYWlsYm94KGJ1ZiwgMSwgImN5cnVzIiwgc3luY19hdXRoc3RhdGUsIDEsIDAsIDApOworICAg
IHIgPSBtYm94bGlzdF9kZWxldGVtYWlsYm94KGJ1ZiwgMSwgImN5cnVzIiwgc3luY19hdXRoc3Rh
dGUsIDEsIDAsIDAsIDEpOwogICAgIGlmIChyICYmIChyICE9IElNQVBfTUFJTEJPWF9OT05FWElT
VEVOVCkpIGdvdG8gZmFpbDsKIAogICAgIGlmICgocj11c2VyX2RlbGV0ZWRhdGEodXNlciwgc3lu
Y191c2VyaWQsIHN5bmNfYXV0aHN0YXRlLCAxKSkpCi0tLSBjeXJ1cy1pbWFwZC0yLjMuOC9pbWFw
L3N5bmNfc2VydmVyLmMJMjAwNi0xMS0zMCAxMjoxMToyMC4wMDAwMDAwMDAgLTA1MDAKKysrIGN5
cnVzLWltYXBkLTIuMy44cDEvaW1hcC9zeW5jX3NlcnZlci5jCTIwMDctMDMtMTUgMTc6NDY6MTEu
MDAwMDAwMDAwIC0wNDAwCkBAIC0xNTgxLDcgKzE1ODEsNyBAQAogCiAgICAgZm9yIChpdGVtID0g
bGlzdC0+aGVhZCA7IGl0ZW0gOyBpdGVtID0gaXRlbS0+bmV4dCkgewogICAgICAgICByPW1ib3hs
aXN0X2RlbGV0ZW1haWxib3goaXRlbS0+bmFtZSwgc3luY191c2VyaXNhZG1pbiwgc3luY191c2Vy
aWQsCi0JCQkJIHN5bmNfYXV0aHN0YXRlLCAwLCAwLCAxKTsKKwkJCQkgc3luY19hdXRoc3RhdGUs
IDAsIDAsIDEsIDApOwogCiAgICAgICAgIGlmIChyKSBnb3RvIGZhaWw7CiAgICAgfQpAQCAtMTU5
MSw3ICsxNTkxLDcgQEAKICAgICAoc3luY19uYW1lc3BhY2VwLT5tYm94bmFtZV90b2ludGVybmFs
KShzeW5jX25hbWVzcGFjZXAsICJJTkJPWCIsCiAJCQkJCSAgIHVzZXIsIGJ1Zik7CiAgICAgciA9
IG1ib3hsaXN0X2RlbGV0ZW1haWxib3goYnVmLCBzeW5jX3VzZXJpc2FkbWluLCBzeW5jX3VzZXJp
ZCwKLQkJCSAgICAgICBzeW5jX2F1dGhzdGF0ZSwgMCwgMCwgMSk7CisJCQkgICAgICAgc3luY19h
dXRoc3RhdGUsIDAsIDAsIDEsIDApOwogICAgIGlmIChyICYmIChyICE9IElNQVBfTUFJTEJPWF9O
T05FWElTVEVOVCkpIGdvdG8gZmFpbDsKIAogICAgIGlmICgocj11c2VyX2RlbGV0ZWRhdGEodXNl
ciwgc3luY191c2VyaWQsIHN5bmNfYXV0aHN0YXRlLCAxKSkpCkBAIC0yNTI2LDcgKzI1MjYsNyBA
QAogCiAgICAgLyogRGVsZXRlIHdpdGggYWRtaW4gcHJpdmVsZWdlcyAqLwogICAgIHIgPSBtYm94
bGlzdF9kZWxldGVtYWlsYm94KG5hbWUsIHN5bmNfdXNlcmlzYWRtaW4sIHN5bmNfdXNlcmlkLAot
CQkJICAgICAgIHN5bmNfYXV0aHN0YXRlLCAwLCAwLCAxKTsKKwkJCSAgICAgICBzeW5jX2F1dGhz
dGF0ZSwgMCwgMCwgMSwgMCk7CiAKICAgICBpZiAocikKICAgICAgICAgcHJvdF9wcmludGYoc3lu
Y19vdXQsICJOTyBGYWlsZWQgdG8gZGVsZXRlICVzOiAlc1xyXG4iLAotLS0gY3lydXMtaW1hcGQt
Mi4zLjgvbGliL2ltYXBvcHRpb25zCTIwMDctMDItMDcgMTM6NTg6MDcuMDAwMDAwMDAwIC0wNTAw
CisrKyBjeXJ1cy1pbWFwZC0yLjMuOHAxL2xpYi9pbWFwb3B0aW9ucwkyMDA3LTAzLTE1IDE3OjQ2
OjExLjAwMDAwMDAwMCAtMDQwMApAQCAtMTk3LDYgKzE5NywxNCBAQAogeyAiZGVmYXVsdHBhcnRp
dGlvbiIsICJkZWZhdWx0IiwgU1RSSU5HIH0KIC8qIFRoZSBwYXJ0aXRpb24gbmFtZSB1c2VkIGJ5
IGRlZmF1bHQgZm9yIG5ldyBtYWlsYm94ZXMuICovCiAKK3sgImRlbGV0ZV9tb2RlIiwgImltbWVk
aWF0ZSIsIEVOVU0oImltbWVkaWF0ZSIsICJkZWxheWVkIikgfQorLyogVGhlIG1vZGUgaW4gd2hp
Y2ggbWFpbGJveGVzIChhbmQgdGhlaXIgY29udGVudHMpIGFyZSBkZWxldGVkLgorICAgIkltbWVk
aWF0ZSIgbW9kZSBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBpbiB3aGljaCB0aGUgbWFpbGJveGVz
IGFuZAorICAgdGhlaXIgY29udGVudHMgYXJlIHJlbW92ZWQgYXQgdGhlIHRpbWUgb2YgdGhlIERF
TEVURS4gIEluICJkZWxheWVkIiBtb2RlLAorICAgdGhlIGNvbnRlbnRzIG9mIG1haWxib3hlcyBh
cmUgY29waWVkIHRvIGEgaG9sZGluZyBhcmVhLCB0byBiZSBwdXJnZWQKKyAgIGF0IGEgbGF0ZXIg
dGltZSBieSAiY3lyX2V4cGlyZSIuICBUaGlzIGFsbG93cyBhY2NpZGVudGFsbHkgcmVtb3ZlZAor
ICAgbWFpbGJveGVzIHRvIGJlIHJlY292ZXJlZC4gKi8KKwogeyAiZGVsZXRlcmlnaHQiLCAiYyIs
IFNUUklORyB9CiAvKiBEZXByZWNhdGVkIC0gb25seSB1c2VkIGZvciBiYWNrd2FyZHMgY29tcGF0
aWJpbGl0eSB3aXRoIGV4aXN0aW5nCiAgICBpbnN0YWxsYXRpb25zLiAgTGlzdHMgdGhlIG9sZCBS
RkMgMjA4NiByaWdodCB3aGljaCB3YXMgdXNlZCB0bwo=
</data>        

          </attachment>
      

    </bug>

</bugzilla>