diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/bugs.html upstream/cvs/cyrus-imapd/doc/bugs.html
--- upstream.orig//cvs/cyrus-imapd/doc/bugs.html	2006-11-30 11:11:16.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/bugs.html	2010-09-04 13:10:09.000000000 -0500
@@ -1,24 +1,22 @@
 <HTML><HEAD>
 <TITLE>Changes to the Cyrus IMAP Server</TITLE>
 <!-- Changed by: Larry Greenfield 15-Aug-1999 -->
 <!-- Changed by: Larry Greenfield 01-Jul-1999 -->
 <!-- Changed by: Tim Showalter 16-Jun-1997 -->
 <!-- $Id: bugs.html,v 1.29 2006/11/30 17:11:16 murch Exp $ -->
 </HEAD><BODY>
 <h1>                     Known bugs in the Cyrus IMAP Server</h1>
 
-<p>We're working on moving to a <a
-href="http://www.mozilla.org/bugs/">Bugzilla database</a>.  It's still
-being built up, but you can search/add to it <a
-href="http://bugzilla.andrew.cmu.edu">here</a>.  Eventually, all the
-bugs below will be in there.</p>
+<p>Known bugs are now being tracked by a <a
+href="http://www.mozilla.org/bugs/">Bugzilla database</a> found
+at <a href="http://www.cyrusimap.org">http://www.cyrusimap.org</a>.
 
 <h3>imapd and core utilities</h3>
 
 <ul>
 <li> Multiple APPENDs don't always correctly return the EXISTS
 response. (can't reproduce?)
 
 <li> Particularly large quotas can wrap around.
 
 <li> The RENAME command is not atomic.
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/faq.html upstream/cvs/cyrus-imapd/doc/faq.html
--- upstream.orig//cvs/cyrus-imapd/doc/faq.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/faq.html	2010-09-04 16:18:50.000000000 -0500
@@ -133,25 +133,23 @@
 PLAIN or plaintext login commands on encrypted connections
 (SSL-wrapped connections or after a successful STARTTLS command).
 This behavior can be changed with the use of the
 <tt>allowplaintext</tt> option in <tt>imapd.conf.5</tt>.
 </dd>
 
 <dt><b>Q:</b> I'm getting syslog'd messages from the master process
 saying processes are "signaled to death by 10". What's up?</dt>
 
 <dd>
-<p><b>A:</b> If you're using Berkeley DB 3.0.55, try installing
-some <a
-href="http://www.sleepycat.com/update/3.0.55/patch.3.0.55.html">patches
-to Berkeley DB</a> available from <a
-href="http://www.sleepycat.com/update/3.0.55/patch.3.0.55.html">http://www.sleepycat.com/update/3.0.55/patch.3.0.55.html</a>.</p>
+<p><b>A:</b> If you're using Berkeley DB, try installing
+any available patches, which are provided by <a
+href="http://www.oracle.com/us/products/database/berkeley-db/index.html">Oracle</a>.</p>
 </dd>
 
 <dt><b>Q:</b> I've used <tt>saslpasswd2</tt> to create CRAM-MD5
 secrets, but imapd doesn't say <tt>AUTH=CRAM-MD5</tt>. Why?</dt>
 
 <dd>
 <p><b>A:</b> Make sure <tt>/etc/sasldb2</tt> is readable by the
 Cyrus user.</p>
 </dd>
 
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/index.html upstream/cvs/cyrus-imapd/doc/index.html
--- upstream.orig//cvs/cyrus-imapd/doc/index.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/index.html	2010-09-04 15:13:15.000000000 -0500
@@ -7,42 +7,37 @@
 <!-- Changed by: Larry Greenfield, processed by tidy, 18-Nov-2001 -->
 <!-- Changed by: Larry Greenfield, 13-Aug-1999 -->
 <!-- Changed by: John Gardiner Myers, 16-May-1996 -->
 <!-- $Id: index.html,v 1.15 2010/01/06 17:01:29 murch Exp $ -->
 </head>
 <body>
 <h1>Cyrus IMAP Server, version 2.3</h1>
 
 <p>IMAP (Internet Message Access Protocol) is an Internet
 standards-track protocol for accessing messages (mail, bboards,
-news, etc). The Cyrus IMAP server differs from other IMAP server
+news, etc). The Cyrus IMAP server, produced by the Carnegie Mellon
+University Computing Services Department, differs from other IMAP server
 implementations in that it is generally intended to be run on
 sealed servers, where normal users are not permitted to log in. The
 mailbox database is stored in parts of the filesystem that are
 private to the Cyrus IMAP system. All user access to messages is
 through the IMAP, POP3, KPOP or NNTP protocols.</p>
 
 <p>The private mailbox database design gives the server large
 advantages in efficiency, scalability, and administratability.
 Multiple concurrent read/write connections to the same mailbox are
 permitted. The server supports access control lists on mailboxes
 and storage quotas on mailbox hierarchies.</p>
 
-<p>The Cyrus project is the implementation of IMAP servers by the
-Carnegie Mellon University Computing Services Department. Over the
-next few months, we will be releasing components of this server,
-which will provide better mail security and easier mail
-administration.</p>
-
 <h2>The Cyrus IMAP Server Distribution</h2>
 
-<p><a href="http://cyrusimap.web.cmu.edu/downloads.html#imap"><b>Cyrus IMAP
+<p><a href="http://www.cyrusimap.org"><b>Cyrus IMAP
 Server distribution</b></a></p>
 
 <p><b>Documentation</b></p>
 
 <ul>
 <li><a href="readme.html">General release information</a></li>
 
 <li><a href="overview.html">Overview and Concepts</a></li>
 
 <li><a href="install.html">Installing the Cyrus IMAP
@@ -51,20 +46,20 @@
 <li><a href="changes.html">Changes since the last release</a></li>
 
 <li><a href="faq.html">Frequently Asked Questions</a></li>
 
 <li><a href="man.html">Man Pages</a></li>
 
 <li><a href="specs.html">Protocol Specifications</a></li>
 </ul>
 
 <hr />
-<a href="http://cyrusimap.web.cmu.edu">Go</a> to the Project Cyrus
+<a href="http://www.cyrusimap.org">Go</a> to the Project Cyrus
 homepage.<br />
 <a href="http://asg.web.cmu.edu">Go</a> to the Andrew Systems Group
 homepage. 
 
 <hr />
 last modified: $Date: 2010/01/06 17:01:29 $
 </body>
 </html>
 
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-admin-mb.html upstream/cvs/cyrus-imapd/doc/install-admin-mb.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-admin-mb.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-admin-mb.html	2010-09-04 15:08:33.000000000 -0500
@@ -9,32 +9,44 @@
 
 The "<tt>cyradm</tt>" command (see the <tt>cyradm</tt>(1) man page for
 complete documentation) manages the creation of, deletion of, ACLs on,
 and quotas on mailboxes.  To get an overview of the command, type
 "<kbd>cyradm <var>&lt;host&gt;</var></kbd>".  Once "<tt>cyradm</tt>" has started,
 the user prompt is replaced with the name of the host followed by a
 "<tt>&gt;</tt>".  Type "<kbd>help</kbd>" at the new prompt.  The
 following information is displayed:
 
 <pre>
-   createmailbox, cm        create a mailbox
-   deleteaclmailbox, dam    delete an ACL on a mailbox
-   deletemailbox, dm        delete a mailbox
-   help                     get help on commands
-   listaclmailbox, lam      list the ACL on a mailbox
-   listmailbox, lm          list mailboxes
-   listquota, lq            list quota on root
-   listquotaroot, lqr, lqm  list quota roots on mailbox
-   quit                     exit program
-   renamemailbox, renm      rename a mailbox
-   setaclmailbox, sam       set an ACL on a mailbox
-   setquota, sq             set quota limits
+  authenticate, login, auth         authenticate to server
+  chdir, cd                         change current directory
+  createmailbox, create, cm         create mailbox
+  deleteaclmailbox, deleteacl, dam  remove ACLs from mailbox
+  deletemailbox, delete, dm         delete mailbox
+  disconnect, disc                  disconnect from current server
+  exit, quit                        exit cyradm
+  help, ?                           show commands
+  info                              display mailbox/server metadata
+  listacl, lam, listaclmailbox      list ACLs on mailbox
+  listmailbox, lm                   list mailboxes
+  listquota, lq                     list quotas on specified root
+  listquotaroot, lqr, lqm           show quota roots and quotas for mailbox
+  mboxcfg, mboxconfig               configure mailbox
+  reconstruct                       reconstruct mailbox (if supported)
+  renamemailbox, rename, renm       rename (and optionally relocate) mailbox
+  server, servername, connect       show current server or connect to server
+  setaclmailbox, sam, setacl        set ACLs on mailbox
+  setinfo                           set server metadata
+  setquota, sq                      set quota on mailbox or resource
+  subscribe, sub                    subscribe to a mailbox
+  unsubscribe, unsub                unsubscribe from a mailbox
+  version, ver                      display version info of current server
+  xfermailbox, xfer                 transfer (relocate) a mailbox to a different server
 </pre>
 
 <b>Note:</b>It's not necessary to run "<tt>cyradm</tt>" on the same
 system as the IMAP server.
 
 <p><b>Note:</b>If you run "<tt>cyradm</tt>" on a system not using
 Kerberos for authentication, you will be prompted for your user name
 and password before you can issue any "<tt>cyradm</tt>" commands.  By
 default, you will be prompted for the password of the user ID of the
 current shell.  If you want to authenticate as a different user, use
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-auth.html upstream/cvs/cyrus-imapd/doc/install-auth.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-auth.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-auth.html	2010-09-04 15:01:12.000000000 -0500
@@ -11,24 +11,24 @@
 <h2>Introduction</h2>
 
 The Cyrus IMAP Server uses the Cyrus SASL library to authenticate
 users. Please refer to the Cyrus SASL documentation for specific 
 details on SASL. This section focuses specifically on the server processes
 distributed with Cyrus IMAPd.
 
 <h2>Authentication Mechanisms</h2>
 
 At this writing, the underlying Cyrus SASL library supports a
-variety of SASL mechanisms, including CRAM-MD5, DIGEST-MD5, KERBEROS_V4,
-and GSSAPI.  The Cyrus IMAP, POP, and LMTP servers also support
-STARTTLS using client-side certificates and the EXTERNAL
-authentication method.
+variety of SASL mechanisms, including ANONYMOUS, CRAM-MD5, DIGEST-MD5,
+LOGIN, NTLM, OTP, PASSDSS, PLAIN, SRP, KERBEROS_V4, and GSSAPI.  The Cyrus
+IMAP, POP, and LMTP servers also support STARTTLS using client-side
+certificates and the EXTERNAL authentication method.
 
 <p>GSSAPI is specific to Kerberos version 5. Additionally, STARTTLS client 
 side certificates have not been extensively tested.
 
 <p>When STARTTLS is enabled, the PLAIN SASL mechanism (if installed)
 also becomes available. This is because one should not pass a clear
 text password over the wire unless the connection is encrypted.
 
 <p>The IMAP protocol also supports a way for users to authenticate without
 using SASL (the specification). This is via the 'LOGIN' command (not to be
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-compile.html upstream/cvs/cyrus-imapd/doc/install-compile.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-compile.html	2006-11-30 11:11:16.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-compile.html	2010-09-04 13:03:07.000000000 -0500
@@ -61,96 +61,43 @@
 "<TT>--with-cyrus-prefix=PATH</TT>".
 
 <h2>Options to <kbd>configure</kbd></h2>
 <p>Here are a list of switches that can be used with "<A
 NAME="configure"><tt>configure</tt></A>".
 
 <dl>
 <dt><tt>--help</tt>
 <dd>Print a summary of the options to "<tt>configure</tt>", and exit. <P>
 
-<dt><tt>--with-auth=METHOD</tt>
-<dd>Specifies the authorization (group membership) module to use.
-Currently implemented authorization modules are:
-<dl compact> 
-<DT><tt>unix</tt>
-<DD>Unix <tt>/etc/passwd</tt> and <tt>/etc/group</tt> file
-<DT><tt>krb</tt>
-<DD>Kerberos principals (requires Kerberos libraries).  Optionally,
-specify where to find Kerberos v4 with "<tt>--with-krb=DIR</tt>"
-<B>IMPORTANT:</B> The Kerberos v4 support requires the DES library.
-Some vendor distributions of Kerberos, including the one with Solaris,
-do not have this support and cannot be used.
-<DT><tt>krb_pts</tt>
-<DD>Kerberos principals with AFS PTserver groups (requires Kerberos
-and AFS libraries).  Optionally, specify where the AFS libraries are
-found with "<tt>--with-afs=PATH</tt>".  Also requires krb support as above.
-</dl>
-Any method of authenticating with SASL can be used with any
-authorization module.<P>
-
 <dt><tt>--with-krb=PATH</tt>
 <dd>Specifies where to find the Kerberos library.<P>
 
 <dt><tt>--with-com_err=PATH</tt>
 <dd>Specifies where to find the com_err environment.<P>
 
-<dt><tt>--with-cyrus-group=USER</tt>
+<dt><tt>--with-cyrus-group=GROUPID</tt>
 <dd>Specifies the group used for installing setguid programs.  By default,
 configure uses "<TT>mail</TT>". <P>
 
 <dt><tt>--with-cyrus-prefix=PATH</tt>
 <dd>Change the location of the server software. By default, the
 	  <tt>cyrus-prefix</tt> is <tt>/usr/cyrus</tt>.<p>
 
 <dt><tt>--with-cyrus-user=USER</tt>
 <dd>Specifies the userid that the Cyrus IMAP server will run as.  By
 default, configure uses "<TT>cyrus</TT>". <P>
 
-<dt><tt>--with-dbdir=PATH</tt>
+<dt><tt>--with-bdb=DIR</tt>
 <dd>Specifies where to find the Berkeley DB library.<P>
 
-<dt><tt>--with-duplicate-db=DB</tt>
-<dd>Specifies which database backend to use for the duplicate delivery
-database.  By default, configure uses "<TT>berkeley_nosync</TT>".<P>
-
-<dt><tt>--with-mboxlist-db=DB</tt>
-<dd>Specifies which database backend to use for the mailbox list.  By
-default, configure uses "<TT>berkeley</TT>".<P>
-
-<dt><tt>--with-seen-db=DB</tt>
-<dd>Specifies which database backend to use for the seen state.  By
-default, configure uses "<TT>flat</TT>".<P>
-
-<dt><tt>--with-subs-db=DB</tt>
-<dd>Specifies which database backend to use for the subscriptions
-list.  By default, configure uses "<TT>flat</TT>".<P>
-
-<dt><tt>--with-tls-db=DB</tt>
-<dd>Specifies which database backend to use for the TLS cache.  By
-default, configure uses "<TT>berkeley_nosync</TT>".<P>
-
-<dt><tt>--with-idle=METHOD</tt>
-<dd>Specifies the IMAP IDLE method to use.
-Currently implemented IDLE methods are:
-<dl compact> 
-<DT><tt>idled</tt>
-<DD>Use the IDLE daemon.  The IDLE daemon listens on a UNIX socket for
-messages from lmtpd/imapd/pop3d that a mailbox has been updated.  The
-daemon then signals those (if any) imapd that are idling on the
-mailbox to check for the changes.
-<DT><tt>poll</tt>
-<DD>Periodically poll the mailbox for changes.
-<DT><tt>no</tt>
-<DD>Disable IMAP IDLE.
-</dl>
-By default, configure uses "<TT>poll</TT>".<P>
+<dt><tt>--enable-idled</tt>
+<dd>enables IMAP idled support.<P>
 
 <dt><tt>--with-lock=METHOD</tt>
 <dd>Specifies the locking method to use.  Currently implemented locking
 methods are:
 
 <DL compact>
 
 <DT><TT>flock</TT>
 <DD><TT>flock()</TT> locking
 <DT><TT>fcntl</TT>
@@ -169,50 +116,43 @@
 
 <dt><tt>--with-perl=PATH</tt>
 <dd>Specifies where to find the Perl binary (full path, including
 name of binary).<P>
 
 <dt><tt>--with-sasl=PATH</tt> 
 <dd>Specifies the path to the directories containing the library
 (<tt>.../lib</tt>) and include (<tt>.../include</tt>)
 files for libsasl. <P>
 
-<dt><tt>--with-statedir=PATH</tt> 
-<dd>Specifies the directory used for communicating with various
-daemons.  By default, configure uses "<TT>/var</TT>". <P>
-
 <dt><tt>--with-libwrap=PATH</tt>
 <dd>Specifies where to find the TCP wrappers library.<P>
 
-<dt><tt>--with-ucdsnmp=PATH</tt>
-<dd>Specifies where to find the SNMP library.<P>
+<dt><tt>--with-snmp=DIR</tt>
+<dd>use ucd|net snmp (rooted in DIR)<P>
 
 <dt><tt>--with-zephyr=PATH</tt>
 <dd>Specifies where to find the Zephyr library (for notifyd).<P>
 
 <dt><tt>--enable-listext</tt>
 <dd>Enables support for LISTEXT extension.<p>
 
 <dt><tt>--enable-murder</tt>
 <dd>Enables support for IMAP Murder.<p>
 
 <dt><tt>--enable-netscapehack</tt>
 <dd>Enables support for X-NETSCAPE extension (administration URLs).<p>
 
 <dt><tt>--disable-sieve</tt>
 <dd>By default, Sieve support is enabled.  Use
 <tt>--disable-sieve</tt> to disable compiling the Sieve library and to
 disable all Sieve support.<p>
 
-<dt><tt>--disable-cyradm</tt>
-<dd>Do not compile the <TT>cyradm</TT> administrative client.<P>
-
 <dt><tt>--disable-server</tt>
 <dd>Do not compile the IMAP server programs.<p>
 </dl>
 
 Run <tt>configure --help</tt> for further configuration options.
 
 <P>Some systems require unusual options for compilation or linking
 that the "<TT>configure</TT>" script does not know about.  You can
 give "<TT>configure</TT>" initial values for variables by setting them
 in the environment.  Using a Bourne-compatible shell, you can do that
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-configure.html upstream/cvs/cyrus-imapd/doc/install-configure.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-configure.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-configure.html	2010-09-04 14:54:55.000000000 -0500
@@ -209,23 +209,23 @@
 
 <ol>
 <li> Choose a configuration from the <tt>master/conf</tt> directory:
 
    <dl compact>
    <dt><tt>small.conf</tt><dd>bare-bones server supporting IMAP and POP
    <dt><tt>normal.conf</tt><dd>server supporting IMAP, POP, the SSL
    wrapped versions, and the Sieve script management protocol
    <dt><tt>prefork.conf</tt><dd>The same configuration as above, but
    with some preforked processes for faster processing.
-   <dt><tt>backend-cmu.conf</tt><dd>Our configuration (for Murder Backend /
+   <dt><tt>cmu-backend.conf</tt><dd>Our configuration (for Murder Backend /
 	typical IMAP servers)
-   <dt><tt>frontend-cmu.conf</tt><dd>Our configuration (for Murder Frontend servers)
+   <dt><tt>cmu-frontend.conf</tt><dd>Our configuration (for Murder Frontend servers)
    </dl>
 
 <p>To use <tt>normal.conf</tt>, do:
 <pre>
 <kbd>   cp master/conf/normal.conf /etc/cyrus.conf
 </kbd></pre>
 
 <p>Optionally, you can edit <tt>/etc/cyrus.conf</tt> to disable or
 enable certain services, or to tune the number of preforked copies.
 Be sure not to remove the entries that are labeled required.
@@ -294,21 +294,21 @@
 
 <p>Cyrus also includes a socket map daemon <tt>smmapd</tt> which can
 be used by Sendmail 8.13 and higher (a patch for 8.12 is available) to
 verify at RCPT TO time that a message can be delivered to the
 particular mailbox.  To use this daemon, add <tt>smmapd</tt> as a
 service in <tt>cyrus.conf</tt> and configure Sendmail accordingly.
 
 <h4>Configuring <a href="http://www.postfix.org/">Postfix</a></h4>
 
 The Postfix source distribution comes with the
-file "<tt>README_FILES/LMTP_README</tt>".  Even if you are using a
+"<tt>lmtp(8)</tt>" manpage.  Even if you are using a
 binary distribution of Postfix, it would be well worth your while
 to download the full Postfix source.  Not only will you get the
 above file, but numerous other "readme" files and sample
 configuration files.
 
 <p>One thing you need to watch out for is the UID and GID of
 the Postfix software.  As it states in the Postfix "<tt>INSTALL</tt>"
 document, you must create a new account that does not share its UID
 and GID with any other user account.  This is for security reasons.
 If you installed Postfix with a GID of "<tt>mail</tt>", you will need
@@ -345,21 +345,21 @@
 </pre>
 
 <p>Of course you should adjust these settings as appropriate for
 the capacity of the hardware you are using.  The recipient limit
 setting can be used to take advantage of the single instance
 message store capability of Cyrus.  The concurrency limit can be
 used to control how many simultaneous LMTP sessions will be
 permitted to the Cyrus message store.
 
 <p>Additional examples are included in the Postfix 
-file "<tt>README_FILES/LMTP_README</tt>".
+"<tt>lmtp(8)</tt>" manpage.
 
 <h4>Configuring <a href="http://www.exim.org/">Exim 4</a></h4>
 
 Generate an Exim configuration file which delivers local mail to the
 IMAP server.  See the Exim documentation for information on how to
 create a complete configuration file.
 
 <p>Cyrus is designed to be used as a black-box server -- there
 are usually no local user accounts.  As a result, you must define the
 following "router":
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install.html upstream/cvs/cyrus-imapd/doc/install.html
--- upstream.orig//cvs/cyrus-imapd/doc/install.html	2006-11-30 11:11:16.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install.html	2010-09-04 15:27:57.000000000 -0500
@@ -26,37 +26,36 @@
 <p>
 <ul>
 <li><a href="install-upgrade.html">Upgrading From Previous Versions</a>
 <li><a href="install-prereq.html">Prerequisites</a>
 <li><a href="install-auth.html">Authenticating Users</a>
 <li><a href="install-compile.html">Compiling the IMAP Server</a>
 <li><a href="install-configure.html">Configuring the IMAP Server</a>
 <li><a href="install-testing.html">Testing the IMAP Server</a>
 <li><a href="install-admin-mb.html">Administering Mailboxes</a>
 <li><a href="install-sieve.html">Installing SIEVE</a>
-<li><a href="install-snmpmon.html">SNMP Monitoring</a>
 <li><a href="install-netnews.html">Cyrus and Netnews</a>
 <li><a href="install-virtdomains.html">Virtual Domains</a>
 <li><a href="install-replication.html">Cyrus Replication</a>
 <li><a href="install-murder.html">Cyrus Murder: The IMAP
 	      Aggregator</a>
 <li><a href="os.html">Operating System Specific Notes</a>
 <li><a href="install-perf.html">Performance Notes</a>
 </ul>
 
 <h2>Other interesting stuff</h2>
 <p>
 Here's some software that you may want to run with Cyrus.  This
 software isn't maintained or supported by CMU, so please ask the
 maintainers for support.
 <ul>
-<li><a href="http://host1.dyndns.org/websieve/">Websieve</a>, a web-based
+<li><a href="http://sourceforge.net/projects/websieve/">Websieve</a>, a web-based
 front-end for Sieve script management with Cyrus.
 <li><a href="http://www.sendmail.org/">Sendmail</a>, the most popular
 MTA around.
 <li><a href="http://www.postfix.org/">Postfix</a>, a popular
 competitor MTA.
 </ul>
 
 <P><HR>
 last modified: $Date: 2006/11/30 17:11:16 $
 <br>
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-perf.html upstream/cvs/cyrus-imapd/doc/install-perf.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-perf.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-perf.html	2010-09-04 14:21:42.000000000 -0500
@@ -31,23 +31,22 @@
 this.</p>
 
 <p>Some people don't care about this information and just <tt>#ifdef</tt>
 out the code. We probably should add a <tt>configure</tt> option to
 do this.</p>
 </li>
 
 <li><tt><b>/var/imap/mailboxes.db</b></tt> - The mailboxes list is often
 the ultimate source of contention between <tt>imapd</tt> processes, especially if
 clients are inefficient about their use of the LIST command.  For this reason
-it is often better to use the skiplist backend which is optimized for
-enumeration of the database, as opposed to the default, Berkeley DB
-(use <tt>--with-mboxlist-db=skiplist</tt>).
+it is often better to use the skiplist backend, now the defualt, which is
+optimized for enumeration of the database, rather than Berkeley DB.
 
 <p>Mika Iisakkila (<i>mika.iisakkila@pingrid.fi</i>) writes: Nevertheless,
 you can also tweak the Berkeley backend if you want to or have to stick
 with it. Cyrus doesn't do anything to increase the BDB cache size, and the
 default (256 kB) is way too small for any reasonably large site. With some
 50000 mailboxes and random operations, I found the hit rate for the default
 BDB cache to be 70-80%. After growing the cache size to 2M, the hit rate
 approached 99% and disk traffic was greatly reduced since most of the
 operations are reads anyway. Therefore processes could complete their work
 and release their locks much more quickly, and the dreaded "DBERROR: xxx
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-prereq.html upstream/cvs/cyrus-imapd/doc/install-prereq.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-prereq.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-prereq.html	2010-09-04 14:18:29.000000000 -0500
@@ -4,31 +4,30 @@
 <TITLE>Prerequisites and other notes
 </title>
 </head>
 <body>
 
 <h1>Prerequisites and other notes</h1>
 
 <P>The following programs and/or packages are <b>required</b>.
 
 <ul>
-<LI> <b>libsasl</b>, version 2.1.7 or higher.  To obtain <tt>libsasl</tt>, <tt>ftp</tt>
-it from <a
-href="ftp://ftp.andrew.cmu.edu/pub/cyrus-mail">ftp.andrew.cmu.edu</a>.
+<LI> <b>libsasl</b>, version 2.1.7 or higher.  <tt>libsasl</tt> can
+be downloaded at <a href="http://www.cyrusimap.org">http://www.cyrusimap.org</a>.
 Earlier versions of SASL will not work; please get the latest one.
 Configure SASL so that it supports whatever authentication method your
 site uses.  Please pay careful attention to the SASL
 configuration. This is the biggest problem that most people have.
 
-<li> <b>Berkeley DB</b>, version 3.0.55 or higher. Berkeley DB can be
-obtained from <a href="http://www.sleepycat.com">Sleepycat</a>.  It is
-strongly recommended that <tt>libsasl</tt> be compiled with Berkeley DB
+<li> <b>Berkeley DB</b>, version 3.0.55 or higher. Berkeley DB can be obtained from
+<a href="http://www.oracle.com/technetwork/database/berkeleydb/overview/index.html">Oracle</a>.
+It is strongly recommended that <tt>libsasl</tt> be compiled with Berkeley DB
 support, using the same version of Berkeley DB.  (If you have a
 Berkeley DB version mismatch, somewhat perplexing crashes result.)
 
 <li> <b>GNU Make</b> is required.  Get it from <a
 href="http://www.gnu.org/">the Free Software Foundation</a>. It is
 probably easier to find it via <a
 href="ftp://ftp.gnu.org/pub/gnu/make">ftp</a>.
 
 </ul>
 <p>
@@ -76,21 +75,21 @@
 version 8.12.8 or higher, available from <A
 HREF="http://www.sendmail.org">http://www.sendmail.org</a>.  Others
 have reported success with
 <a href="http://www.postfix.org/">Postfix</a>.
 </ul>
 
 
 <P>The following programs and/or packages are recommended:
 
 <ul>
-<li><a href="ftp://ftp.gnu.org/non-gnu/flex">flex</a> - libsieve has
+<li><a href="http://flex.sourceforge.net">flex</a> - libsieve has
 two different lexical analyzers, and that's hard to do with
 traditional <tt>lex</tt>.
 
 <li><a href="ftp://ftp.gnu.org/gnu/gcc">gcc</a> - we build using <code>gcc</code>
 	  and the compiler options <tt>-O2 -g</tt>.
 </ul>
 
 <P><HR>
 last modified: $Date: 2010/01/06 17:01:29 $
 </BODY></HTML>
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-sieve.html upstream/cvs/cyrus-imapd/doc/install-sieve.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-sieve.html	2001-10-23 13:14:48.000000000 -0500
+++ upstream/cvs/cyrus-imapd/doc/install-sieve.html	2010-09-03 21:02:45.000000000 -0500
@@ -6,24 +6,20 @@
 </head>
 <h1>Installing Sieve
 </h1>
 <body>
 
 <p>This section assumes that you compiled Cyrus with sieve support. If
 you specified <tt>--disable-sieve</tt> when running
 <tt>./configure</tt>, you did NOT compile the server with sieve
 support. 
 
-<p>A <a href="http://www.cyrusoft.com/sieve">brief introduction</a> to
-Sieve at is available from <a href="http://www.cyrusoft.com/">Cyrusoft
-International</a>.
-
 <h3>Configure outgoing mail</h3>
 
 <p>Some Sieve actions (redirect, vacation) can send outgoing mail.</p>
 
 <p>You'll need to make sure that "<tt>lmtpd</tt>" can send outgoing
 messages.  Currently, it invokes "<tt>/usr/lib/sendmail</tt>" by
 default to send messages.  Change this by adding a line like:
 
 <pre>
    sendmail: /usr/sbin/sendmail
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-snmpmon.html upstream/cvs/cyrus-imapd/doc/install-snmpmon.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-snmpmon.html	2000-04-24 21:56:42.000000000 -0500
+++ upstream/cvs/cyrus-imapd/doc/install-snmpmon.html	1969-12-31 18:00:00.000000000 -0600
@@ -1,31 +0,0 @@
-<!-- $Id: install-snmpmon.html,v 1.1 2000/04/25 02:56:42 leg Exp $ -->
-<HTML>
-<HEAD>
-<TITLE>SNMP Monitoring
-</title>
-</head>
-<h1>SNMP Monitoring
-</h1>
-<body>
-
-<p><b>TODO:</b>finish this section. The majority of this section will
-get moved to the external CySNIIP docs and this will be stuff specific 
-	to the imapd.
-
-<p>Cyrus uses an auxillary process called "<tt>tugowar</tt>", so named
-because there's a push-pull model.  Various components of the Cyrus
-mail system push data to <tt>tugowar</tt>, and <tt>tugowar</tt>
-listens for SNMP queries (remote clients pull the data from
-<tt>tugowar</tt>).</p>
-
-<h3>Configuring tugowar</h3>
-
-<h3>Testing the tugowar daemon</h3>
-
-<h3>SNMP data exported</h3>
-
-<P><HR>
-last modified: $Date: 2000/04/25 02:56:42 $
-</BODY></HTML>
-
-
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/install-testing.html upstream/cvs/cyrus-imapd/doc/install-testing.html
--- upstream.orig//cvs/cyrus-imapd/doc/install-testing.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/install-testing.html	2010-09-04 16:24:14.000000000 -0500
@@ -4,21 +4,21 @@
 <TITLE>Testing the IMAP Server
 </title>
 </head>
 <h1>Testing the IMAP Server
 </h1>
 <body>
 
 To test the IMAP server, reboot and perform the following steps (all
 of these samples use "<tt>foobar</tt>" as the IMAP server name).  A
 list of answers to common installation problems is maintained in <A
-HREF="http://cyrusimap.web.cmu.edu/twiki">http://cyrusimap.web.cmu.edu/twiki</A>.
+HREF="http://www.cyrusimap.org">http://www.cyrusimap.org</A>.
 
 <ol>
 <li>From your normal account, telnet to the IMAP port on the
 server you're setting up:
 
 <pre>
 <kbd>   telnet foobar imap
 </kbd></pre>
 
 If your server is running, you'll get the following message:
@@ -86,21 +86,21 @@
 Each of the mechanism names is preceded by a 'AUTH='. For this example
 the ANONYMOUS, KERBEROS_V4, DIGEST-MD5, and CRAM-MD5 mechanisms are
 available. If a mechanism does not appear that you wish to use,
 examine the libsasl log messages.  Generally, if a mechanism does not
 appear, it means it failed to initialize.  (For example, if the server
 is unable to access the srvtab file the KERBEROS_V4 mechanism will
 refuse to load.)
 
 <p>Plaintext login is a special case: the PLAIN SASL mechanism is only
 advertised under an encrypted connection.  However, plaintext logins
-are available (as long as you haven't disabled plaintext)
+are available (if you have enabled the allowplaintext option)
 by using <tt>-m login</tt>(as above).
 
 <p>To terminate the <tt>imtest</tt> connection, type "<kbd>. logout</kbd>".
 
 <p>Once you are satisfied with the authentication mechanism list you
 should attempt to log in with each of those mechanisms. Run <tt>imtest</tt>
 specifying which mechanism you would like to use.
 
 <pre>
    <kbd>/usr/local/bin/imtest -m KERBEROS_V4 foobar</kbd>
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/mailing-list.html upstream/cvs/cyrus-imapd/doc/mailing-list.html
--- upstream.orig//cvs/cyrus-imapd/doc/mailing-list.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/mailing-list.html	2010-09-04 13:58:15.000000000 -0500
@@ -20,33 +20,33 @@
 <TT>info-cyrus-subscribe@lists.andrew.cmu.edu</TT></a> 
 
 to subscribe (or just click
 the link above and that should just work).
 
 <p>An archive is availible via anonymous IMAP at <a
 href="imap://cyrus.andrew.cmu.edu/archive.info-cyrus">
 imap://cyrus.andrew.cmu.edu/archive.info-cyrus</a>.
 
 <p>A web archive is also available at
-<a href="http://cyrusimap.web.cmu.edu/archive/index.php?mailbox=archive.info-cyrus">
-http://cyrusimap.web.cmu.edu/archive/index.php?mailbox=archive.info-cyrus</a>
+<a href="http://www.cyrusimap.org/mediawiki/index.php/Cyrus_Mailing_Lists#Archives">
+http://www.cyrusimap.org/mediawiki/index.php/Cyrus_Mailing_Lists#Archives</a>
      
 <p>If you are not subscribed to the list (or you are sending the
 message from a different address than the one which you are subscribed
 under), your message is directed to a human for
 approval. Unfortunately, the human does not always promptly process
 the message.
 
 <p>There is also a developers list available at <tt>cyrus-devel@lists.andrew.cmu.edu</tt>.
 with similar <a href="mailto:cyrus-devel-subscribe@lists.andrew.cmu.edu">subscription</a>
-methods and <a href="http://cyrusimap.web.cmu.edu/archive/index.php?mailbox=archive.cyrus-devel">
+methods and <a href="http://www.cyrusimap.org/mediawiki/index.php/Cyrus_Mailing_Lists#Archives">
 archive location</a>
 
 <p>Detailed contact information can be found at <a
-href="http://cyrusimap.web.cmu.edu/lists.html">
-http://cyrusimap.web.cmu.edu/lists.html</a>
+href="http://www.cyrusimap.org/mediawiki/index.php/Cyrus_Mailing_Lists">
+http://www.cyrusimap.org/mediawiki/index.php/Cyrus_Mailing_Lists</a>
       
 <P><HR>
 last modified: $Date: 2010/01/06 17:01:29 $
 <br>
 <A HREF="index.html">Return</A> to the Cyrus IMAP Server Home Page
 </BODY></HTML>
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/overview.html upstream/cvs/cyrus-imapd/doc/overview.html
--- upstream.orig//cvs/cyrus-imapd/doc/overview.html	2006-11-30 11:11:16.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/overview.html	2010-09-04 16:15:35.000000000 -0500
@@ -130,21 +130,21 @@
 their userid would be able to login but would not be able to receive mail.
 Note that when using the unix hierarchy seperator, this is not the case, and
 any user may have a dot in their userid.)
 
 <p>When an administrator deletes a user's <TT>INBOX</TT>, all of the
 user's personal mailboxes are deleted as well.
 
 <p>With the one notable exception of <TT>INBOX</TT>, all mailbox names are
 system-wide--they refer to the same mailbox regardless of the user.
 <A HREF="#acl">Access control lists</A> determine which users can
-access or see which mailboxes.  Using 
+access or see which mailboxes.
 
 <p>In contexts which permit relative mailbox names, the mailbox namespace
 works as follows:
 
 <UL>
 <LI> Names that do not start with "." are fully qualified. 
 <LI> Names that start with "." are relative to the current context.
 </UL>
 
 Thus, if you are working with folder names and the top of the
@@ -186,25 +186,35 @@
         and copy messages from the mailbox.
 <dt><TT>s<dd>seen       </TT> - Keep per-user seen state.
         The "Seen" and "Recent" flags are preserved for the user.
 <dt><TT>w<dd>write      </TT> -  The user may modify flags and keywords other than
         "Seen" and "Deleted" (which are controlled by other sets of rights).
 <dt><TT>i<dd>insert     </TT> - The user may insert new messages into the mailbox.
 <dt><TT>p<dd>post       </TT> - The user may send mail to the submission address for
         the mailbox.  This right differs from the "<TT>i</TT>" right in that
         the delivery system inserts trace information into submitted
         messages.
+<dt><TT>k<dd>create mailbox </TT> - The user may create new sub-mailboxes
+        of the mailbox, or rename the current mailbox.
+<dt><TT>x<dd>delete mailbox </TT> - The user may delete the mailbox.
+<dt><TT>t<dd>delete messages </TT> - The user store the "Deleted" flag.
+<dt><TT>e<dd>expunge </TT> - The user may perform expunges.
+<dt><TT>a<dd>administer </TT> - The user may change the ACL on the mailbox.
+</DL>
+
+Obsolete rights:
+
+<DL compact>
 <dt><TT>c<dd>create     </TT> - The user may create new sub-mailboxes
         of the mailbox, or delete or rename the current mailbox.
 <dt><TT>d<dd>delete     </TT> - The user may store the "Deleted" flag,
         and perform expunges.
-<dt><TT>a<dd>administer </TT> - The user may change the ACL on the mailbox.
 </DL>
 
 You can combine access rights in different ways.  For example:
 
 <DL compact>
 <DT><TT>lrs</TT>
 <DD>The user can read the mailbox.
 </DL>
 
 <DL> 
@@ -354,101 +364,94 @@
 Note that some rights are available implicitly, for example
 'anonymous' always has 'p' on user INBOXes, and users always
 have rights on mailboxes within their INBOX hierarchy.
 
 <h2><a name="login">Login Authentication</A></H2>
 
 This section discusses different types of authentication (ways of logging
 in) that can be used with Cyrus IMAP.
 
 <p>The Cyrus IMAP server uses the Cyrus SASL library for
-authentication.  This section describes how to configure SASL with use
+authentication.  This section describes how to configure SASL for use
 with Cyrus imapd.  Please consult the Cyrus SASL System
 Administrator's Guide for more detailed, up-to-date information.
 
 <h3><a name="loginanon">Anonymous Logins</A></H3>
 
 Regardless of the SASL mechanism used by an individual connection, the
 server can support anonymous login.  If the
 "<TT>allowanonymouslogin</TT>" option in "<tt>/etc/imapd.conf</tt>" is
 turned on, then the server will permit plaintext password logins using
 the user "<TT>anonymous</TT>" and any password.
 
 Additionally, the server will enable any SASL mechanisms that allow
 anonymous logins.
 
 <h3><a name="loginplain">Plaintext Authentication</a></h3>
 
-The SASL library has several ways of verifying plaintext passwords
-Plaintext passwords are passed either by the IMAP <tt>LOGIN</tt>
-command or by the SASL <TT>PLAIN</TT> mechanism (under a TLS layer).
-
-<ul>
-<li>PAM
-<li>Kerberos v4
+The SASL library has several ways of verifying plaintext passwords.
+Plaintext passwords are passed during SASL authentication when the
+<TT>PLAIN</TT> or <TT>LOGIN</TT> mechanisms are negotiated, or when
+a client chooses the legacy IMAP <TT>LOGIN</TT> command.
 
-Plaintext passwords are verified by obtaining a ticket for the
-server's Kerberos identity, to protect against Kerberos server
-spoofing attacks.
-
-<li><tt>/etc/passwd</tt>
-<li><tt>/etc/shadow</tt>
-<li>etc.
-</ul>
+<p>The method of plaintext password verification is always through the
+SASL library, even in the case of the internal LOGIN command.  This is
+to allow the SASL library to be the only source of authentication
+information. Verification is configured with the
+<TT>sasl_pwcheck_method</TT> option in <TT>/etc/imapd.conf</TT>, and
+provides for authentication using PAM, Kerberos, and LDAP, among
+others, when the <TT>saslauthd</TT> verification daemon is used.
 
 <tt>sasl_auto_transition</tt> automatically creates secrets for shared
 secret authentication when given a password.
 
-<p>The method of plaintext password verification is always through the
-SASL library, even in the case of the internal LOGIN command.  This is
-to allow the SASL library to be the only source of authentication
-information.  You'll want to look at the <tt>sasl_pwcheck_method</tt> option
-in the SASL documentation to understand how to configure a plaintext
-password verifier for your system.
-
-<p>To disallow the use of plaintext passwords for authentication, you
-can set <tt>allowplaintext: no</tt> in imapd.conf.  This will still allow
-PLAIN under TLS, but IMAP LOGIN commands will now fail.
+<TT>Reference the <TT>pwcheck_method</TT> option in the SASL
+documentation for details.
+
+<p>To allow the use of plaintext passwords for authentication, in the
+absense of a protection layer, such as TLS, then you must configure
+<TT>allowplaintext: yes</TT> and <TT>sasl_minimum_layer: 0</TT>
+(default) in imapd.conf.
 
 <h3><a name="loginker">Kerberos Logins</A></H3>
 
-The Kerberos SASL mechanism supports the <TT>KERBEROS_V4</TT>
-authentication mechanism.  The mechanism requires that a
-<TT>srvtab</TT> file exist in the location given in the
-"<TT>srvtab</TT>" configuration option.  The <TT>srvtab</TT> file must
-be readable by the Cyrus server and must contain a
+<TT>Kerberos 5</TT> authentication is provided by the <TT>GSSAPI<TT>
+SASL mechanism. The mechanism requires that a <TT>krb5.keytab</TT> file
+exist in the location given in the "<TT>sasl_keytab</TT>" (which defaults
+to /etc/krb5.keytab) configuration option.  The <TT>krb5.keytab</TT> file
+must be readable by the Cyrus server and must contain a
 "<TT>imap.<VAR>&lt;host&gt;</VAR><VAR>@&lt;realm&gt;</VAR></TT>"
 service key, where <TT><VAR>&lt;host&gt;</VAR></TT> is the first
-component of the server's host name and
-<TT><VAR>&lt;realm&gt;</VAR></TT> is the server's Kerberos realm.
+component of the server's host name and <TT><VAR>&lt;realm&gt;</VAR></TT>
+is the server's Kerberos realm.
 
 <p>The server will permit logins by identities in the local realm and
 identities in the realms listed in the "<TT>loginrealms</TT>" option
 in "<tt>/etc/imapd.conf</tt>".
 
 <p>The file "<TT>/etc/krb.equiv</TT>" contains mappings between
 Kerberos principals.  The file contains zero or more lines, each
 containing two fields.  Any identity matching the first field of a
 line is permitted to log in as the identity in the second field.
 
 <p>If the "<TT>loginuseacl</TT>" configuration option is turned on,
 than any Kerberos identity that is granted the "<tt>a</tt>" right on
 the user's <TT>INBOX</TT> is permitted to log in as that user.
 
 <h3><a name="loginmd5">Shared Secrets Logins</a></h3>
 
 Some mechanisms require the user and the server to share a secret (generally
 a password) that can be used for comparison without actually passing the
-password in the clear across the network.  For these mechanism (such as
-CRAM-MD5 and DIGEST-MD5), you will need to supply a source of passwords,
-such as the sasldb (which is described more fully in the Cyrus SASL
-distribution)
+password in the clear across the network.  For these mechanisms (such as
+CRAM-MD5 and DIGEST-MD5), you will need to supply a source of passwords
+with an auxprop plugin. sasldb, ldapdb, and sql are supported (which are
+described more fully in the Cyrus SASL distribution)
 
 <h2><a name="quota">Quotas</a></h2>
 
 Quotas allow server administrators to limit resources used by
 hierarchies of mailboxes on the server.  
 
 <h3><a name="quotasup">Supports Quotas on Storage</a></h3>
 
 <p>The Cyrus IMAP server supports quotas on storage, which is defined
 as the number of bytes of the relevant RFC-822 messages, in kilobytes.
@@ -498,45 +501,39 @@
 "<tt>setquota</tt>" command.  Quota roots may not be deleted through the
 protocol, see <A href="#recoveryquotasrm">Removing Quota Roots</A> for
 instructions on how to delete them.
 
 <h3><a name="quotamail">Mail Delivery Behavior</a></h3>
 
 Normally, in order for a message to be inserted into a mailbox, the
 quota root for the mailbox must have enough unused storage so that
 inserting the message will not cause the block quota to go over the limit.
 
-<p>Mail delivery is a special case.  In order for a message to be
-delivered to a mailbox, the quota root for the mailbox must not have
-usage that is over the limit.  If the usage is not over the limit,
-then one message may be delivered regardless of its size.  This puts
-the mailbox's usage over the quota, causing a user to be informed of
-the problem and permitting them to correct it.  If delivery were not
-permitted in this case, the user would have no practical way of
-knowing that there was mail that could not be delivered.
+<p>If the usage is not over the limit, then one message may be delivered
+regardless of its size, unless the <TT>lmtp_strict_quota</TT> is enabled
+in imapd.conf, which will not allow any new messages to be delivered that
+would place the mailbox overquota.
 
 <p>If the usage is over the limit, then the mail delivery will fail with
-a temporary error.  This will cause the delivery system to re-attempt
-delivery for a couple of days (permitting the user time to notice and
-correct the problem) and then return the mail to the sender.
+a temporary error by default, unless the <TT>lmtp_over_quota_perm_failure</TT>
+option is enabled, which returns a permanent failure code instead.
 
 <h3><a name="quotawarnings">Quota Warnings Upon Select When User Has "<TT>d</TT>" Rights</a></h3>
 
 When a user selects a mailbox whose quota root has usage that is close
-to or over the limit and the user has "<TT>d</TT>" rights on the mailbox, the
-server will issue an alert notifying the user that usage is close to
-or over the limit.  The threshold of usage at which the server will
-issue quota warnings is set by the "<TT>quotawarn</TT>" configuration option.
-
-<p>The server only issues warnings when the user has "<TT>d</TT>"
-rights because only users with "<TT>d</TT>" rights are capable of
-correcting the problem.
+to or over the limit and the user has "<TT>e</TT>" rights on the mailbox,
+the server will issue an alert notifying the user that usage is close to
+or over the limit.  The threshold of usage at which the server will issue
+quota warnings is set by the "<TT>quotawarn</TT>" configuration option.
+
+<p>The server only issues warnings when the user has "<TT>e</TT>"
+rights because only such users are capable of correcting the problem.
 
 <h3><a name="quotapartitions">Quotas and Partitions</a></h3>
 
 Quota roots are independent of <A href="#partitions">partitions</A>.  A single
 quota root can apply to mailboxes in different partitions.
 
 <h2><a name="notification">New Mail Notification</a></h2>
 
 <p>The Cyrus IMAP server comes with a notification daemon which
 supports multiple mechanisms for notifying users of new mail.
@@ -598,25 +595,27 @@
 
 <h2><A NAME="news">News</a></h2>
 
 Cyrus has the ability to export Usenet via IMAP and/or export shared
 IMAP mailboxes via an NNTP server which is included with Cyrus.  For
 more information on exporting news groups through the IMAP server, see
 <a href="install-netnews.html">install-netnews.html</a>.
 
 <h2><a name="pop3">POP3 Server</a></h2>
 
-The Cyrus IMAP server software comes with a compatibility POP3 server.
-Due to limitations in the POP3 protocol, the server can only access a
-user's <tt>INBOX</tt> and only one instance of a POP3 server may exist for any
-one user at any time.  While a POP3 server has a user's <tt>INBOX</tt> open,
-expunge operations from any concurrent IMAP session will fail.
+The Cyrus IMAP server software comes with a compatibility POP3 server.  If
+<TT>popsubfolders: 1</TT> is set within imapd.conf, users may access subfolders
+of <tt>INBOX</tt> by using userid+subfolder syntax as their
+authentication/authorization id. Due to limitations of the POP3 protocol, only
+one instance of a POP3 server may exist for any one user at any time.  While a
+POP3 server has a user's <tt>INBOX</tt> open, expunge operations from any
+concurrent IMAP session will fail.
 
 <p>When Kerberos login authentication is being used, the POP3 server
 uses the server identity
 "<TT>pop.<VAR>host</VAR>@<VAR>realm</VAR></TT>" instead of
 "<TT>imap.<VAR>host</VAR>@<VAR>realm</VAR></TT>", where
 "<TT><VAR>host</VAR></TT>" is the first component of the server's host
 name and "<TT><VAR>realm</VAR></TT>" is the server's Kerberos realm.
 When the POP3 server is invoked with the "<TT>-k</TT>" switch, the
 server exports MIT's KPOP protocol instead of generic POP3.
 
@@ -762,49 +761,49 @@
 
 <UL>
 <LI>hostname of the client
 <LI>login name of the user, if logged in
 <LI>selected mailbox, if a mailbox is selected
 </UL>
 
 The file may contain arbitrary characters after the first newline
 character.
 
-<p>The "<TT>proc</TT>" subdirectory is normally be cleaned out on
+<p>The "<TT>proc</TT>" subdirectory is normally cleaned out on
 server reboot.
 
 <h2>Message Delivery</h2><a name="messagedelivery"></a>
 
 <p>Mail transport agents such as Sendmail, Postfix, or Exim communicate
 with the Cyrus server via LMTP (the Local Mail Transport Protocol)
 implemented by the LMTP daemon.  This can be done either directly by the
 MTA (prefered, for performance reasons) or via the <tt>deliver</tt> LMTP
 client.
 
 <h3>Local Mail Transfer Protocol</h3><a name="lmtp"></a>
 
-<p>LMTP, the Local Mail Transfer Protocol, is a variant of SMTP design for
+<p>LMTP, the Local Mail Transfer Protocol, is a variant of SMTP designed for
 transferring mail to the final message store.  LMTP allows MTAs to deliver
 "local" mail over a network.  This is an easy optimization so that the
 IMAP server doesn't need to maintain a queue of messages or run an
 MTA.</p>
 
 <p>The Cyrus server implements LMTP via the <tt>lmtpd</tt> daemon.  LMTP
 can either be used over a network via TCP or local via a UNIX domain
 socket. There are security differnces between these two alternatives; read
-more below</p>
+more below.</p>
 
 <p>For final delivery via LMTP over a TCP socket, it is necessary to use
 LMTP AUTH.  This is accomplished using SASL to authenticate the delivering
 user.  If your mail server is performing delivery via LMTP AUTH (that is,
 using a SASL mechanism), you will want their authentication id to be an
-LMTP admins (either via the <tt>admins</tt> imapd.conf option or via the
+LMTP admin (either via the <tt>admins</tt> imapd.conf option or via the
 <tt>&lt;service&gt;_admins</tt> option, typically <tt>lmtp_admins</tt>).</p>
 
 <p>Alternatively you may deliver via LMTP to a unix domain socket, and the
 connection will be preauthenticated as an administrative user (and access
 control is accomplished by controlling access to the socket).</p>
   
 <p>Note that if a user has a sieve script, the sieve script runs authorized
 as *that* user, and the rights of the posting user are ignored for the purposes
 of determining the outcome of the sieve script.</p>
 
diff -rN -U 10 upstream.orig//cvs/cyrus-imapd/doc/readme.html upstream/cvs/cyrus-imapd/doc/readme.html
--- upstream.orig//cvs/cyrus-imapd/doc/readme.html	2010-01-06 11:01:29.000000000 -0600
+++ upstream/cvs/cyrus-imapd/doc/readme.html	2010-09-04 16:29:33.000000000 -0500
@@ -25,21 +25,22 @@
 3501.  IMAP4rev1 has been approved as a proposed standard.
 
 <P> Character sets supported for searching are: us-ascii, iso-8859-1,
 iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6,
 iso-8859-7, iso-8859-8, iso-8859-9, koi8-r, iso-2022-jp,
 iso-2022-kr, gb2312, big5, iso-8859-15, windows-1252, windows-1256.  The
 character mapping tables most likely contain errors.
       
 <P> The server supports any authentication mechanism available from
 the SASL library. Currently, support includes: KERBEROS_V4, GSSAPI,
-CRAM-MD5, DIGEST-MD5, OTP, PLAIN, and STARTTLS.
+ANONYMOUS, CRAM-MD5, DIGEST-MD5, LOGIN, NTLM, OTP, PASSDSS, PLAIN, SRP,
+and STARTTLS (via EXTERNAL).
 
 <p> The server supports imaps/pop3s/nntps (IMAP/POP3/NNTP encrypted using SSL).
 
 <p> The server makes an attempt to do single instance store where 
 possible when an email message is addressed to multiple recipients.
 
 <p>We current support the following IMAP capabilities:
 <tt>
 IMAP4 IMAP4rev1 ACL RIGHTS=kxte QUOTA LITERAL+ NAMESPACE UIDPLUS ID
 NO_ATOMIC_RENAME UNSELECT CHILDREN MULTIAPPEND SORT SORT=MODSEQ
@@ -100,21 +101,21 @@
 create personal mailboxes, and subscribe to mailboxes.  Deleting the
 mailbox "<tt>user.bovik</tt>" has the special-case side-effect of
 deleting all mailboxes starting with "<tt>user.bovik.</tt>" and of
 deleting the subscriptions for "<tt>bovik</tt>."
 
 <h2>Licensing Information</h2>
 
 The following copyright applies to the code:
 
 <pre>
- * Copyright (c) 1994-2008 Carnegie Mellon University.  All rights reserved.
+ * Copyright (c) 1994-2010 Carnegie Mellon University.  All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions
  * are met:
  *
  * 1. Redistributions of source code must retain the above copyright
  *    notice, this list of conditions and the following disclaimer.
  *
  * 2. Redistributions in binary form must reproduce the above copyright
  *    notice, this list of conditions and the following disclaimer in
