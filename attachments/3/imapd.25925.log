****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925 at Mon Jul 17 23:24:09 2000)
  * Purify 5.1 Solaris 2 (32-bit), Copyright (C) 1992-2000 Rational Software Corp. All rights reserved. 
  * For contact information type: "purify -help"
  * Command-line: \
    /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd 
  * Options settings: -purify -best-effort -logfile=/tmp/pure/%v.%p.log \
    -always_use_cache_dir -purify-home=/usr/local/lib/purify 
  * Purify licensed to CARNEGIE MELLON UNIVERSITY
  * Purify checking enabled.


****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	main           [service.c:136]
	_start         [crt1.o]
  * Reading 24 bytes from 0xffbef590 on the stack (4 bytes at 0xffbef590 uninit).
  * Address 0xffbef590 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	main           [service.c:201]
	_start         [crt1.o]
  * Reading 24 bytes from 0xffbef590 on the stack (4 bytes at 0xffbef590 uninit).
  * Address 0xffbef590 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	auth_newstate  [auth_krb_pts.c:496]
	mysasl_authproc [imapd.c:287]
	sasl_server_step [db_berkeley.c]
  * Reading 24 bytes from 0xffbecc70 on the stack (4 bytes at 0xffbecc70 uninit).
  * Address 0xffbecc70 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	auth_newstate  [auth_krb_pts.c:496]
	mysasl_authproc [imapd.c:305]
	sasl_server_step [db_berkeley.c]
  * Reading 24 bytes from 0xffbecc70 on the stack (4 bytes at 0xffbecc70 uninit).
  * Address 0xffbecc70 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	cmd_authenticate [imapd.c:1522]
	cmdloop        [imapd.c:653]
	service_main   [imapd.c:471]
  * Reading 24 bytes from 0xffbed710 on the stack (4 bytes at 0xffbed710 uninit).
  * Address 0xffbed710 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	find_cb        [mboxlist.c:1281]
	foreach        [cyrusdb_flat.c:331]
	mboxlist_findall [mboxlist.c:1435]
	cmd_list       [imapd.c:3371]
	cmdloop        [imapd.c:915]
	service_main   [imapd.c:471]
  * Reading 4 bytes from 0xffbee968 on the stack.
  * Address 0xffbee968 is       24 bytes past start of local variable "cbrock" in function mboxlist_findall.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	des_pcbc_encrypt [pcbc_enc.c]
	encrypt_ktext  [encrypt_ktext.c]
	krb_mk_req     [mk_req.c]
	get_ad_tkt     [get_ad_tkt.c]
	krb_mk_req     [mk_req.c]
	client_continue_step [kerberos4.c]
  * Reading 1 byte from 0xffbe7a0a on the stack.
  * Address 0xffbe7a0a is     1222 bytes below frame pointer in function krb_mk_req.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	des_pcbc_encrypt [pcbc_enc.c]
	encrypt_ktext  [encrypt_ktext.c]
	krb_mk_req     [mk_req.c]
	get_ad_tkt     [get_ad_tkt.c]
	krb_mk_req     [mk_req.c]
	client_continue_step [kerberos4.c]
  * Reading 1 byte from 0xffbe7a0b on the stack.
  * Address 0xffbe7a0b is     1221 bytes below frame pointer in function krb_mk_req.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	des_pcbc_encrypt [pcbc_enc.c]
	encrypt_ktext  [encrypt_ktext.c]
	krb_mk_req     [mk_req.c]
	client_continue_step [kerberos4.c]
	sasl_client_step [db_berkeley.c]
	acap_auth_step [acap.c:333]
  * Reading 1 byte from 0xffbe96a2 on the stack.
  * Address 0xffbe96a2 is     1222 bytes below frame pointer in function krb_mk_req.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	des_pcbc_encrypt [pcbc_enc.c]
	encrypt_ktext  [encrypt_ktext.c]
	krb_mk_req     [mk_req.c]
	client_continue_step [kerberos4.c]
	sasl_client_step [db_berkeley.c]
	acap_auth_step [acap.c:333]
  * Reading 1 byte from 0xffbe96a3 on the stack.
  * Address 0xffbe96a3 is     1221 bytes below frame pointer in function krb_mk_req.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	acapmbox_get_handle [acapmbox.c:211]
	mboxlist_renamemailbox [mboxlist.c:948]
	cmd_rename     [imapd.c:3222]
  * Reading 24 bytes from 0xffbea578 on the stack (4 bytes at 0xffbea578 uninit).
  * Address 0xffbea578 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	acapmbox_store [acapmbox.c:394]
	acapmbox_create [acapmbox.c:429]
	mboxlist_renamemailbox [mboxlist.c:952]
  * Reading 24 bytes from 0xffbe7c88 on the stack (4 bytes at 0xffbe7c88 uninit).
  * Address 0xffbe7c88 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	mystore        [cyrusdb_flat.c:439]
	delete         [cyrusdb_flat.c:493]
	mboxlist_renamemailbox [mboxlist.c:963]
	cmd_rename     [imapd.c:3222]
	cmdloop        [imapd.c:1025]
	service_main   [imapd.c:471]
  * Reading 4 bytes from 0x2e2574 in the heap.
  * Address 0x2e2574 is 4 bytes into a malloc'd block at 0x2e2570 of 8 bytes.
  * This block was allocated from:
	malloc         [rtlib.o]
	xmalloc        [xmalloc.c:56]
	starttxn_or_refetch [cyrusdb_flat.c:200]
	fetchlock      [cyrusdb_flat.c:255]
	mboxlist_mylookup [mboxlist.c:189]
	mboxlist_renamemailbox [mboxlist.c:860]

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	mailbox_write_index_header [mailbox.c:1088]
	mailbox_create [mailbox.c:1936]
	mailbox_rename [mailbox.c:2072]
  * Reading 24 bytes from 0xffbe73c8 on the stack (4 bytes at 0xffbe73c8 uninit).
  * Address 0xffbe73c8 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	_putmsg        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	mailbox_write_index_header [mailbox.c:1088]
	mailbox_rename [mailbox.c:2142]
	mboxlist_renamemailbox [mboxlist.c:1003]
  * Reading 24 bytes from 0xffbe8548 on the stack (4 bytes at 0xffbe8548 uninit).
  * Address 0xffbe8548 is      528 bytes below frame pointer in function vsyslog.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	find_cb        [mboxlist.c:1281]
	foreach        [cyrusdb_flat.c:331]
	mboxlist_findall [mboxlist.c:1435]
	cmd_rename     [imapd.c:3242]
	cmdloop        [imapd.c:1025]
	service_main   [imapd.c:471]
  * Reading 4 bytes from 0xffbee588 on the stack.
  * Address 0xffbee588 is       24 bytes past start of local variable "cbrock" in function mboxlist_findall.

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
UMR: Uninitialized memory read:
  * This is occurring while in:
	mystore        [cyrusdb_flat.c:439]
	delete         [cyrusdb_flat.c:493]
	mboxlist_renamemailbox [mboxlist.c:963]
	cmd_rename     [imapd.c:3254]
	cmdloop        [imapd.c:1025]
	service_main   [imapd.c:471]
  * Reading 4 bytes from 0x311a94 in the heap.
  * Address 0x311a94 is 4 bytes into a malloc'd block at 0x311a90 of 8 bytes.
  * This block was allocated from:
	malloc         [rtlib.o]
	xmalloc        [xmalloc.c:56]
	starttxn_or_refetch [cyrusdb_flat.c:200]
	fetchlock      [cyrusdb_flat.c:255]
	mboxlist_mylookup [mboxlist.c:189]
	mboxlist_renamemailbox [mboxlist.c:860]

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
Current file descriptors in use: 15
FIU: file descriptor 0: <accepted socket>, O_RDWR
   * Duplication of file descriptor 11.
   * This file descriptor was allocated from:
	__fcntl        [libc.so.1]
	s_fcntl        [libc.so.1]
	main           [service.c:204]
	_start         [crt1.o]
FIU: file descriptor 1: <accepted socket>, O_RDWR
   * Duplication of file descriptor 11.
   * This file descriptor was allocated from:
	__fcntl        [libc.so.1]
	s_fcntl        [libc.so.1]
	main           [service.c:209]
	_start         [crt1.o]
FIU: file descriptor 2: <accepted socket>, O_RDWR
   * Duplication of file descriptor 11.
   * This file descriptor was allocated from:
	__fcntl        [libc.so.1]
	s_fcntl        [libc.so.1]
	main           [service.c:214]
	_start         [crt1.o]
FIU: file descriptor 3: <inherited from parent>
FIU: file descriptor 4: <inherited from parent>
FIU: file descriptor 6: <inherited from parent>
FIU: file descriptor 7: <inherited from parent>
FIU: file descriptor 8: <inherited from parent>
FIU: file descriptor 9: "/etc/.syslog_door", O_RDONLY
   * File info: srw-rw-rw-  0 root     Bwheel           0 Jul 17 23:24
   * This file descriptor was allocated from:
	__open         [libc.so.1]
	_open          [libc.so.1]
	syslogd_ok     [syslog.c]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	main           [service.c:136]
FIU: file descriptor 10: <unknown>
FIU: file descriptor 11: "/etc/.name_service_door", O_RDONLY
   * File info: ?r--r--r--  1 root     Bwheel           0 Mar 15 12:16
   * This file descriptor was allocated from:
	__open64       [libc.so.1]
	_open64        [libc.so.1]
	_nsc_trydoorcall [libc.so.1]
	_door_gethostbyaddr_r [gethostby_door.c]
	_get_hostserv_inetnetdir_byaddr [netdir_inet.c]
	gethostbyaddr_r [gethostbyname_r.c]
FIU: file descriptor 12: "/dev/conslog", O_WRONLY
   * File info: crw-rw-rw-  1 root     sys              0 Jul 17 23:23
   * File position: 0
   * This file descriptor was allocated from:
	__open         [libc.so.1]
	_open          [libc.so.1]
	openlog        [libc.so.1]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	main           [service.c:201]
FIU: file descriptor 14: "/etc/.syslog_door", O_RDONLY
   * File info: srw-rw-rw-  0 root     Bwheel           0 Jul 17 23:36
   * This file descriptor was allocated from:
	__open         [libc.so.1]
	_open          [libc.so.1]
	syslogd_ok     [syslog.c]
	vsyslog        [libc.so.1]
	syslog         [libc.so.1]
	cmd_authenticate [imapd.c:1522]
FIU: file descriptor 26: <reserved for Purify internal use>
FIU: file descriptor 27: <reserved for Purify internal use>

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
Purify: Searching for all memory leaks...

Memory leaked: 181056 bytes (83.1%); potentially leaked: 5192 bytes (2.38%)

MLK: 176120 bytes leaked in 170 blocks
  * This memory was allocated from:
	malloc         [rtlib.o]
	getvalstr      [acap.c:1100]
	getattr        [acap.c:1211]
	get_entry      [acap.c:1291]
	process_atom   [acap.c:1662]
	acap_process_line [acap.c:1853]
  * Block of 1036 bytes (170 times); last block at 0x31e7e8

MLK: 2796 bytes leaked in 175 blocks
  * This memory was allocated from:
	malloc         [rtlib.o]
	strdup         [libc.so.1]
	getattr        [acap.c:853]
	get_entry      [acap.c:1291]
	process_atom   [acap.c:1662]
	acap_process_line [acap.c:1853]
  * Block of 20 bytes (43 times); last block at 0x314cd0
  * Block of 17 bytes (22 times); last block at 0x3176d0
  * Block of 16 bytes (44 times); last block at 0x31cea0
  * Block of 14 bytes (22 times); last block at 0x307998
  * Block of 13 bytes (22 times); last block at 0x312650
  * Block of 12 bytes (22 times); last block at 0x314dc8

MLK: 2100 bytes leaked in 175 blocks
  * This memory was allocated from:
	malloc         [rtlib.o]
	getattr        [acap.c:850]
	get_entry      [acap.c:1291]
	process_atom   [acap.c:1662]
	acap_process_line [acap.c:1853]
	acap_process_on_command [acap.c:1901]
  * Block of 12 bytes (175 times); last block at 0x317670

MLK: 24 bytes leaked at 0x2d6078
  * This memory was allocated from:
	malloc         [rtlib.o]
	xstrdup        [xmalloc.c:56]
	myopen         [cyrusdb_flat.c:166]
	mboxlist_open  [mboxlist.c:1663]
	service_init   [imapd.c:368]
	main           [service.c:158]

MLK: 16 bytes leaked in 2 blocks
  * This memory was allocated from:
	malloc         [rtlib.o]
	xmalloc        [xmalloc.c:56]
	starttxn_or_refetch [cyrusdb_flat.c:200]
	fetch          [cyrusdb_flat.c:255]
	mboxlist_mylookup [mboxlist.c:191]
	find_cb        [mboxlist.c:266]
  * Block of 8 bytes (2 times); last block at 0x317ab8

PLK: 5180 bytes potentially leaked in 5 blocks
  * This memory was allocated from:
	malloc         [rtlib.o]
	getvalstr      [acap.c:1100]
	getattr        [acap.c:1211]
	get_entry      [acap.c:1291]
	process_atom   [acap.c:1662]
	acap_process_line [acap.c:1853]
  * Block of 1036 bytes (5 times); last block at 0x312fd0

PLK: 12 bytes potentially leaked at 0x2e1730
  * This memory was allocated from:
	malloc         [rtlib.o]
	getattr        [acap.c:850]
	get_entry      [acap.c:1291]
	process_atom   [acap.c:1662]
	acap_process_line [acap.c:1853]
	acap_process_on_command [acap.c:1901]

Purify Heap Analysis (combining suppressed and unsuppressed blocks)
                         Blocks        Bytes
              Leaked        523       181056
  Potentially Leaked          6         5192
              In-Use        268        31688
  ----------------------------------------
     Total Allocated        797       217936

****  Purify instrumented /afs/andrew.cmu.edu/system/dest/sun4x_57/local/cyrus/038/usr/cyrus/bin/imapd (pid 25925)  ****
  * Program exited with status code 0.
  * 17 access errors, 115 total occurrences.
  * 181056 bytes leaked.
  * 5192 bytes potentially leaked.
  * Basic memory usage (including Purify overhead):
    2634859 code
    186332 data/bss
    376832 heap (peak use)
    5624 stack
  * Shared library memory usage (including Purify overhead):
    1456 libpure_solaris2_init.so.1 (shared code)
    252 libpure_solaris2_init.so.1 (private data)
    142576 libsasl.so.7_pure_p3_c0_510_57_32 (shared code)
    2780 libsasl.so.7_pure_p3_c0_510_57_32 (private data)
    2356 libdl.so.1_pure_p3_c0_510_57_32 (shared code)
    4 libdl.so.1_pure_p3_c0_510_57_32 (private data)
    224151 libkrb.so_pure_p3_c0_510_57_32 (shared code)
    19172 libkrb.so_pure_p3_c0_510_57_32 (private data)
    220532 libresolv.so.2_pure_p3_c0_510_57_32 (shared code)
    13304 libresolv.so.2_pure_p3_c0_510_57_32 (private data)
    1649078 libdb-3.0.so_pure_p3_c0_510_57_32 (shared code)
    13232 libdb-3.0.so_pure_p3_c0_510_57_32 (private data)
    196385 libdes.so_pure_p3_c0_510_57_32 (shared code)
    2654 libdes.so_pure_p3_c0_510_57_32 (private data)
    43798 libsocket.so.1_pure_p3_c0_510_57_32 (shared code)
    4044 libsocket.so.1_pure_p3_c0_510_57_32 (private data)
    824142 libnsl.so.1_pure_p3_c0_510_57_32 (shared code)
    126680 libnsl.so.1_pure_p3_c0_510_57_32 (private data)
    10426 libcom_err.so.0_pure_p3_c0_510_57_32 (shared code)
    455 libcom_err.so.0_pure_p3_c0_510_57_32 (private data)
    1051888 libc.so.1_pure_p3_c0_510_57_32 (shared code)
    108032 libc.so.1_pure_p3_c0_510_57_32 (private data)
    13528 libinternal_stubs.so.1 (shared code)
    916 libinternal_stubs.so.1 (private data)
    30747 libpam.so.1_pure_p3_c0_510_57_32 (shared code)
    7312 libpam.so.1_pure_p3_c0_510_57_32 (private data)
    16644 libmp.so.2_pure_p3_c0_510_57_32 (shared code)
    852 libmp.so.2_pure_p3_c0_510_57_32 (private data)
    14284 libc_psr.so.1_pure_p3_c0_510_57_32 (shared code)
    0 libc_psr.so.1_pure_p3_c0_510_57_32 (private data)
    33084 libkerberos4.so_pure_p3_c0_510_57_32 (shared code)
    704 libkerberos4.so_pure_p3_c0_510_57_32 (private data)
    15562 libplain.so_pure_p3_c0_510_57_32 (shared code)
    448 libplain.so_pure_p3_c0_510_57_32 (private data)
    9622 libanonymous.so_pure_p3_c0_510_57_32 (shared code)
    424 libanonymous.so_pure_p3_c0_510_57_32 (private data)
    30907 libgssapiv2.so_pure_p3_c0_510_57_32 (shared code)
    872 libgssapiv2.so_pure_p3_c0_510_57_32 (private data)
    184627 libgssapi_krb5.so.2_pure_p3_c0_510_57_32 (shared code)
    3564 libgssapi_krb5.so.2_pure_p3_c0_510_57_32 (private data)
    844863 libkrb5.so.2_pure_p3_c0_510_57_32 (shared code)
    15440 libkrb5.so.2_pure_p3_c0_510_57_32 (private data)
    144017 libk5crypto.so.2_pure_p3_c0_510_57_32 (shared code)
    5232 libk5crypto.so.2_pure_p3_c0_510_57_32 (private data)
    8014 libcom_err.so.3_pure_p3_c0_510_57_32 (shared code)
    510 libcom_err.so.3_pure_p3_c0_510_57_32 (private data)
    33941 libgen.so.1_pure_p3_c0_510_57_32 (shared code)
    2332 libgen.so.1_pure_p3_c0_510_57_32 (private data)
    21094 nss_files.so.1_pure_p3_c0_510_57_32 (shared code)
    1252 nss_files.so.1_pure_p3_c0_510_57_32 (private data)

